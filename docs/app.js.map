{"version":3,"sources":["node_modules/curvature/base/Bag.js","node_modules/curvature/base/Bindable.js","node_modules/curvature/base/Cache.js","node_modules/curvature/base/Dom.js","node_modules/curvature/base/Model.js","node_modules/curvature/base/Repository.js","node_modules/curvature/base/Router.js","node_modules/curvature/base/RuleSet.js","node_modules/curvature/base/Tag.js","node_modules/curvature/base/View.js","node_modules/curvature/base/ViewList.js","node_modules/curvature/form/ButtonField.js","node_modules/curvature/form/Field.js","node_modules/curvature/form/FieldSet.js","node_modules/curvature/form/Form.js","node_modules/curvature/form/HiddenField.js","node_modules/curvature/form/HtmlField.js","node_modules/curvature/form/RadioField.js","node_modules/curvature/form/SelectField.js","node_modules/curvature/form/TextareaField.js","node_modules/curvature/form/multiField/CreateForm.js","node_modules/curvature/form/multiField/FormWrapper.js","node_modules/curvature/form/multiField/SearchForm.js","node_modules/curvature/form/multiField/View.js","node_modules/curvature/form/multiField/Wrapper.js","node_modules/curvature/toast/Toast.js","node_modules/curvature/toast/ToastAlert.js","app/Config.js","app/Rak.js","app/RemoteFile.js","app/classpage/View.js","app/classpage/view.tmp.html","app/initialize.js","app/layout/Home.js","app/layout/Info.js","app/layout/Loader.js","app/layout/View.js","app/layout/WhatsThis.js","app/layout/home.tmp.html","app/layout/info.tmp.html","app/layout/view.tmp.html","app/layout/whats-this.tmp.html","app/menu/View.js","app/menu/view.tmp.html","app/modal/Modal.js","app/modal/View.js","app/modal/modal.tmp.html","app/modal/view.tmp.html","node_modules/auto-reload-brunch/vendor/auto-reload.js"],"names":["Config","project","version","title","source","sourceRoot","repository","tagline","copyright","author","homeLinks","github","packagist","pages","template","icon","link","readme","license","Rak","options","url","delim","remote","RemoteFile","readBytes","then","byte","encoding","fetchInit","chunk","index","done","Promise","resolve","Uint8Array","length","reader","fetch","response","body","getReader","r","read","value","total","found","buffer","getBytes","readChunk","start","end","slice","set","newline","terminated","i","splice","decoder","TextDecoder","decode","bytes","callback","accumulator","undefined","amount","readLine","line","setTimeout","readLines","View","args","require","classname","bindTo","v","encodedName","encodeURIComponent","encodedParent","lines","Object","assign","notes","rawTags","expanded","processDocComment","JSON","stringify","tags","methodCount","keys","m","method","getVisibilityIcon","scopeIcon","getScopeIcon","refIcon","getRefIcon","parameterCount","parameters","p","param","defaultString","hasDefault","default","doc","inherited","overriden","overrides","class","encodedClass","propertyCount","property","constantCount","c","constant","valuedString","valueString","name","file","classes","k","classList","values","filter","x","join","wait","string","raw","replace","trim","split","map","l","summaryLine","summaryLines","shift","push","summary","bodyLines","tagLines","match","tag","obj","reference","static","public","protected","private","event","section","preventDefault","expand","collapse","BaseView","document","addEventListener","menu","MenuView","layout","LayoutView","json","parse","docs","catch","console","log","error","finally","Router","listen","queryOver","q","RuleSet","add","apply","Home","links","Info","loader","Loader","onTimeout","modals","ModalView","get","content","sync","t","d","prop","templates","routes","loadTemplatePage","page","loadClassPage","false","setStatusCode","location","pathname","menuActive","offsetWidth","activate","deactivate","code","metaStatus","head","querySelector","httpEquiv","setAttribute","decodeURIComponent","pathparts","ClassPage","debind","dump","contentTag","findTag","scrollTo","top","activeElement","blur","onRemove","accept","pageKey","Repository","request","withCredentials","responseType","headers","view","deactivateMenu","message","WhatsThis","prefix","active","filteredClasses","classBank","loaded","showClassname","setQuery","RegExp","sort","a","b","localeCompare","clickedClass","stopPropagation","go","input","encodeURI","Modal","instance","WebSocket","window","MozWebSocket","br","brunch","ar","disabled","_ar","cacheBuster","date","Math","round","Date","now","toString","indexOf","browser","navigator","userAgent","toLowerCase","forceRepaint","reloaders","reload","stylesheet","call","querySelectorAll","val","getAttribute","href","forEach","offsetHeight","javascript","scripts","textScripts","script","text","srcScripts","src","all","onLoad","eval","remove","newScript","createElement","async","onload","appendChild","port","host","server","hostname","connect","connection","onmessage","data","reloader","onerror","readyState","close","onclose"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7iBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7bA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC92DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;IC5EaA,M,WAAAA,M;;;;AAEbA,OAAOC,OAAP,GAAiB,OAAjB;AACAD,OAAOE,OAAP,GAAiB,OAAjB;AACAF,OAAOG,KAAP,GAAiB,+BAAjB;AACAH,OAAOI,MAAP,GAAiB,wBAAjB;;AAEAJ,OAAOK,UAAP,GAAoB,kDAApB;AACAL,OAAOM,UAAP,GAAoB,kBAApB;AACAN,OAAOO,OAAP,GAAoB,wBAApB;;AAEAP,OAAOQ,SAAP,GAAoB,kBAApB;AACAR,OAAOS,MAAP,GAAoB,aAApB;;AAEAT,OAAOU,SAAP,GAAoB;AACnBC,SAAa,qCADM;AAEjBC,YAAW;AAFM,CAApB;;AAKA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEAZ,OAAOa,KAAP,GAAe;;AAEd,SAAQ;AACPC,4BADO;AAELC,QAAQ,WAFH;AAGLC,QAAQ;AAHH,EAFM;;AAQZC,SAAQ;AACTH,8CAA0Cd,OAAOM,UAAjD,wBADS;AAEPS,QAAQ;AA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","file":"public/app.js","sourcesContent":["\nrequire.register(\"curvature/base/Bag.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Bag = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Bag = /*#__PURE__*/function () {\n  function Bag() {\n    var changeCallback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n    _classCallCheck(this, Bag);\n\n    this.meta = Symbol('meta');\n    this.content = new Set();\n    this._items = false;\n    this.changeCallback = changeCallback;\n  }\n\n  _createClass(Bag, [{\n    key: \"add\",\n    value: function add(item) {\n      if (item === undefined || !(item instanceof Object)) {\n        throw new Error('Only objects may be added to Bags.');\n      }\n\n      if (this.content.has(item)) {\n        return;\n      }\n\n      this.content.add(item);\n\n      if (this.changeCallback) {\n        this.changeCallback(item, this.meta, 1);\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      if (item === undefined || !(item instanceof Object)) {\n        throw new Error('Only objects may be removed from Bags.');\n      }\n\n      if (!this.content.has(item)) {\n        if (this.changeCallback) {\n          this.changeCallback(undefined, this.meta, 0);\n        }\n\n        return false;\n      }\n\n      this.content[\"delete\"](item);\n\n      if (this.changeCallback) {\n        this.changeCallback(item, this.meta, -1);\n      }\n\n      return item;\n    }\n  }, {\n    key: \"items\",\n    value: function items() {\n      return Array.from(this.content.entries()).map(function (entry) {\n        return entry[0];\n      });\n    }\n  }]);\n\n  return Bag;\n}();\n\nexports.Bag = Bag;\n  })();\n});","\nrequire.register(\"curvature/base/Bindable.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Bindable = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Bindable = /*#__PURE__*/function () {\n  function Bindable() {\n    _classCallCheck(this, Bindable);\n  }\n\n  _createClass(Bindable, null, [{\n    key: \"isBindable\",\n    value: function isBindable(object) {\n      if (!object.___binding___) {\n        return false;\n      }\n\n      return object.___binding___ === Bindable;\n    }\n  }, {\n    key: \"makeBindable\",\n    value: function makeBindable(object) {\n      var _this = this;\n\n      if (!object || !(object instanceof Object) || object.___binding___ || object instanceof Node || object instanceof IntersectionObserver || Object.isSealed(object) || !Object.isExtensible(object)) {\n        return object;\n      }\n\n      Object.defineProperty(object, '___ref___', {\n        enumerable: false,\n        writable: true\n      });\n      Object.defineProperty(object, 'bindTo', {\n        enumerable: false,\n        writable: true\n      });\n      Object.defineProperty(object, 'isBound', {\n        enumerable: false,\n        writable: true\n      });\n      Object.defineProperty(object, '___deck___', {\n        enumerable: false,\n        writable: false,\n        value: {}\n      });\n      Object.defineProperty(object, '___binding___', {\n        enumerable: false,\n        writable: true\n      });\n      Object.defineProperty(object, '___bindingAll___', {\n        enumerable: false,\n        writable: true\n      });\n      Object.defineProperty(object, '___isBindable___', {\n        enumerable: false,\n        writable: true\n      });\n      Object.defineProperty(object, '___executing___', {\n        enumerable: false,\n        writable: true\n      });\n      Object.defineProperty(object, '___stack___', {\n        enumerable: false,\n        writable: true\n      });\n      Object.defineProperty(object, '___stackTime___', {\n        enumerable: false,\n        writable: true\n      });\n      Object.defineProperty(object, '___before___', {\n        enumerable: false,\n        writable: true\n      });\n      Object.defineProperty(object, '___after___', {\n        enumerable: false,\n        writable: true\n      });\n      Object.defineProperty(object, '___setCount___', {\n        enumerable: false,\n        writable: true\n      });\n      Object.defineProperty(object, '___wrapped___', {\n        enumerable: false,\n        writable: true\n      });\n      Object.defineProperty(object, '___object___', {\n        enumerable: false,\n        writable: false,\n        value: object\n      });\n      object.___isBindable___ = Bindable;\n      object.___wrapped___ = {};\n      object.___binding___ = {};\n      object.___bindingAll___ = [];\n      object.___stack___ = [];\n      object.___stackTime___ = [];\n      object.___before___ = [];\n      object.___after___ = [];\n      object.___setCount___ = {};\n\n      var bindTo = function bindTo(property) {\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        var bindToAll = false;\n\n        if (property instanceof Function) {\n          options = callback || {};\n          callback = property;\n          bindToAll = true;\n        }\n\n        if (options.delay >= 0) {\n          callback = _this.wrapDelayCallback(callback, options.delay);\n        }\n\n        if (options.throttle >= 0) {\n          callback = _this.wrapThrottleCallback(callback, options.throttle);\n        }\n\n        if (options.wait >= 0) {\n          callback = _this.wrapWaitCallback(callback, options.wait);\n        }\n\n        if (options.frame) {\n          callback = _this.wrapFrameCallback(callback);\n        }\n\n        if (bindToAll) {\n          var _bindIndex = object.___bindingAll___.length;\n\n          object.___bindingAll___.push(callback);\n\n          for (var i in object) {\n            callback(object[i], i, object, false);\n          }\n\n          return function () {\n            object.___bindingAll___[_bindIndex] = null;\n          };\n        }\n\n        if (!object.___binding___[property]) {\n          object.___binding___[property] = [];\n        }\n\n        var bindIndex = object.___binding___[property].length;\n\n        object.___binding___[property].push(callback);\n\n        callback(object[property], property, object, false);\n        var cleaned = false;\n        return function () {\n          if (cleaned) {\n            return;\n          }\n\n          cleaned = true;\n\n          if (!object.___binding___[property]) {\n            return;\n          }\n\n          delete object.___binding___[property][bindIndex];\n        };\n      };\n\n      var ___before = function ___before(callback) {\n        var beforeIndex = object.___before___.length;\n\n        object.___before___.push(callback);\n\n        var cleaned = false;\n        return function () {\n          if (cleaned) {\n            return;\n          }\n\n          cleaned = true;\n          delete object.___before___[beforeIndex];\n        };\n      };\n\n      var ___after = function ___after(callback) {\n        var afterIndex = object.___after___.length;\n\n        object.___after___.push(callback);\n\n        var cleaned = false;\n        return function () {\n          if (cleaned) {\n            return;\n          }\n\n          cleaned = true;\n          delete object.___after___[afterIndex];\n        };\n      };\n\n      Object.defineProperty(object, 'bindTo', {\n        enumerable: false,\n        writable: false,\n        value: bindTo\n      });\n      Object.defineProperty(object, 'bindChain', {\n        enumerable: false,\n        writable: false,\n        value: function value(path, callback) {\n          var parts = path.split('.');\n          var node = parts.shift();\n          var subParts = parts.slice(0);\n          var debind = [];\n          debind.push(object.bindTo(node, function (v, k, t, d) {\n            var rest = subParts.join('.');\n\n            if (subParts.length === 0) {\n              callback(v, k, t, d);\n              return;\n            }\n\n            if (v === undefined) {\n              v = t[k] = _this.makeBindable({});\n            }\n\n            debind = debind.concat(v.bindChain(rest, callback));\n          })); // console.log(debind);\n\n          return function () {\n            return debind.map(function (x) {\n              return x();\n            });\n          };\n        }\n      });\n      Object.defineProperty(object, '___before', {\n        enumerable: false,\n        writable: false,\n        value: ___before\n      });\n      Object.defineProperty(object, '___after', {\n        enumerable: false,\n        writable: false,\n        value: ___after\n      });\n\n      var isBound = function isBound() {\n        for (var i in object.___bindingAll___) {\n          if (object.___bindingAll___[i]) {\n            return true;\n          }\n        }\n\n        for (var _i in object.___binding___) {\n          for (var j in object.___binding___[_i]) {\n            if (object.___binding___[_i][j]) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      };\n\n      Object.defineProperty(object, 'isBound', {\n        enumerable: false,\n        writable: false,\n        value: isBound\n      });\n\n      for (var i in object) {\n        if (object[i] && object[i] instanceof Object && !object[i] instanceof Node && !object[i] instanceof Promise) {\n          object[i] = Bindable.makeBindable(object[i]);\n        }\n      }\n\n      var set = function set(target, key, value) {\n        if (object.___deck___[key] === value) {\n          return true;\n        }\n\n        if (typeof key === 'string' && key.substring(0, 3) === '___' && key.slice(-3) === '___') {\n          return true;\n        }\n\n        if (target[key] === value) {\n          return true;\n        }\n\n        if (value && value instanceof Object && !(value instanceof Node)) {\n          if (value.___isBindable___ !== Bindable) {\n            value = Bindable.makeBindable(value);\n\n            if (_this.isBindable(value)) {\n              for (var _i2 in value) {\n                if (value[_i2] && value[_i2] instanceof Object) {\n                  value[_i2] = Bindable.makeBindable(value[_i2]);\n                }\n              }\n            }\n          }\n        }\n\n        object.___deck___[key] = value;\n\n        for (var _i3 in object.___bindingAll___) {\n          if (!object.___bindingAll___[_i3]) {\n            continue;\n          }\n\n          object.___bindingAll___[_i3](value, key, target, false);\n        }\n\n        var stop = false;\n\n        if (key in object.___binding___) {\n          for (var _i4 in object.___binding___[key]) {\n            if (!object.___binding___[key]) {\n              continue;\n            }\n\n            if (!object.___binding___[key][_i4]) {\n              continue;\n            }\n\n            if (object.___binding___[key][_i4](value, key, target, false, target[key]) === false) {\n              stop = true;\n            }\n          }\n        }\n\n        delete object.___deck___[key];\n\n        if (!stop) {\n          var descriptor = Object.getOwnPropertyDescriptor(target, key);\n          var excluded = target instanceof File && key == 'lastModifiedDate';\n\n          if (!excluded && (!descriptor || descriptor.writable) && target[key] === value) {\n            target[key] = value;\n          }\n        } // if (!target.___setCount___[key]) {\n        // \ttarget.___setCount___[key] = 0;\n        // }\n        // target.___setCount___[key]++;\n        // const warnOn = 10;\n        // if (target.___setCount___[key] > warnOn && value instanceof Object) {\n        // console.log(\n        //     'Warning: Resetting bindable reference \"' +\n        //     key +\n        //     '\" to object ' +\n        //     target.___setCount___[key] +\n        //     ' times.'\n        // );\n        // }\n\n\n        return Reflect.set(target, key, value);\n      };\n\n      var del = function del(target, key) {\n        if (!(key in target)) {\n          return true;\n        }\n\n        for (var _i5 in object.___bindingAll___) {\n          object.___bindingAll___[_i5](undefined, key, target, true, target[key]);\n        }\n\n        if (key in object.___binding___) {\n          for (var _i6 in object.___binding___[key]) {\n            if (!object.___binding___[key][_i6]) {\n              continue;\n            }\n\n            object.___binding___[key][_i6](undefined, key, target, true, target[key]);\n          }\n        }\n\n        if (Array.isArray(target)) {\n          console.log(key);\n          delete target[key];\n        } else {\n          delete target[key];\n        }\n\n        return true;\n      };\n\n      var get = function get(target, key) {\n        if (target[key] instanceof Function) {\n          if (target.___wrapped___[key]) {\n            return target.___wrapped___[key];\n          }\n\n          var descriptor = Object.getOwnPropertyDescriptor(object, key);\n\n          if (descriptor && !descriptor.configurable && !descriptor.writable) {\n            target.___wrapped___[key] = target[key];\n            return target.___wrapped___[key];\n          }\n\n          target.___wrapped___[key] = function () {\n            target.___executing___ = key;\n\n            target.___stack___.unshift(key); // target.___stackTime___.unshift((new Date).getTime());\n            // console.log(`Start ${key}()`);\n\n\n            for (var _i7 in target.___before___) {\n              target.___before___[_i7](target, key, object);\n            }\n\n            var objRef = object instanceof Promise ? object : object.___ref___;\n\n            for (var _len = arguments.length, providedArgs = new Array(_len), _key = 0; _key < _len; _key++) {\n              providedArgs[_key] = arguments[_key];\n            }\n\n            var ret = target[key].apply(objRef, providedArgs);\n\n            for (var _i8 in target.___after___) {\n              target.___after___[_i8](target, key, object);\n            }\n\n            target.___executing___ = null; // let execTime = (new Date).getTime() - target.___stackTime___[0];\n            // if (execTime > 150) {\n            //     // console.log(`End ${key}(), took ${execTime} ms`);\n            // }\n\n            target.___stack___.shift(); // target.___stackTime___.shift();\n\n\n            return ret;\n          };\n\n          return target.___wrapped___[key];\n        }\n\n        if (target[key] instanceof Object) {\n          Bindable.makeBindable(target[key]);\n        } // console.log(`Getting ${key}`);\n\n\n        return target[key];\n      };\n\n      object.___ref___ = new Proxy(object, {\n        deleteProperty: del,\n        get: get,\n        set: set\n      });\n      return object.___ref___;\n    }\n  }, {\n    key: \"clearBindings\",\n    value: function clearBindings(object) {\n      object.___wrapped___ = {};\n      object.___bindingAll___ = [];\n      object.___binding___ = {};\n      object.___before___ = [];\n      object.___after___ = [];\n      object.___ref___ = {}; // object.toString         = ()=>'{}';\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(object, path) {\n      var owner = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      // console.log(path, object);\n      var node;\n      var pathParts = path.split('.');\n      var top = pathParts[0];\n\n      while (pathParts.length) {\n        if (owner && pathParts.length === 1) {\n          var obj = this.makeBindable(object);\n          return [obj, pathParts.shift(), top];\n        }\n\n        node = pathParts.shift();\n\n        if (!node in object || !object[node] || !(object[node] instanceof Object)) {\n          object[node] = {};\n        }\n\n        object = this.makeBindable(object[node]);\n      }\n\n      return [this.makeBindable(object), node, top];\n    }\n  }, {\n    key: \"wrapDelayCallback\",\n    value: function wrapDelayCallback(callback, delay) {\n      return function (v, k, t, d) {\n        setTimeout(function () {\n          return callback(v, k, t, d, t[k]);\n        }, delay);\n      };\n    }\n  }, {\n    key: \"wrapThrottleCallback\",\n    value: function wrapThrottleCallback(callback, throttle) {\n      return function (callback) {\n        var throttle = false;\n        return function (v, k, t, d) {\n          if (throttle) {\n            return;\n          }\n\n          callback(v, k, t, d, t[k]);\n          throttle = true;\n          setTimeout(function () {\n            throttle = false;\n          }, throttle);\n        };\n      }(callback);\n    }\n  }, {\n    key: \"wrapWaitCallback\",\n    value: function wrapWaitCallback(callback, wait) {\n      var waiter = false;\n      return function (v, k, t, d) {\n        if (waiter) {\n          clearTimeout(waiter);\n          waiter = false;\n        }\n\n        waiter = setTimeout(function () {\n          return callback(v, k, t, d, t[k]);\n        }, wait);\n      };\n    }\n  }, {\n    key: \"wrapFrameCallback\",\n    value: function wrapFrameCallback(callback) {\n      return function (v, k, t, d, p) {\n        window.requestAnimationFrame(function () {\n          return callback(v, k, t, d, p);\n        });\n      };\n    }\n  }]);\n\n  return Bindable;\n}();\n\nexports.Bindable = Bindable;\n  })();\n});","\nrequire.register(\"curvature/base/Cache.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Cache = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Cache = /*#__PURE__*/function () {\n  function Cache() {\n    _classCallCheck(this, Cache);\n  }\n\n  _createClass(Cache, null, [{\n    key: \"store\",\n    value: function store(key, value, expiry) {\n      var bucket = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'standard';\n      var expiration = 0;\n\n      if (expiry) {\n        expiration = expiry * 1000 + new Date().getTime();\n      } // console.log(\n      // \t`Caching ${key} until ${expiration} in ${bucket}.`\n      // \t, value\n      // \t, this.bucket\n      // );\n\n\n      if (!this.bucket) {\n        this.bucket = {};\n      }\n\n      if (!this.bucket[bucket]) {\n        this.bucket[bucket] = {};\n      }\n\n      this.bucket[bucket][key] = {\n        expiration: expiration,\n        value: value\n      };\n    }\n  }, {\n    key: \"load\",\n    value: function load(key) {\n      var defaultvalue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var bucket = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'standard';\n\n      // console.log(\n      // \t`Checking cache for ${key} in ${bucket}.`\n      // \t, this.bucket\n      // );\n      if (this.bucket && this.bucket[bucket] && this.bucket[bucket][key]) {\n        // console.log(this.bucket[bucket][key].expiration, (new Date).getTime());\n        if (this.bucket[bucket][key].expiration == 0 || this.bucket[bucket][key].expiration > new Date().getTime()) {\n          return this.bucket[bucket][key].value;\n        }\n      }\n\n      return defaultvalue;\n    }\n  }]);\n\n  return Cache;\n}();\n\nexports.Cache = Cache;\n  })();\n});","\nrequire.register(\"curvature/base/Dom.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Dom = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar traversals = 0;\n\nvar Dom = /*#__PURE__*/function () {\n  function Dom() {\n    _classCallCheck(this, Dom);\n  }\n\n  _createClass(Dom, null, [{\n    key: \"mapTags\",\n    value: function mapTags(doc, selector, callback, startNode, endNode) {\n      var result = [];\n      var started = true;\n\n      if (startNode) {\n        started = false;\n      }\n\n      var ended = false;\n      var treeWalker = document.createTreeWalker(doc, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT, {\n        acceptNode: function acceptNode(node, walker) {\n          if (!started) {\n            if (node === startNode) {\n              started = true;\n            } else {\n              return NodeFilter.FILTER_SKIP;\n            }\n          }\n\n          if (endNode && node === endNode) {\n            ended = true;\n          }\n\n          if (ended) {\n            return NodeFilter.FILTER_SKIP;\n          }\n\n          if (selector) {\n            if (node instanceof Element) {\n              if (node.matches(selector)) {\n                return NodeFilter.FILTER_ACCEPT;\n              }\n            }\n\n            return NodeFilter.FILTER_SKIP;\n          }\n\n          return NodeFilter.FILTER_ACCEPT;\n        }\n      }, false);\n      var traversal = traversals++;\n\n      while (treeWalker.nextNode()) {\n        result.push(callback(treeWalker.currentNode, treeWalker));\n      }\n\n      return result;\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(doc, event) {\n      doc.dispatchEvent(event);\n      Dom.mapTags(doc, false, function (node) {\n        node.dispatchEvent(event);\n      });\n    }\n  }]);\n\n  return Dom;\n}();\n\nexports.Dom = Dom;\n  })();\n});","\nrequire.register(\"curvature/base/Model.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Model = void 0;\n\nvar _Cache = require(\"./Cache\");\n\nvar _Bindable = require(\"./Bindable\");\n\nvar _Repository = require(\"./Repository\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Model = /*#__PURE__*/function () {\n  function Model(repository) {\n    _classCallCheck(this, Model);\n\n    this.repository = repository;\n  }\n\n  _createClass(Model, [{\n    key: \"consume\",\n    value: function consume(values) {\n      for (var property in values) {\n        var value = values[property];\n\n        if (values[property] instanceof Object && values[property][\"class\"] && values[property].publicId) {\n          var cacheKey = \"\".concat(values[property][\"class\"], \"::\").concat(values[property].publidId);\n\n          var cached = _Cache.Cache.load(cacheKey, false, 'model-type-repo');\n\n          value = _Bindable.Bindable.makeBindable(new Model(this.repository));\n\n          if (cached) {\n            value = cached;\n          }\n\n          value.consume(values[property]);\n\n          _Cache.Cache.store(cacheKey, value, 0, 'model-type-repo');\n        }\n\n        this[property] = value;\n      }\n    }\n  }]);\n\n  return Model;\n}();\n\nexports.Model = Model;\n  })();\n});","\nrequire.register(\"curvature/base/Repository.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Repository = void 0;\n\nvar _Bindable = require(\"./Bindable\");\n\nvar _Router = require(\"./Router\");\n\nvar _Cache = require(\"./Cache\");\n\nvar _Model = require(\"./Model\");\n\nvar _Bag = require(\"./Bag\");\n\nvar _Form = require(\"../form/Form\");\n\nvar _FormWrapper = require(\"../form/multiField/FormWrapper\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar objects = {};\n\nvar Repository = /*#__PURE__*/function () {\n  function Repository(uri) {\n    _classCallCheck(this, Repository);\n\n    this.uri = uri;\n  }\n\n  _createClass(Repository, [{\n    key: \"get\",\n    value: function get(id) {\n      var _this = this;\n\n      var refresh = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var args = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var resourceUri = this.uri + '/' + id;\n\n      var cached = _Cache.Cache.load(resourceUri + _Router.Router.queryToString(_Router.Router.queryOver(args), true), false, 'model-uri-repo');\n\n      if (!refresh && cached) {\n        return Promise.resolve(cached);\n      }\n\n      return Repository.request(resourceUri, args).then(function (response) {\n        return _this.extractModel(response.body);\n      });\n    }\n  }, {\n    key: \"page\",\n    value: function page() {\n      var _this2 = this;\n\n      var _page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      var args = arguments.length > 1 ? arguments[1] : undefined;\n      return Repository.request(this.uri, args).then(function (response) {\n        var records = [];\n\n        for (var i in response.body) {\n          var record = response.body[i];\n          records.push(_this2.extractModel(record));\n        }\n\n        response.body = records;\n        return response;\n      });\n    }\n  }, {\n    key: \"edit\",\n    value: function edit() {\n      var publicId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var customFields = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var resourceUri = this.uri + '/create';\n\n      if (publicId) {\n        resourceUri = this.uri + '/' + publicId + '/edit';\n      } // console.log(resourceUri);\n\n\n      if (!data) {\n        return Repository.request(resourceUri).then(function (response) {\n          var form = new _Form.Form(response.meta.form, customFields); // let model = this.extractModel(response.body);\n\n          return new _FormWrapper.FormWrapper(form, resourceUri, 'POST', customFields);\n        });\n      } else {\n        return Repository.request(resourceUri, {\n          api: 'json'\n        }, data).then(function (response) {\n          return response.body;\n        });\n      }\n    }\n  }, {\n    key: \"extractModel\",\n    value: function extractModel(rawData) {\n      var model = _Bindable.Bindable.makeBindable(new _Model.Model(this));\n\n      model.consume(rawData);\n      var resourceUri = this.uri + '/' + model.publicId; // Cache.store(\n      // \tresourceUri\n      // \t, model\n      // \t, 10\n      // \t, 'model-uri-repo'\n      // );\n\n      if (model[\"class\"]) {\n        var cacheKey = \"\".concat(model[\"class\"], \"::\").concat(model.publidId);\n\n        var cached = _Cache.Cache.load(cacheKey, false, 'model-type-repo'); // if(cached)\n        // {\n        // \tcached.consume(rawData);\n        // \treturn cached;\n        // }\n        // Cache.store(\n        // \tcacheKey\n        // \t, model\n        // \t, 10\n        // \t, 'model-type-repo'\n        // );\n\n      }\n\n      return model;\n    } // static get xhrs(){\n    // \treturn this.xhrs = this.xhrs || [];\n    // }\n\n  }], [{\n    key: \"loadPage\",\n    value: function loadPage() {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var refresh = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      return this.request(this.uri, args).then(function (response) {\n        return response; // return response.map((skeleton) => new Model(skeleton));\n      });\n    }\n  }, {\n    key: \"domCache\",\n    value: function domCache(uri, content) {// console.log(uri, content);\n    }\n  }, {\n    key: \"load\",\n    value: function load(id) {\n      var refresh = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      this.objects = this.objects || {};\n      this.objects[this.uri] = this.objects[this.uri] || {};\n\n      if (this.objects[this.uri][id]) {\n        return Promise.resolve(this.objects[this.uri][id]);\n      }\n\n      return this.request(this.uri + '/' + id).then(function (response) {// let model = new Model(response);\n        // return this.objects[this.uri][id] = model;\n      });\n    }\n  }, {\n    key: \"form\",\n    value: function form() {\n      var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var uri = this.uri + '/' + 'create';\n\n      if (id) {\n        uri = this.uri + '/' + id + '/edit';\n      }\n\n      return this.request(uri).then(function (skeleton) {\n        return skeleton;\n      });\n    }\n  }, {\n    key: \"clearCache\",\n    value: function clearCache() {\n      if (this.objects && this.objects[this.uri]) {\n        this.objects[this.uri] = {};\n      }\n    }\n  }, {\n    key: \"encode\",\n    value: function encode(obj) {\n      var namespace = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var formData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      if (!formData) {\n        formData = new FormData();\n      }\n\n      for (var i in obj) {\n        var ns = i;\n\n        if (namespace) {\n          ns = \"\".concat(namespace, \"[\").concat(ns, \"]\");\n        }\n\n        if (obj[i] && _typeof(obj[i]) !== 'object') {\n          formData.append(ns, obj[i]);\n        } else {\n          this.encode(obj[i], ns, formData);\n        }\n      }\n\n      return formData;\n    }\n  }, {\n    key: \"onResponse\",\n    value: function onResponse(callback) {\n      if (!this._onResponse) {\n        this._onResponse = new _Bag.Bag();\n      }\n\n      return this._onResponse.add(callback);\n    }\n  }, {\n    key: \"request\",\n    value: function request(uri) {\n      var _this3 = this;\n\n      var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var post = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var cache = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n      var type = 'GET';\n      var queryString = '';\n      var formData = null;\n      var queryArgs = {};\n\n      if (args) {\n        queryArgs = args;\n      }\n\n      if (!this._onResponse) {\n        this._onResponse = new _Bag.Bag();\n      }\n\n      if (!this.runningRequests) {\n        this.runningRequests = {};\n      }\n\n      queryArgs.api = queryArgs.api || 'json';\n      queryString = Object.keys(queryArgs).map(function (arg) {\n        return encodeURIComponent(arg) + '=' + encodeURIComponent(queryArgs[arg]);\n      }).join('&');\n      var fullUri = uri; // let postString = '';\n\n      fullUri = uri + '?' + queryString;\n\n      if (!post && this.runningRequests[fullUri]) {\n        return this.runningRequests[fullUri];\n      }\n\n      if (post) {\n        cache = false;\n        type = 'POST';\n\n        if (post instanceof FormData) {\n          formData = post;\n        } else {\n          formData = this.encode(post);\n        } // postString = Object.keys(post).map((arg) => {\n        // \treturn encodeURIComponent(arg)\n        // \t+ '='\n        // \t+ encodeURIComponent(post[arg])\n        // }).join('&');\n\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      if ('responseType' in options) {\n        xhr.responseType = options.responseType;\n      }\n\n      if (!post && cache && this.cache && this.cache[fullUri]) {\n        return Promise.resolve(this.cache[fullUri]);\n      }\n\n      var tagCacheSelector = 'script[data-uri=\"' + fullUri + '\"]';\n      var tagCache = document.querySelector(tagCacheSelector);\n\n      if (!post && cache && tagCache) {\n        var tagCacheContent = JSON.parse(tagCache.innerText);\n        return Promise.resolve(tagCacheContent);\n      }\n\n      xhr.withCredentials = 'withCredentials' in options ? options.withCredentials : true;\n      var link = document.createElement(\"a\");\n      link.href = fullUri;\n\n      if (!post) {\n        xhr.timeout = options.timeout || 15000;\n        this.xhrs[fullUri] = xhr;\n      }\n\n      var reqPromise = new Promise(function (resolve, reject) {\n        if (post) {\n          if ('progressUp' in options) {\n            xhr.upload.onprogress = options.progressUp;\n          }\n        }\n\n        if ('progressDown' in options) {\n          xhr.onprogress = options.progressDown;\n        }\n\n        xhr.onreadystatechange = function () {\n          var DONE = 4;\n          var OK = 200;\n          var response;\n\n          if (xhr.readyState === DONE) {\n            delete _this3.xhrs[fullUri];\n            delete _this3.runningRequests[fullUri];\n\n            if (!_this3.cache) {\n              _this3.cache = {};\n            }\n\n            if (xhr.getResponseHeader(\"Content-Type\") == 'application/json' || xhr.getResponseHeader(\"Content-Type\") == 'application/json; charset=utf-8' || xhr.getResponseHeader(\"Content-Type\") == 'text/json' || xhr.getResponseHeader(\"Content-Type\") == 'text/json; charset=utf-8') {\n              response = JSON.parse(xhr.responseText);\n\n              if (response && response.code == 0) {\n                // Repository.lastResponse = response;\n                if (!post && cache) {// this.cache[fullUri] = response;\n                }\n\n                var _tagCache = document.querySelector('script[data-uri=\"' + fullUri + '\"]');\n\n                var prerendering = window.prerenderer;\n\n                if (prerendering) {\n                  if (!_tagCache) {\n                    _tagCache = document.createElement('script');\n                    _tagCache.type = 'text/json';\n\n                    _tagCache.setAttribute('data-uri', fullUri);\n\n                    document.head.appendChild(_tagCache);\n                  } // console.log(JSON.stringify(response));\n\n\n                  _tagCache.innerText = JSON.stringify(response);\n                }\n\n                var onResponse = _this3._onResponse.items();\n\n                for (var i in onResponse) {\n                  onResponse[i](response, true);\n                }\n\n                response._http = xhr.status;\n\n                if (xhr.status === OK) {\n                  resolve(response);\n                } else {\n                  reject(response);\n                }\n              } else {\n                if (!post && cache) {// this.cache[fullUri] = response;\n                }\n\n                var _onResponse = _this3._onResponse.items();\n\n                for (var _i in _onResponse) {\n                  _onResponse[_i](response, true);\n                }\n\n                reject(response);\n              }\n            } else {\n              // Repository.lastResponse = xhr.responseText;\n              if (!post && cache) {// this.cache[fullUri] = xhr.responseText;\n              }\n\n              var _onResponse2 = _this3._onResponse.items();\n\n              for (var _i2 in _onResponse2) {\n                _onResponse2[_i2](xhr, true);\n              }\n\n              if (xhr.status === OK) {\n                resolve(xhr);\n              } else {\n                reject(xhr);\n              }\n            }\n          }\n        };\n\n        xhr.open(type, fullUri, true);\n\n        if (options.headers) {\n          for (var header in options.headers) {\n            xhr.setRequestHeader(header, options.headers[header]);\n          }\n        }\n\n        xhr.send(formData);\n      });\n\n      if (!post) {\n        this.runningRequests[fullUri] = reqPromise;\n      }\n\n      return reqPromise;\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      var regex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : /^.$/;\n\n      for (var i in this.xhrs) {\n        if (!this.xhrs[i]) {\n          continue;\n        }\n\n        if (i.match(regex)) {\n          this.xhrs[i].abort();\n          delete this.xhrs[i];\n        }\n      } // this.xhrs = [];\n\n    }\n  }]);\n\n  return Repository;\n}();\n\nexports.Repository = Repository;\nRepository.xhrs = []; // Repository.lastResponse = null;\n  })();\n});","\nrequire.register(\"curvature/base/Router.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Router = void 0;\n\nvar _View = require(\"./View\");\n\nvar _Cache = require(\"./Cache\");\n\nvar _Config = require(\"Config\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Router = /*#__PURE__*/function () {\n  function Router() {\n    _classCallCheck(this, Router);\n  }\n\n  _createClass(Router, null, [{\n    key: \"wait\",\n    value: function wait(view) {\n      var _this = this;\n\n      var event = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'DOMContentLoaded';\n      var node = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document;\n      node.addEventListener(event, function () {\n        _this.listen(view);\n      });\n    }\n  }, {\n    key: \"listen\",\n    value: function listen(mainView) {\n      var _this2 = this;\n\n      var routeHistory = [location.toString()];\n      var prevHistoryLength = history.length;\n      var route = location.pathname + location.search;\n\n      if (location.hash) {\n        route += location.hash;\n      }\n\n      window.addEventListener('popstate', function (event) {\n        event.preventDefault();\n\n        if (routeHistory.length && prevHistoryLength == history.length) {\n          if (location.toString() == routeHistory[routeHistory.length - 2]) {\n            routeHistory.pop();\n          } else {\n            routeHistory.push(location.toString());\n          }\n        } else {\n          routeHistory.push(location.toString());\n          prevHistoryLength = history.length;\n        }\n\n        _this2.match(location.pathname, mainView);\n\n        for (var i in _this2.query) {\n          delete _this2.query[i];\n        }\n\n        Object.assign(Router.query, Router.queryOver({}));\n      });\n      this.go(route);\n    }\n  }, {\n    key: \"go\",\n    value: function go(route, silent) {\n      var _this3 = this;\n\n      document.title = _Config.Config.title;\n      setTimeout(function () {\n        if (silent === 2) {\n          history.replaceState(null, null, route);\n        } else {\n          history.pushState(null, null, route);\n        }\n\n        if (!silent) {\n          if (silent === false) {\n            _this3.path = null;\n          }\n\n          window.dispatchEvent(new Event('popstate'));\n\n          if (route.substring(0, 1) === '#') {\n            window.dispatchEvent(new HashChangeEvent('hashchange'));\n          }\n        }\n\n        for (var i in _this3.query) {\n          delete _this3.query[i];\n        }\n\n        Object.assign(Router.query, Router.queryOver({}));\n      }, 0);\n    }\n  }, {\n    key: \"match\",\n    value: function match(path, view) {\n      var _this4 = this;\n\n      var forceRefresh = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (this.path === path && !forceRefresh) {\n        return;\n      }\n\n      var eventStart = new CustomEvent('cvRouteStart', {\n        cancelable: true,\n        detail: {\n          result: result,\n          path: path,\n          view: view\n        }\n      });\n      var current = view.args.content;\n      var routes = view.routes;\n      this.path = path; // this.query  = {};\n\n      for (var i in this.query) {\n        delete this.query[i];\n      }\n\n      var query = new URLSearchParams(location.search);\n      this.queryString = location.search;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = query[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var pair = _step.value;\n          this.query[pair[0]] = pair[1];\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var args = {},\n          selected = false,\n          result = '';\n      path = path.substr(1).split('/');\n\n      for (var _i in this.query) {\n        args[_i] = this.query[_i];\n      }\n\n      L1: for (var _i2 in routes) {\n        var route = _i2.split('/');\n\n        if (route.length < path.length && route[route.length - 1] !== '*') {\n          continue;\n        }\n\n        L2: for (var j in route) {\n          if (route[j].substr(0, 1) == '%') {\n            var argName = null;\n            var groups = /^%(\\w+)\\??/.exec(route[j]);\n\n            if (groups && groups[1]) {\n              argName = groups[1];\n            }\n\n            if (!argName) {\n              throw new Error(\"\".concat(route[j], \" is not a valid argument segment in route \\\"\").concat(_i2, \"\\\"\"));\n            }\n\n            if (!path[j]) {\n              if (route[j].substr(route[j].length - 1, 1) == '?') {\n                args[argName] = '';\n              } else {\n                continue L1;\n              }\n            } else {\n              args[argName] = path[j];\n            }\n          } else if (route[j] !== '*' && path[j] !== route[j]) {\n            continue L1;\n          }\n        }\n\n        if (!forceRefresh && current && routes[_i2] instanceof Object && current instanceof routes[_i2] && !(routes[_i2] instanceof Promise) && current.update(args)) {\n          view.args.content = current;\n          return true;\n        }\n\n        selected = _i2;\n        result = routes[_i2];\n\n        if (route[route.length - 1] === '*') {\n          args.pathparts = path.slice(route.length - 1);\n        }\n\n        break;\n      }\n\n      document.dispatchEvent(eventStart);\n\n      if (selected in routes && routes[selected] instanceof Object && routes[selected].isView && routes[selected].isView()) {\n        result = new routes[selected](args);\n\n        result.root = function () {\n          return view;\n        };\n      } else if (routes[selected] instanceof Function) {\n        result = '';\n\n        var _result = routes[selected](args);\n\n        if (_result instanceof Promise) {\n          result = false;\n\n          _result.then(function (x) {\n            _this4.update(view, path, x);\n          })[\"catch\"](function (x) {\n            _this4.update(view, path, x);\n          });\n        } else {\n          result = _result;\n        }\n      } else if (routes[selected] instanceof Promise) {\n        result = false;\n        routes[selected].then(function (x) {\n          _this4.update(view, path, x);\n        })[\"catch\"](function (x) {\n          _this4.update(view, path, x);\n        });\n      } else if (routes[selected] instanceof Object) {\n        result = new routes[selected](args);\n      } else if (typeof routes[selected] == 'string') {\n        result = routes[selected];\n      }\n\n      this.update(view, path, result); // if(view.args.content instanceof View)\n      // {\n      // \t// view.args.content.pause(true);\n      // \tview.args.content.remove();\n      // }\n      // if(result !== false)\n      // {\n      // \tif(document.dispatchEvent(event))\n      // \t{\n      // \t\tview.args.content = result;\n      // \t}\n      // }\n\n      if (result instanceof _View.View) {\n        result.pause(false);\n        result.update(args, forceRefresh);\n      }\n\n      return selected !== false;\n    }\n  }, {\n    key: \"update\",\n    value: function update(view, path, result) {\n      var event = new CustomEvent('cvRoute', {\n        cancelable: true,\n        detail: {\n          result: result,\n          path: path,\n          view: view\n        }\n      });\n      var eventEnd = new CustomEvent('cvRouteEnd', {\n        cancelable: true,\n        detail: {\n          result: result,\n          path: path,\n          view: view\n        }\n      });\n\n      if (result !== false) {\n        if (view.args.content instanceof _View.View) {\n          // view.args.content.pause(true);\n          view.args.content.remove();\n        }\n\n        if (document.dispatchEvent(event)) {\n          view.args.content = result;\n        }\n\n        document.dispatchEvent(eventEnd);\n      }\n    }\n  }, {\n    key: \"clearCache\",\n    value: function clearCache() {// this.cache = {};\n    }\n  }, {\n    key: \"queryOver\",\n    value: function queryOver() {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var params = new URLSearchParams(location.search);\n      var finalArgs = {};\n      var query = [];\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = params[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var pair = _step2.value;\n          query[pair[0]] = pair[1];\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      for (var i in query) {\n        finalArgs[i] = query[i];\n      }\n\n      for (var _i3 in args) {\n        finalArgs[_i3] = args[_i3];\n      }\n\n      delete finalArgs['api'];\n      return finalArgs;\n    }\n  }, {\n    key: \"queryToString\",\n    value: function queryToString() {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var fresh = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var parts = [],\n          finalArgs = args;\n\n      if (!fresh) {\n        finalArgs = this.queryOver(args);\n      }\n\n      for (var i in finalArgs) {\n        if (finalArgs[i] === '') {\n          continue;\n        }\n\n        parts.push(i + '=' + encodeURIComponent(finalArgs[i]));\n      }\n\n      return parts.join('&');\n    }\n  }, {\n    key: \"setQuery\",\n    value: function setQuery(name, value, silent) {\n      var args = this.queryOver();\n      args[name] = value;\n\n      if (value === undefined) {\n        delete args[name];\n      }\n\n      var queryString = this.queryToString(args, true);\n      this.go(this.path + (queryString ? '?' + queryString : ''), silent);\n    }\n  }]);\n\n  return Router;\n}();\n\nexports.Router = Router;\nObject.defineProperty(Router, 'query', {\n  configurable: false,\n  writeable: false,\n  value: {}\n});\n  })();\n});","\nrequire.register(\"curvature/base/RuleSet.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RuleSet = void 0;\n\nvar _Dom = require(\"./Dom\");\n\nvar _Tag = require(\"./Tag\");\n\nvar _View = require(\"./View\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar RuleSet = /*#__PURE__*/function () {\n  function RuleSet() {\n    _classCallCheck(this, RuleSet);\n  }\n\n  _createClass(RuleSet, [{\n    key: \"add\",\n    value: function add(selector, callback) {\n      this.rules = this.rules || {};\n      this.rules[selector] = this.rules[selector] || [];\n      this.rules[selector].push(callback);\n      return this;\n    }\n  }, {\n    key: \"apply\",\n    value: function apply() {\n      var doc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n      var view = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      RuleSet.apply(doc, view);\n\n      for (var selector in this.rules) {\n        for (var i in this.rules[selector]) {\n          var callback = this.rules[selector][i];\n          var wrapped = RuleSet.wrap(doc, callback, view);\n          var nodes = doc.querySelectorAll(selector);\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var node = _step.value;\n              wrapped(node);\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n                _iterator[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n        }\n      }\n    }\n  }], [{\n    key: \"add\",\n    value: function add(selector, callback) {\n      this.globalRules = this.globalRules || {};\n      this.globalRules[selector] = this.globalRules[selector] || [];\n      this.globalRules[selector].push(callback);\n      return this;\n    }\n  }, {\n    key: \"apply\",\n    value: function apply() {\n      var doc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n      var view = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      for (var selector in this.globalRules) {\n        for (var i in this.globalRules[selector]) {\n          var callback = this.globalRules[selector][i];\n          var wrapped = this.wrap(doc, callback, view);\n          var nodes = doc.querySelectorAll(selector);\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = nodes[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var node = _step2.value;\n              wrapped(node);\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n                _iterator2[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"wait\",\n    value: function wait() {\n      var _this = this;\n\n      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'DOMContentLoaded';\n      var node = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n      var listener = function (event, node) {\n        return function () {\n          node.removeEventListener(event, listener);\n          return _this.apply();\n        };\n      }(event, node);\n\n      node.addEventListener(event, listener);\n    }\n  }, {\n    key: \"wrap\",\n    value: function wrap(doc, callback) {\n      var view = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      if (callback instanceof _View.View || callback && callback.prototype && callback.prototype instanceof _View.View) {\n        callback = function (callback) {\n          return function () {\n            return callback;\n          };\n        }(callback);\n      }\n\n      return function (element) {\n        if (!element.___cvApplied___) {\n          Object.defineProperty(element, '___cvApplied___', {\n            enumerable: false,\n            writable: true\n          });\n          element.___cvApplied___ = [];\n        }\n\n        for (var i in element.___cvApplied___) {\n          if (callback == element.___cvApplied___[i]) {\n            return;\n          }\n        }\n\n        var direct, parentView;\n\n        if (view) {\n          direct = parentView = view;\n\n          if (view.viewList) {\n            parentView = view.viewList.parent;\n          }\n        }\n\n        var tag = new _Tag.Tag(element, parentView, null, undefined, direct);\n        var parent = tag.element.parentNode;\n        var sibling = tag.element.nextSibling;\n        var result = callback(tag);\n\n        if (result !== false) {\n          element.___cvApplied___.push(callback);\n        }\n\n        if (result instanceof HTMLElement) {\n          result = new _Tag.Tag(result);\n        }\n\n        if (result instanceof _Tag.Tag) {\n          if (!result.element.contains(tag.element)) {\n            while (tag.element.firstChild) {\n              result.element.appendChild(tag.element.firstChild);\n            }\n\n            tag.remove();\n          }\n\n          if (sibling) {\n            parent.insertBefore(result.element, sibling);\n          } else {\n            parent.appendChild(result.element);\n          }\n        }\n\n        if (result && result.prototype && result.prototype instanceof _View.View) {\n          result = new result();\n        }\n\n        if (result instanceof _View.View) {\n          if (view) {\n            view.cleanup.push(function (r) {\n              return function () {\n                r.remove();\n              };\n            }(result));\n            result.parent = view;\n            view.cleanup.push(view.args.bindTo(function (v, k, t) {\n              t[k] = v;\n              result.args[k] = v;\n            }));\n            view.cleanup.push(result.args.bindTo(function (v, k, t, d) {\n              t[k] = v;\n              view.args[k] = v;\n            }));\n          }\n\n          tag.clear();\n          result.render(tag.element);\n        }\n      };\n    }\n  }]);\n\n  return RuleSet;\n}();\n\nexports.RuleSet = RuleSet;\n  })();\n});","\nrequire.register(\"curvature/base/Tag.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Tag = void 0;\n\nvar _Bindable = require(\"./Bindable\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Tag = /*#__PURE__*/function () {\n  function Tag(element, parent, ref, index, direct) {\n    _classCallCheck(this, Tag);\n\n    this.element = _Bindable.Bindable.makeBindable(element);\n    this.parent = parent;\n    this.direct = direct;\n    this.ref = ref;\n    this.index = index;\n    this.cleanup = [];\n    this.proxy = _Bindable.Bindable.makeBindable(this); // this.detachListener = (event) => {\n    // \treturn;\n    // \tif(event.target != this.element)\n    // \t{\n    // \t\treturn;\n    // \t}\n    // \tif(event.path[event.path.length -1] !== window)\n    // \t{\n    // \t\treturn;\n    // \t}\n    // \tthis.element.removeEventListener('cvDomDetached', this.detachListener);\n    // \tthis.remove();\n    // };\n    // this.element.addEventListener('cvDomDetached', this.detachListener);\n    // return this.proxy;\n  }\n\n  _createClass(Tag, [{\n    key: \"remove\",\n    value: function remove() {\n      _Bindable.Bindable.clearBindings(this);\n\n      var cleanup;\n\n      while (cleanup = this.cleanup.shift()) {\n        cleanup();\n      }\n\n      this.clear();\n\n      if (!this.element) {\n        return;\n      }\n\n      var detachEvent = new Event('cvDomDetached');\n      this.element.dispatchEvent(detachEvent);\n      this.element.remove();\n      this.element = this.ref = this.parent = null;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.element) {\n        return;\n      }\n\n      var detachEvent = new Event('cvDomDetached');\n\n      while (this.element.firstChild) {\n        this.element.firstChild.dispatchEvent(detachEvent);\n        this.element.removeChild(this.element.firstChild);\n      }\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var paused = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    }\n  }]);\n\n  return Tag;\n}();\n\nexports.Tag = Tag;\n  })();\n});","\nrequire.register(\"curvature/base/View.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.View = void 0;\n\nvar _Bindable = require(\"./Bindable\");\n\nvar _ViewList = require(\"./ViewList\");\n\nvar _Router = require(\"./Router\");\n\nvar _Dom = require(\"./Dom\");\n\nvar _Tag = require(\"./Tag\");\n\nvar _Bag = require(\"./Bag\");\n\nvar _RuleSet = require(\"./RuleSet\");\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar moveIndex = 0;\n\nvar View = /*#__PURE__*/function () {\n  _createClass(View, [{\n    key: \"_id\",\n    get: function get() {\n      if (!this.__id) {\n        Object.defineProperty(this, '__id', {\n          configurable: false,\n          writable: false,\n          value: this.uuid()\n        });\n      }\n\n      return this.__id;\n    }\n  }]);\n\n  function View() {\n    var _this2 = this;\n\n    var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var mainView = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    _classCallCheck(this, View);\n\n    Object.defineProperty(this, '___VIEW___', {\n      enumerable: false,\n      writable: true\n    });\n    this.___VIEW___ = View;\n    Object.defineProperty(this, 'args', {\n      configurable: false,\n      writable: false,\n      value: _Bindable.Bindable.makeBindable(args)\n    });\n\n    var _this = this;\n\n    if (!this.args._id) {\n      Object.defineProperty(this.args, '_id', {\n        configurable: false,\n        get: function get() {\n          return _this._id;\n        }\n      });\n    }\n\n    this.template = \"\";\n    this.document = \"\";\n    this.firstNode = null;\n    this.lastNode = null;\n    this.nodes = null;\n    this.mainView = null;\n    this.cleanup = [];\n    this._onRemove = new _Bag.Bag(function (i, s, a) {// console.log('View _onRemove', i, s, a);\n    });\n    this.attach = [];\n    this.detach = [];\n    this.eventCleanup = [];\n    this.parent = null;\n    this.viewList = null;\n    this.viewLists = {};\n    this.withViews = {};\n    this.tags = {};\n    this.intervals = [];\n    this.timeouts = [];\n    this.frames = [];\n    this.ruleSet = new _RuleSet.RuleSet();\n    this.preRuleSet = new _RuleSet.RuleSet();\n    this.subBindings = {};\n    this.removed = false;\n    this.preserve = false;\n    this.interpolateRegex = /(\\[\\[((?:\\$+)?[\\w\\.\\|]+)\\]\\])/g;\n    this.rendered = new Promise(function (accept, reject) {\n      Object.defineProperty(_this2, 'renderComplete', {\n        configurable: false,\n        writable: false,\n        value: accept\n      });\n    });\n  }\n\n  _createClass(View, [{\n    key: \"onFrame\",\n    value: function onFrame(callback) {\n      var c = function c(timestamp) {\n        callback(timestamp);\n        window.requestAnimationFrame(c);\n      };\n\n      c();\n    }\n  }, {\n    key: \"onTimeout\",\n    value: function onTimeout(time, callback) {\n      var _this3 = this;\n\n      var wrappedCallback = function wrappedCallback() {\n        _this3.timeouts[index].fired = true;\n        _this3.timeouts[index].callback = null;\n        callback();\n      };\n\n      var timeout = setTimeout(wrappedCallback, time);\n      var index = this.timeouts.length;\n      this.timeouts.push({\n        timeout: timeout,\n        callback: wrappedCallback,\n        time: time,\n        fired: false,\n        created: new Date().getTime(),\n        paused: false\n      });\n      return timeout;\n    }\n  }, {\n    key: \"clearTimeout\",\n    value: function (_clearTimeout) {\n      function clearTimeout(_x) {\n        return _clearTimeout.apply(this, arguments);\n      }\n\n      clearTimeout.toString = function () {\n        return _clearTimeout.toString();\n      };\n\n      return clearTimeout;\n    }(function (timeout) {\n      for (var i in this.timeouts) {\n        if (timeout === this.timeouts[i].timeout) {\n          clearTimeout(this.timeouts[i].timeout);\n          delete this.timeouts[i];\n        }\n      }\n    })\n  }, {\n    key: \"onInterval\",\n    value: function onInterval(time, callback) {\n      var timeout = setInterval(callback, time);\n      this.intervals.push({\n        timeout: timeout,\n        callback: callback,\n        time: time,\n        paused: false\n      });\n      return timeout;\n    }\n  }, {\n    key: \"clearInterval\",\n    value: function (_clearInterval) {\n      function clearInterval(_x2) {\n        return _clearInterval.apply(this, arguments);\n      }\n\n      clearInterval.toString = function () {\n        return _clearInterval.toString();\n      };\n\n      return clearInterval;\n    }(function (timeout) {\n      for (var i in this.intervals) {\n        if (timeout === this.intervals[i].timeout) {\n          clearInterval(this.intervals[i].timeout);\n          delete this.intervals[i];\n        }\n      }\n    })\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var paused = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n      if (paused === undefined) {\n        this.paused = !this.paused;\n      }\n\n      this.paused = paused;\n\n      if (this.paused) {\n        for (var i in this.timeouts) {\n          if (this.timeouts[i].fired) {\n            delete this.timeouts[i];\n            continue;\n          }\n\n          clearTimeout(this.timeouts[i].timeout);\n        }\n\n        for (var _i in this.intervals) {\n          clearInterval(this.intervals[_i].timeout);\n        }\n      } else {\n        for (var _i2 in this.timeouts) {\n          if (!this.timeouts[_i2].timeout.paused) {\n            continue;\n          }\n\n          if (this.timeouts[_i2].fired) {\n            delete this.timeouts[_i2];\n            continue;\n          }\n\n          this.timeouts[_i2].timeout = setTimeout(this.timeouts[_i2].callback, this.timeouts[_i2].time);\n        }\n\n        for (var _i3 in this.intervals) {\n          if (!this.intervals[_i3].timeout.paused) {\n            continue;\n          }\n\n          this.intervals[_i3].timeout.paused = false;\n          this.intervals[_i3].timeout = setInterval(this.intervals[_i3].callback, this.intervals[_i3].time);\n        }\n      }\n\n      for (var _i4 in this.viewLists) {\n        if (!this.viewLists[_i4]) {\n          return;\n        }\n\n        this.viewLists[_i4].pause(!!paused);\n      }\n\n      for (var _i5 in this.tags) {\n        if (Array.isArray(this.tags[_i5])) {\n          for (var j in this.tags[_i5]) {\n            this.tags[_i5][j].pause(!!paused);\n          }\n\n          continue;\n        }\n\n        this.tags[_i5].pause(!!paused);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$nodes;\n\n      var parentNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var insertPoint = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (parentNode instanceof View) {\n        parentNode = parentNode.firstNode.parentNode;\n      }\n\n      if (insertPoint instanceof View) {\n        insertPoint = insertPoint.firstNode;\n      }\n\n      if (this.firstNode) {\n        return this.reRender(parentNode, insertPoint);\n      }\n\n      var templateParsed = this.template instanceof DocumentFragment ? this.template.cloneNode(true) : View.templates.has(this.template);\n      var subDoc = templateParsed ? this.template instanceof DocumentFragment ? templateParsed : View.templates.get(this.template).cloneNode(true) : document.createRange().createContextualFragment(this.template);\n\n      if (!templateParsed && !(this.template instanceof DocumentFragment)) {\n        View.templates.set(this.template, subDoc.cloneNode(true));\n      }\n\n      this.mainView || this.preRuleSet.apply(subDoc, this);\n      this.mapTags(subDoc);\n      this.mainView || this.ruleSet.apply(subDoc, this);\n      this.nodes = [];\n\n      if (window['devmode'] === true) {\n        this.firstNode = document.createComment(\"Template \".concat(this._id, \" Start\"));\n        this.lastNode = document.createComment(\"Template \".concat(this._id, \" End\"));\n      } else {\n        this.firstNode = document.createTextNode('');\n        this.lastNode = document.createTextNode('');\n      }\n\n      (_this$nodes = this.nodes).push.apply(_this$nodes, [this.firstNode].concat(_toConsumableArray(Array.from(subDoc.childNodes)), [this.lastNode]));\n\n      if (parentNode) {\n        var toRoot = false;\n        var moveType = 'internal';\n\n        if (parentNode.getRootNode() === document) {\n          toRoot = true;\n          moveType = 'external';\n        }\n\n        if (insertPoint) {\n          parentNode.insertBefore(this.firstNode, insertPoint);\n          parentNode.insertBefore(this.lastNode, insertPoint);\n        } else {\n          parentNode.appendChild(this.firstNode);\n          parentNode.appendChild(this.lastNode);\n        }\n\n        parentNode.insertBefore(subDoc, this.lastNode);\n        moveIndex++;\n\n        if (toRoot) {\n          for (var i in this.attach) {\n            this.attach[i]();\n          }\n\n          this.nodes.filter(function (n) {\n            return n.nodeType !== Node.COMMENT_NODE;\n          }).map(function (child) {\n            child.dispatchEvent(new Event('cvDomAttached', {\n              bubbles: true,\n              target: child\n            }));\n          });\n        }\n      }\n\n      this.renderComplete(this.nodes);\n      this.postRender(parentNode);\n      return this.nodes;\n    }\n  }, {\n    key: \"reRender\",\n    value: function reRender(parentNode, insertPoint) {\n      var subDoc = new DocumentFragment();\n\n      if (this.firstNode.getRootNode() === document) {\n        for (var i in this.detach) {\n          this.detach[i]();\n        }\n\n        this.nodes.filter(function (n) {\n          return n.nodeType === Node.ELEMENT_NODE;\n        }).map(function (child) {\n          child.dispatchEvent(new Event('cvDomDetached', {\n            bubbles: true,\n            target: child\n          }));\n        });\n      }\n\n      subDoc.append.apply(subDoc, _toConsumableArray(this.nodes)); // subDoc.appendChild(this.firstNode);\n      // subDoc.appendChild(this.lastNode);\n\n      if (parentNode) {\n        if (insertPoint) {\n          parentNode.insertBefore(this.firstNode, insertPoint);\n          parentNode.insertBefore(this.lastNode, insertPoint);\n        } else {\n          parentNode.appendChild(this.firstNode);\n          parentNode.appendChild(this.lastNode);\n        }\n\n        parentNode.insertBefore(subDoc, this.lastNode);\n\n        if (parentNode.getRootNode() === document) {\n          this.nodes.filter(function (n) {\n            return n.nodeType === Node.ELEMENT_NODE;\n          }).map(function (child) {\n            child.dispatchEvent(new Event('cvDomAttached', {\n              bubbles: true,\n              target: child\n            }));\n          });\n\n          for (var _i6 in this.attach) {\n            this.attach[_i6]();\n          }\n        }\n      }\n\n      return this.nodes;\n    }\n  }, {\n    key: \"mapTags\",\n    value: function mapTags(subDoc) {\n      var _this4 = this;\n\n      _Dom.Dom.mapTags(subDoc, false, function (tag, walker) {\n        if (tag.matches) {\n          tag = _this4.mapInterpolatableTag(tag);\n          tag = tag.matches('[cv-template]') && _this4.mapTemplateTag(tag) || tag;\n          tag = tag.matches('[cv-prerender]') && _this4.mapPrendererTag(tag) || tag;\n          tag = tag.matches('[cv-link]') && _this4.mapLinkTag(tag) || tag;\n          tag = tag.matches('[cv-attr]') && _this4.mapAttrTag(tag) || tag;\n          tag = tag.matches('[cv-expand]') && _this4.mapExpandableTag(tag) || tag;\n          tag = tag.matches('[cv-ref]') && _this4.mapRefTag(tag) || tag;\n          tag = tag.matches('[cv-on]') && _this4.mapOnTag(tag) || tag;\n          tag = tag.matches('[cv-each]') && _this4.mapEachTag(tag) || tag;\n          tag = tag.matches('[cv-bind]') && _this4.mapBindTag(tag) || tag;\n          tag = tag.matches('[cv-if]') && _this4.mapIfTag(tag) || tag;\n          tag = tag.matches('[cv-with]') && _this4.mapWithTag(tag) || tag;\n        } else {\n          tag = _this4.mapInterpolatableTag(tag);\n        }\n\n        if (tag !== walker.currentNode) {\n          walker.currentNode = tag;\n        }\n      });\n    }\n  }, {\n    key: \"mapExpandableTag\",\n    value: function mapExpandableTag(tag) {\n      var _this5 = this;\n\n      /*/\n      const tagCompiler = this.compileExpandableTag(tag);\n      \tconst newTag = tagCompiler(this);\n      \ttag.replaceWith(newTag);\n      \treturn newTag;\n      /*/\n      var expandProperty = tag.getAttribute('cv-expand');\n\n      var expandArg = _Bindable.Bindable.makeBindable(this.args[expandProperty] || {});\n\n      tag.removeAttribute('cv-expand');\n\n      var _loop = function _loop(i) {\n        if (i === 'name' || i === 'type') {\n          return \"continue\";\n        }\n\n        var debind = expandArg.bindTo(i, function (tag, i) {\n          return function (v) {\n            tag.setAttribute(i, v);\n          };\n        }(tag, i));\n\n        _this5.onRemove(function () {\n          debind();\n\n          if (expandArg.isBound()) {\n            _Bindable.Bindable.clearBindings(expandArg);\n          }\n        });\n      };\n\n      for (var i in expandArg) {\n        var _ret = _loop(i);\n\n        if (_ret === \"continue\") continue;\n      }\n\n      return tag; //*/\n    }\n  }, {\n    key: \"compileExpandableTag\",\n    value: function compileExpandableTag(sourceTag) {\n      return function (bindingView) {\n        var tag = sourceTag.cloneNode(true);\n        var expandProperty = tag.getAttribute('cv-expand');\n\n        var expandArg = _Bindable.Bindable.makeBindable(bindingView.args[expandProperty] || {});\n\n        tag.removeAttribute('cv-expand');\n\n        var _loop2 = function _loop2(i) {\n          if (i === 'name' || i === 'type') {\n            return \"continue\";\n          }\n\n          var debind = expandArg.bindTo(i, function (tag, i) {\n            return function (v) {\n              tag.setAttribute(i, v);\n            };\n          }(tag, i));\n          bindingView.onRemove(function () {\n            debind();\n\n            if (expandArg.isBound()) {\n              _Bindable.Bindable.clearBindings(expandArg);\n            }\n          });\n        };\n\n        for (var i in expandArg) {\n          var _ret2 = _loop2(i);\n\n          if (_ret2 === \"continue\") continue;\n        }\n\n        return tag;\n      };\n    }\n  }, {\n    key: \"mapAttrTag\",\n    value: function mapAttrTag(tag) {\n      //*/\n      var tagCompiler = this.compileAttrTag(tag);\n      var newTag = tagCompiler(this);\n      tag.replaceWith(newTag);\n      return newTag;\n      /*/\n      \tlet attrProperty = tag.getAttribute('cv-attr');\n      \ttag.removeAttribute('cv-attr');\n      \tlet pairs = attrProperty.split(',');\n      let attrs = pairs.map((p) => p.split(':'));\n      \tfor (let i in attrs)\n      {\n      \tlet proxy        = this.args;\n      \tlet bindProperty = attrs[i][1];\n      \tlet property     = bindProperty;\n      \t\tif(bindProperty.match(/\\./))\n      \t{\n      \t\t[proxy, property] = Bindable.resolve(\n      \t\t\tthis.args\n      \t\t\t, bindProperty\n      \t\t\t, true\n      \t\t);\n      \t}\n      \t\tlet attrib = attrs[i][0];\n      \t\tthis.onRemove(proxy.bindTo(\n      \t\tproperty\n      \t\t, (v)=>{\n      \t\t\tif(v == null)\n      \t\t\t{\n      \t\t\t\ttag.setAttribute(attrib, '');\n      \t\t\t\treturn;\n      \t\t\t}\n      \t\t\ttag.setAttribute(attrib, v);\n      \t\t}\n      \t));\n      }\n      \treturn tag;\n      \t//*/\n    }\n  }, {\n    key: \"compileAttrTag\",\n    value: function compileAttrTag(sourceTag) {\n      var attrProperty = sourceTag.getAttribute('cv-attr');\n      var pairs = attrProperty.split(',');\n      var attrs = pairs.map(function (p) {\n        return p.split(':');\n      });\n      sourceTag.removeAttribute('cv-attr');\n      return function (bindingView) {\n        var tag = sourceTag.cloneNode(true);\n\n        var _loop3 = function _loop3(i) {\n          var bindProperty = attrs[i][1];\n\n          var _Bindable$resolve = _Bindable.Bindable.resolve(bindingView.args, bindProperty, true),\n              _Bindable$resolve2 = _slicedToArray(_Bindable$resolve, 2),\n              proxy = _Bindable$resolve2[0],\n              property = _Bindable$resolve2[1];\n\n          var attrib = attrs[i][0];\n          bindingView.onRemove(proxy.bindTo(property, function (v) {\n            if (v == null) {\n              tag.setAttribute(attrib, '');\n              return;\n            }\n\n            tag.setAttribute(attrib, v);\n          }));\n        };\n\n        for (var i in attrs) {\n          _loop3(i);\n        }\n\n        return tag;\n      };\n    }\n  }, {\n    key: \"mapInterpolatableTag\",\n    value: function mapInterpolatableTag(tag) {\n      var _this6 = this;\n\n      var regex = this.interpolateRegex;\n\n      if (tag.nodeType === Node.TEXT_NODE) {\n        var original = tag.nodeValue;\n\n        if (!this.interpolatable(original)) {\n          return tag;\n        }\n\n        var header = 0;\n        var match;\n\n        var _loop4 = function _loop4() {\n          var bindProperty = match[2];\n          var unsafeHtml = false;\n          var unsafeView = false;\n          var propertySplit = bindProperty.split('|');\n          var transformer = false;\n\n          if (propertySplit.length > 1) {\n            transformer = _this6.stringTransformer(propertySplit.slice(1));\n            bindProperty = propertySplit[0];\n          }\n\n          if (bindProperty.substr(0, 2) === '$$') {\n            unsafeHtml = true;\n            unsafeView = true;\n            bindProperty = bindProperty.substr(2);\n          }\n\n          if (bindProperty.substr(0, 1) === '$') {\n            unsafeHtml = true;\n            bindProperty = bindProperty.substr(1);\n          }\n\n          if (bindProperty.substr(0, 3) === '000') {\n            expand = true;\n            bindProperty = bindProperty.substr(3);\n            return \"continue\";\n          }\n\n          var staticPrefix = original.substring(header, match.index);\n          header = match.index + match[1].length;\n          var staticNode = document.createTextNode(staticPrefix);\n          tag.parentNode.insertBefore(staticNode, tag);\n          var dynamicNode = void 0;\n\n          if (unsafeHtml) {\n            dynamicNode = document.createElement('div');\n          } else {\n            dynamicNode = document.createTextNode('');\n          }\n\n          var proxy = _this6.args;\n          var property = bindProperty;\n\n          if (bindProperty.match(/\\./)) {\n            var _Bindable$resolve3 = _Bindable.Bindable.resolve(_this6.args, bindProperty, true);\n\n            var _Bindable$resolve4 = _slicedToArray(_Bindable$resolve3, 2);\n\n            proxy = _Bindable$resolve4[0];\n            property = _Bindable$resolve4[1];\n          }\n\n          tag.parentNode.insertBefore(dynamicNode, tag);\n          var debind = proxy.bindTo(property, function (v, k, t) {\n            if (t[k] instanceof View && t[k] !== v) {\n              if (!t[k].preserve) {\n                t[k].remove();\n              }\n            }\n\n            dynamicNode.nodeValue = '';\n\n            if (unsafeView && !(v instanceof View)) {\n              var unsafeTemplate = v;\n              console.log(unsafeTemplate);\n              v = new View(_this6.args, _this6);\n              v.template = unsafeTemplate;\n            }\n\n            if (v instanceof View) {\n              v.render(tag.parentNode, dynamicNode);\n\n              var cleanup = function cleanup() {\n                if (!v.preserve) {\n                  v.remove();\n                }\n              };\n\n              _this6.onRemove(cleanup);\n\n              v.onRemove(function () {\n                return _this6._onRemove.remove(cleanup);\n              });\n            } else {\n              if (transformer) {\n                v = transformer(v);\n              }\n\n              if (v instanceof Object && v.__toString instanceof Function) {\n                v = v.__toString();\n              }\n\n              if (unsafeHtml) {\n                dynamicNode.innerHTML = v;\n              } else {\n                dynamicNode.nodeValue = v;\n              }\n            }\n          });\n\n          _this6.onRemove(function () {\n            debind();\n\n            if (!proxy.isBound()) {\n              _Bindable.Bindable.clearBindings(proxy);\n            }\n          });\n        };\n\n        while (match = regex.exec(original)) {\n          var _ret3 = _loop4();\n\n          if (_ret3 === \"continue\") continue;\n        }\n\n        var staticSuffix = original.substring(header);\n        var staticNode = document.createTextNode(staticSuffix);\n        tag.parentNode.insertBefore(staticNode, tag);\n        tag.nodeValue = '';\n      }\n\n      if (tag.nodeType === Node.ELEMENT_NODE) {\n        var _loop5 = function _loop5(i) {\n          if (!_this6.interpolatable(tag.attributes[i].value)) {\n            // console.log('!!', tag.attributes[i].value);\n            return \"continue\";\n          } // console.log(tag.attributes[i].value);\n\n\n          var header = 0;\n          var match = void 0;\n          var original = tag.attributes[i].value;\n          var attribute = tag.attributes[i];\n          var bindProperties = {};\n          var segments = [];\n\n          while (match = regex.exec(original)) {\n            segments.push(original.substring(header, match.index));\n\n            if (!bindProperties[match[2]]) {\n              bindProperties[match[2]] = [];\n            }\n\n            bindProperties[match[2]].push(segments.length);\n            segments.push(match[1]);\n            header = match.index + match[1].length;\n          }\n\n          segments.push(original.substring(header));\n\n          var _loop6 = function _loop6(j) {\n            var proxy = _this6.args;\n            var property = j;\n            var propertySplit = j.split('|');\n            var transformer = false;\n            var longProperty = j;\n\n            if (propertySplit.length > 1) {\n              transformer = _this6.stringTransformer(propertySplit.slice(1));\n              property = propertySplit[0];\n            }\n\n            if (property.match(/\\./)) {\n              var _Bindable$resolve5 = _Bindable.Bindable.resolve(_this6.args, property, true);\n\n              var _Bindable$resolve6 = _slicedToArray(_Bindable$resolve5, 2);\n\n              proxy = _Bindable$resolve6[0];\n              property = _Bindable$resolve6[1];\n            } // if(property.match(/\\./))\n            // {\n            // \t[proxy, property] = Bindable.resolve(\n            // \t\tthis.args\n            // \t\t, property\n            // \t\t, true\n            // \t);\n            // }\n            // console.log(this.args, property);\n\n\n            var matching = [];\n            var bindProperty = j;\n            var matchingSegments = bindProperties[longProperty];\n\n            _this6.onRemove(proxy.bindTo(property, function (v, k, t, d) {\n              if (transformer) {\n                v = transformer(v);\n              }\n\n              for (var _i7 in bindProperties) {\n                for (var _j in bindProperties[longProperty]) {\n                  segments[bindProperties[longProperty][_j]] = t[_i7];\n\n                  if (k === property) {\n                    segments[bindProperties[longProperty][_j]] = v;\n                  }\n                }\n              }\n\n              tag.setAttribute(attribute.name, segments.join(''));\n            }));\n\n            _this6.onRemove(function () {\n              if (!proxy.isBound()) {\n                _Bindable.Bindable.clearBindings(proxy);\n              }\n            });\n          };\n\n          for (var j in bindProperties) {\n            _loop6(j);\n          }\n        };\n\n        for (var i = 0; i < tag.attributes.length; i++) {\n          var _ret4 = _loop5(i);\n\n          if (_ret4 === \"continue\") continue;\n        }\n      }\n\n      return tag;\n    }\n  }, {\n    key: \"mapRefTag\",\n    value: function mapRefTag(tag) {\n      var refAttr = tag.getAttribute('cv-ref');\n\n      var _refAttr$split = refAttr.split(':'),\n          _refAttr$split2 = _slicedToArray(_refAttr$split, 3),\n          refProp = _refAttr$split2[0],\n          refClassname = _refAttr$split2[1],\n          refKey = _refAttr$split2[2];\n\n      var refClass = this.stringToClass(refClassname);\n      tag.removeAttribute('cv-ref');\n      Object.defineProperty(tag, '___tag___', {\n        enumerable: false,\n        writable: true\n      });\n      this.onRemove(function () {\n        tag.___tag___ = null;\n        tag.remove();\n      });\n      var parent = this;\n      var direct = this;\n\n      if (this.viewList) {\n        parent = this.viewList.parent; // if(!this.viewList.parent.tags[refProp])\n        // {\n        // \tthis.viewList.parent.tags[refProp] = [];\n        // }\n        // let refKeyVal = this.args[refKey];\n        // this.viewList.parent.tags[refProp][refKeyVal] = new refClass(\n        // \ttag, this, refProp, refKeyVal\n        // );\n      } else {// this.tags[refProp] = new refClass(\n          // \ttag, this, refProp\n          // );\n        }\n\n      var tagObject = new refClass(tag, this, refProp, undefined, direct);\n      tag.___tag___ = tagObject;\n\n      while (parent) {\n        if (!parent.parent) {}\n\n        var refKeyVal = this.args[refKey];\n\n        if (refKeyVal !== undefined) {\n          if (!parent.tags[refProp]) {\n            parent.tags[refProp] = [];\n          }\n\n          parent.tags[refProp][refKeyVal] = tagObject;\n        } else {\n          parent.tags[refProp] = tagObject;\n        }\n\n        parent = parent.parent;\n      }\n\n      return tag;\n    }\n  }, {\n    key: \"mapBindTag\",\n    value: function mapBindTag(tag) {\n      var _this7 = this;\n\n      var bindArg = tag.getAttribute('cv-bind');\n      var proxy = this.args;\n      var property = bindArg;\n      var top = null;\n\n      if (bindArg.match(/\\./)) {\n        var _Bindable$resolve7 = _Bindable.Bindable.resolve(this.args, bindArg, true);\n\n        var _Bindable$resolve8 = _slicedToArray(_Bindable$resolve7, 3);\n\n        proxy = _Bindable$resolve8[0];\n        property = _Bindable$resolve8[1];\n        top = _Bindable$resolve8[2];\n      }\n\n      if (proxy !== this.args) {\n        this.subBindings[bindArg] = this.subBindings[bindArg] || [];\n        this.onRemove(this.args.bindTo(top, function () {\n          while (_this7.subBindings.length) {\n            _this7.subBindings.shift()();\n          }\n        }));\n      }\n\n      var debind = proxy.bindTo(property, function (v, k, t, d, p) {\n        if (p instanceof View && p !== v) {\n          p.remove();\n        }\n\n        var autoChangedEvent = new CustomEvent('cvAutoChanged', {\n          bubbles: true\n        });\n\n        if (tag.tagName === 'INPUT' || tag.tagName === 'SELECT' || tag.tagName === 'TEXTAREA') {\n          var _type = tag.getAttribute('type');\n\n          if (_type && _type.toLowerCase() === 'checkbox') {\n            tag.checked = !!v;\n            tag.dispatchEvent(autoChangedEvent);\n          } else if (_type && _type.toLowerCase() === 'radio') {\n            tag.checked = v == tag.value;\n            tag.dispatchEvent(autoChangedEvent);\n          } else if (_type !== 'file') {\n            if (tag.tagName === 'SELECT') {\n              // console.log(k, v, tag.outerHTML, tag.options.length);\n              for (var i in tag.options) {\n                var option = tag.options[i];\n\n                if (option.value == v) {\n                  tag.selectedIndex = i;\n                }\n              }\n            }\n\n            tag.value = v == null ? '' : v;\n            tag.dispatchEvent(autoChangedEvent);\n          }\n        } else {\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = tag.childNodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var node = _step.value;\n              node.remove();\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n                _iterator[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n\n          if (v instanceof View) {\n            v.render(tag);\n          } else {\n            tag.textContent = v;\n          }\n        }\n      });\n\n      if (proxy !== this.args) {\n        this.subBindings[bindArg].push(debind);\n      }\n\n      this.onRemove(debind);\n      var type = tag.getAttribute('type');\n      var multi = tag.getAttribute('multiple');\n\n      var inputListener = function inputListener(event) {\n        // console.log(event, proxy, property, event.target.value);\n        if (event.target !== tag) {\n          return;\n        }\n\n        if (type && type.toLowerCase() === 'checkbox') {\n          if (tag.checked) {\n            proxy[property] = event.target.value;\n          } else {\n            proxy[property] = false;\n          }\n        } else if (type === 'file' && multi) {\n          var files = Array.from(event.target.files);\n          var current = proxy[property] || proxy.___deck___[property];\n\n          if (!current || !files.length) {\n            proxy[property] = files;\n          } else {\n            for (var i in files) {\n              if (files[i] !== current[i]) {\n                current[i] = files[i];\n                break;\n              }\n            }\n          }\n        } else if (type === 'file' && !multi) {\n          proxy[property] = event.target.files.item(0);\n        } else {\n          proxy[property] = event.target.value;\n        }\n      };\n\n      if (type === 'file') {\n        tag.addEventListener('change', inputListener);\n      } else {\n        tag.addEventListener('input', inputListener);\n        tag.addEventListener('change', inputListener);\n        tag.addEventListener('value-changed', inputListener);\n      }\n\n      this.onRemove(function (tag, eventListener) {\n        return function () {\n          if (type === 'file') {\n            tag.removeEventListener('change', inputListener);\n          } else {\n            tag.removeEventListener('input', inputListener);\n            tag.removeEventListener('change', inputListener);\n            tag.removeEventListener('value-changed', inputListener);\n          }\n\n          tag = undefined;\n          eventListener = undefined;\n        };\n      }(tag, inputListener));\n      tag.removeAttribute('cv-bind');\n      return tag;\n    }\n  }, {\n    key: \"mapOnTag\",\n    value: function mapOnTag(tag) {\n      var _this8 = this;\n\n      var referent = String(tag.getAttribute('cv-on'));\n      var action = referent.split(';').map(function (a) {\n        return a.split(':');\n      }).map(function (a) {\n        a = a.map(function (a) {\n          return a.trim();\n        });\n        var eventName = a[0].trim();\n\n        if (!eventName) {\n          return;\n        }\n\n        var callbackName = a[1];\n        var eventFlags = String(a[2] || '');\n        var argList = [];\n        var groups = /(\\w+)(?:\\(([$\\w\\s'\",]+)\\))?/.exec(callbackName);\n\n        if (!groups) {\n          throw new Error('Invalid event method referent: ' + tag.getAttribute('cv-on'));\n        }\n\n        if (groups.length) {\n          callbackName = groups[1].replace(/(^[\\s\\n]+|[\\s\\n]+$)/, '');\n\n          if (groups[2]) {\n            argList = groups[2].split(',').map(function (s) {\n              return s.trim();\n            });\n          }\n        }\n\n        var eventMethod;\n        var parent = _this8;\n\n        while (parent) {\n          if (typeof parent[callbackName] === 'function') {\n            var _ret5 = function () {\n              var _parent = parent;\n              var _callBackName = callbackName;\n\n              eventMethod = function eventMethod() {\n                _parent[_callBackName].apply(_parent, arguments);\n              };\n\n              return \"break\";\n            }();\n\n            if (_ret5 === \"break\") break;\n          }\n\n          if (parent.viewList && parent.viewList.parent) {\n            parent = parent.viewList.parent;\n          } else if (parent.parent) {\n            parent = parent.parent;\n          } else {\n            break;\n          }\n        }\n\n        var eventListener = function eventListener(event) {\n          var argRefs = argList.map(function (arg) {\n            var match;\n\n            if (parseInt(arg) == arg) {\n              return arg;\n            } else if (arg === 'event' || arg === '$event') {\n              return event;\n            } else if (arg === '$view') {\n              return parent;\n            } else if (arg === '$tag') {\n              return tag;\n            } else if (arg === '$parent') {\n              return _this8.parent;\n            } else if (arg === '$subview') {\n              return _this8;\n            } else if (arg in _this8.args) {\n              return _this8.args[arg];\n            } else if (match = /^['\"](\\w+?)[\"']$/.exec(arg)) {\n              return match[1];\n            }\n          });\n\n          if (!(typeof eventMethod === 'function')) {\n            throw new Error(\"\".concat(callbackName, \" is not defined on View object.\") + \"\\n\" + \"Tag:\" + \"\\n\" + \"\".concat(tag.outerHTML));\n          }\n\n          eventMethod.apply(void 0, _toConsumableArray(argRefs));\n        };\n\n        var eventOptions = {};\n\n        if (eventFlags.includes('p')) {\n          eventOptions.passive = true;\n        } else if (eventFlags.includes('P')) {\n          eventOptions.passive = false;\n        }\n\n        if (eventFlags.includes('c')) {\n          eventOptions.capture = true;\n        } else if (eventFlags.includes('C')) {\n          eventOptions.capture = false;\n        }\n\n        if (eventFlags.includes('o')) {\n          eventOptions.once = true;\n        } else if (eventFlags.includes('O')) {\n          eventOptions.once = false;\n        }\n\n        switch (eventName) {\n          case '_init':\n            eventListener();\n            break;\n\n          case '_attach':\n            _this8.attach.push(eventListener);\n\n            break;\n\n          case '_detach':\n            _this8.detach.push(eventListener);\n\n            break;\n\n          default:\n            tag.addEventListener(eventName, eventListener, eventOptions);\n\n            _this8.onRemove(function () {\n              tag.removeEventListener(eventName, eventListener, eventOptions);\n            });\n\n            break;\n        }\n\n        return [eventName, callbackName, argList];\n      });\n      tag.removeAttribute('cv-on');\n      return tag;\n    }\n  }, {\n    key: \"mapLinkTag\",\n    value: function mapLinkTag(tag) {\n      /*/\n      const tagCompiler = this.compileLinkTag(tag);\n      \tconst newTag = tagCompiler(this);\n      \ttag.replaceWith(newTag);\n      \treturn newTag;\n      /*/\n      var linkAttr = tag.getAttribute('cv-link');\n      tag.setAttribute('href', linkAttr);\n\n      var linkClick = function linkClick(event) {\n        event.preventDefault();\n\n        if (linkAttr.substring(0, 4) === 'http' || linkAttr.substring(0, 2) === '//') {\n          window.open(tag.getAttribute('href', linkAttr));\n          return;\n        }\n\n        _Router.Router.go(tag.getAttribute('href'));\n      };\n\n      tag.addEventListener('click', linkClick);\n      this.onRemove(function (tag, eventListener) {\n        return function () {\n          tag.removeEventListener('click', eventListener);\n          tag = undefined;\n          eventListener = undefined;\n        };\n      }(tag, linkClick));\n      tag.removeAttribute('cv-link');\n      return tag; //*/\n    }\n  }, {\n    key: \"compileLinkTag\",\n    value: function compileLinkTag(sourceTag) {\n      var linkAttr = sourceTag.getAttribute('cv-link');\n      sourceTag.removeAttribute('cv-link');\n      return function (bindingView) {\n        var tag = sourceTag.cloneNode(true);\n        tag.setAttribute('href', linkAttr);\n        tag.addEventListener('click', View.linkClicked);\n        bindingView.onRemove(function () {\n          return tag.removeEventListener(View.linkClicked);\n        });\n        return tag;\n      };\n    }\n  }, {\n    key: \"mapPrendererTag\",\n    value: function mapPrendererTag(tag) {\n      var prerenderAttr = tag.getAttribute('cv-prerender');\n      var prerendering = window.prerenderer;\n\n      if (prerenderAttr === 'never' && prerendering || prerenderAttr === 'only' && !prerendering) {\n        tag.parentNode.removeChild(tag);\n      }\n\n      return tag;\n    }\n  }, {\n    key: \"mapWithTag\",\n    value: function mapWithTag(tag) {\n      var _this9 = this;\n\n      var withAttr = tag.getAttribute('cv-with');\n      var carryAttr = tag.getAttribute('cv-carry');\n      tag.removeAttribute('cv-with');\n      tag.removeAttribute('cv-carry');\n      var subTemplate = new DocumentFragment();\n      Array.from(tag.childNodes).map(function (n) {\n        return subTemplate.appendChild(n);\n      });\n      var carryProps = [];\n\n      if (carryAttr) {\n        carryProps = carryAttr.split(',').map(function (s) {\n          return s.trim();\n        });\n      }\n\n      var debind = this.args.bindTo(withAttr, function (v, k, t, d) {\n        if (_this9.withViews[k]) {\n          _this9.withViews[k].remove();\n        }\n\n        while (tag.firstChild) {\n          tag.removeChild(tag.firstChild);\n        }\n\n        var view = new View({}, _this9);\n\n        _this9.onRemove(function (view) {\n          return function () {\n            view.remove();\n          };\n        }(view));\n\n        view.template = subTemplate;\n        view.parent = _this9;\n\n        var _loop7 = function _loop7(i) {\n          var debind = _this9.args.bindTo(carryProps[i], function (v, k) {\n            view.args[k] = v;\n          });\n\n          view.onRemove(debind);\n\n          _this9.onRemove(function () {\n            debind();\n            view.remove();\n          });\n        };\n\n        for (var i in carryProps) {\n          _loop7(i);\n        }\n\n        var _loop8 = function _loop8(_i8) {\n          var debind = v.bindTo(_i8, function (v, k) {\n            view.args[k] = v;\n          });\n\n          _this9.onRemove(function () {\n            debind();\n\n            if (!v.isBound()) {\n              _Bindable.Bindable.clearBindings(v);\n            }\n\n            view.remove();\n          });\n\n          view.onRemove(function () {\n            debind();\n\n            if (!v.isBound()) {\n              _Bindable.Bindable.clearBindings(v);\n            }\n          });\n        };\n\n        for (var _i8 in v) {\n          _loop8(_i8);\n        }\n\n        view.render(tag);\n        _this9.withViews[k] = view;\n      });\n      this.onRemove(debind);\n      return tag;\n    }\n  }, {\n    key: \"mapEachTag\",\n    value: function mapEachTag(tag) {\n      var _this10 = this;\n\n      var eachAttr = tag.getAttribute('cv-each');\n      tag.removeAttribute('cv-each');\n      var subTemplate = new DocumentFragment();\n      Array.from(tag.childNodes).map(function (n) {\n        return subTemplate.appendChild(n);\n      });\n\n      var _eachAttr$split = eachAttr.split(':'),\n          _eachAttr$split2 = _slicedToArray(_eachAttr$split, 3),\n          eachProp = _eachAttr$split2[0],\n          asProp = _eachAttr$split2[1],\n          keyProp = _eachAttr$split2[2];\n\n      var debind = this.args.bindTo(eachProp, function (v, k, t, d, p) {\n        if (_this10.viewLists[eachProp]) {\n          _this10.viewLists[eachProp].remove();\n        }\n\n        var viewList = new _ViewList.ViewList(subTemplate, asProp, v, _this10, keyProp);\n\n        var viewListRemover = function viewListRemover() {\n          return viewList.remove();\n        };\n\n        _this10.onRemove(viewListRemover);\n\n        viewList.onRemove(function () {\n          return _this10._onRemove.remove(viewListRemover);\n        });\n\n        var debindA = _this10.args.bindTo(function (v, k, t, d) {\n          if (k === '_id') {\n            return;\n          }\n\n          viewList.args.subArgs[k] = v;\n        });\n\n        var debindB = viewList.args.bindTo(function (v, k, t, d, p) {\n          if (k === '_id' || k === 'value' || k.substring(0, 3) === '___') {\n            return;\n          }\n\n          if (k in _this10.args) {\n            _this10.args[k] = v;\n          }\n        });\n\n        _this10.onRemove(debindA);\n\n        _this10.onRemove(debindB);\n\n        while (tag.firstChild) {\n          tag.removeChild(tag.firstChild);\n        }\n\n        _this10.viewLists[eachProp] = viewList;\n        viewList.render(tag);\n      });\n      this.onRemove(debind);\n      return tag;\n    }\n  }, {\n    key: \"mapIfTag\",\n    value: function mapIfTag(tag) {\n      /*/\n      const tagCompiler = this.compileIfTag(tag);\n      \tconst newTag = tagCompiler(this);\n      \ttag.replaceWith(newTag);\n      \treturn newTag;\n      \t/*/\n      var sourceTag = tag;\n      var ifProperty = sourceTag.getAttribute('cv-if');\n      var inverted = false;\n      sourceTag.removeAttribute('cv-if');\n\n      if (ifProperty.substr(0, 1) === '!') {\n        ifProperty = ifProperty.substr(1);\n        inverted = true;\n      }\n\n      var subTemplate = new DocumentFragment();\n      Array.from(sourceTag.childNodes).map(function (n) {\n        return subTemplate.appendChild(n);\n      } // n => subTemplate.appendChild(n.cloneNode(true))\n      );\n      var bindingView = this;\n      var ifDoc = new DocumentFragment();\n      var view = new View(this.args, bindingView);\n      view.template = subTemplate;\n      view.parent = bindingView; // bindingView.syncBind(view);\n\n      var proxy = bindingView.args;\n      var property = ifProperty;\n\n      if (ifProperty.match(/\\./)) {\n        var _Bindable$resolve9 = _Bindable.Bindable.resolve(bindingView.args, ifProperty, true);\n\n        var _Bindable$resolve10 = _slicedToArray(_Bindable$resolve9, 2);\n\n        proxy = _Bindable$resolve10[0];\n        property = _Bindable$resolve10[1];\n      }\n\n      var hasRendered = false;\n      var propertyDebind = proxy.bindTo(property, function (v, k) {\n        if (!hasRendered) {\n          var initValue = proxy[property];\n          var renderDoc = !!initValue ^ !!inverted ? tag : ifDoc;\n          view.render(renderDoc);\n          hasRendered = true;\n          return;\n        }\n\n        if (Array.isArray(v)) {\n          v = !!v.length;\n        }\n\n        if (inverted) {\n          v = !v;\n        }\n\n        if (v) {\n          tag.appendChild(ifDoc);\n        } else {\n          view.nodes.map(function (n) {\n            return ifDoc.appendChild(n);\n          });\n        }\n      }); // const propertyDebind = this.args.bindChain(property, onUpdate);\n\n      bindingView.onRemove(propertyDebind);\n\n      var bindableDebind = function bindableDebind() {\n        if (!proxy.isBound()) {\n          _Bindable.Bindable.clearBindings(proxy);\n        }\n      };\n\n      var viewDebind = function viewDebind() {\n        propertyDebind();\n        bindableDebind();\n\n        bindingView._onRemove.remove(propertyDebind);\n\n        bindingView._onRemove.remove(bindableDebind);\n      };\n\n      bindingView.onRemove(viewDebind);\n      return tag; //*/\n    }\n  }, {\n    key: \"compileIfTag\",\n    value: function compileIfTag(sourceTag) {\n      var ifProperty = sourceTag.getAttribute('cv-if');\n      var inverted = false;\n      sourceTag.removeAttribute('cv-if');\n\n      if (ifProperty.substr(0, 1) === '!') {\n        ifProperty = ifProperty.substr(1);\n        inverted = true;\n      }\n\n      var subTemplate = new DocumentFragment();\n      Array.from(sourceTag.childNodes).map(function (n) {\n        return subTemplate.appendChild(n.cloneNode(true));\n      });\n      return function (bindingView) {\n        var tag = sourceTag.cloneNode();\n        var ifDoc = new DocumentFragment();\n        var view = new View({}, bindingView);\n        view.template = subTemplate;\n        view.parent = bindingView;\n        bindingView.syncBind(view);\n        var proxy = bindingView.args;\n        var property = ifProperty;\n\n        if (ifProperty.match(/\\./)) {\n          var _Bindable$resolve11 = _Bindable.Bindable.resolve(bindingView.args, ifProperty, true);\n\n          var _Bindable$resolve12 = _slicedToArray(_Bindable$resolve11, 2);\n\n          proxy = _Bindable$resolve12[0];\n          property = _Bindable$resolve12[1];\n        }\n\n        var hasRendered = false;\n        var propertyDebind = proxy.bindTo(property, function (v, k) {\n          if (!hasRendered) {\n            var renderDoc = bindingView.args[property] || inverted ? tag : ifDoc;\n            view.render(renderDoc);\n            hasRendered = true;\n            return;\n          }\n\n          if (Array.isArray(v)) {\n            v = !!v.length;\n          }\n\n          if (inverted) {\n            v = !v;\n          }\n\n          if (v) {\n            tag.appendChild(ifDoc);\n          } else {\n            view.nodes.map(function (n) {\n              return ifDoc.appendChild(n);\n            });\n          }\n        }); // let cleaner = bindingView;\n        // while(cleaner.parent)\n        // {\n        // \tcleaner = cleaner.parent;\n        // }\n\n        bindingView.onRemove(propertyDebind);\n\n        var bindableDebind = function bindableDebind() {\n          if (!proxy.isBound()) {\n            _Bindable.Bindable.clearBindings(proxy);\n          }\n        };\n\n        var viewDebind = function viewDebind() {\n          propertyDebind();\n          bindableDebind();\n\n          bindingView._onRemove.remove(propertyDebind);\n\n          bindingView._onRemove.remove(bindableDebind);\n        };\n\n        view.onRemove(viewDebind);\n        return tag;\n      };\n    }\n  }, {\n    key: \"mapTemplateTag\",\n    value: function mapTemplateTag(tag) {\n      var subTemplate = tag.tagName == 'TEMPLATE' ? tag.content.cloneNode(true) : tag.innerHTML;\n      var view = new View(this.args);\n      view.template = subTemplate;\n      view.parent = this;\n      view.render(tag); // let deBindSync = this.syncBind(view);\n      // let cleaner = this;\n      // while(cleaner.parent)\n      // {\n      // \tcleaner = cleaner.parent;\n      // }\n      // this.cleanup.push(()=>{\n      // \tdeBindSync();\n      // \tview.remove();\n      // });\n\n      console.log(tag);\n    } // compileTag(sourceTag)\n    // {\n    // \treturn (bindingView) => {\n    // \t\tconst tag = sourceTag.cloneNode(true);\n    // \t\treturn tag;\n    // \t};\n    // }\n\n  }, {\n    key: \"syncBind\",\n    value: function syncBind(subView) {\n      var _this11 = this;\n\n      var debindA = this.args.bindTo(function (v, k, t, d) {\n        if (k === '_id') {\n          return;\n        }\n\n        if (subView.args[k] !== v) {\n          subView.args[k] = v;\n        }\n      }); // for(let i in this.args)\n      // {\n      // \tif(i == '_id')\n      // \t{\n      // \t\tcontinue;\n      // \t}\n      // \tsubView.args[i] = this.args[i];\n      // }\n\n      var debindB = subView.args.bindTo(function (v, k, t, d, p) {\n        if (k === '_id') {\n          return;\n        }\n\n        var newRef = v;\n        var oldRef = p;\n\n        if (newRef instanceof View) {\n          newRef = newRef.___ref___;\n        }\n\n        if (oldRef instanceof View) {\n          oldRef = oldRef.___ref___;\n        }\n\n        if (newRef !== oldRef && oldRef instanceof View) {\n          p.remove();\n        }\n\n        if (k in _this11.args) {\n          _this11.args[k] = v;\n        }\n      });\n      this.onRemove(debindA);\n      this.onRemove(debindB);\n      subView.onRemove(function () {\n        _this11._onRemove.remove(debindA);\n\n        _this11._onRemove.remove(debindB);\n      });\n    }\n  }, {\n    key: \"postRender\",\n    value: function postRender(parentNode) {}\n  }, {\n    key: \"interpolatable\",\n    value: function interpolatable(str) {\n      return !!String(str).match(this.interpolateRegex);\n    }\n  }, {\n    key: \"uuid\",\n    value: function uuid() {\n      return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {\n        return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var _this12 = this;\n\n      var now = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      var remover = function remover() {\n        _this12.firstNode = _this12.lastNode = undefined;\n\n        for (var _i9 in _this12.nodes) {\n          _this12.nodes[_i9].dispatchEvent(new Event('cvDomDetached'));\n\n          _this12.nodes[_i9].remove();\n        } // Bindable.clearBindings(this.args);\n\n      };\n\n      if (now) {\n        remover();\n      } else {\n        requestAnimationFrame(remover);\n      }\n\n      var callbacks = this._onRemove.items();\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = callbacks[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var callback = _step2.value;\n\n          this._onRemove.remove(callback);\n\n          callback();\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      var cleanup;\n\n      while (cleanup = this.cleanup.shift()) {\n        cleanup && cleanup();\n      }\n\n      for (var _i10 in this.viewLists) {\n        if (!this.viewLists[_i10]) {\n          continue;\n        }\n\n        this.viewLists[_i10].remove();\n      }\n\n      this.viewLists = [];\n\n      for (var _i11 in this.timeouts) {\n        clearInterval(this.timeouts[_i11].timeout);\n        delete this.timeouts[_i11];\n      }\n\n      for (var i in this.intervals) {\n        clearInterval(this.intervals[i].timeout);\n        delete this.intervals[i];\n      }\n\n      this.removed = true;\n    }\n  }, {\n    key: \"findTag\",\n    value: function findTag(selector) {\n      for (var i in this.nodes) {\n        var result = void 0;\n\n        if (!this.nodes[i].querySelector) {\n          continue;\n        }\n\n        if (this.nodes[i].matches(selector)) {\n          return this.nodes[i];\n        }\n\n        if (result = this.nodes[i].querySelector(selector)) {\n          return result;\n        }\n      }\n    }\n  }, {\n    key: \"findTags\",\n    value: function findTags(selector) {\n      return this.nodes, map(function (n) {\n        return n.querySelectorAll(selector);\n      }).flat();\n    }\n  }, {\n    key: \"onRemove\",\n    value: function onRemove(callback) {\n      this._onRemove.add(callback);\n    }\n  }, {\n    key: \"update\",\n    value: function update() {}\n  }, {\n    key: \"beforeUpdate\",\n    value: function beforeUpdate(args) {}\n  }, {\n    key: \"afterUpdate\",\n    value: function afterUpdate(args) {}\n  }, {\n    key: \"stringTransformer\",\n    value: function stringTransformer(methods) {\n      var _this13 = this;\n\n      return function (x) {\n        for (var m in methods) {\n          var parent = _this13;\n          var method = methods[m];\n\n          while (parent && !parent[method]) {\n            parent = parent.parent;\n          }\n\n          if (!parent) {\n            return;\n          }\n\n          x = parent[methods[m]](x);\n        }\n\n        return x;\n      };\n    }\n  }, {\n    key: \"stringToClass\",\n    value: function stringToClass(refClassname) {\n      if (View.refClasses.has(refClassname)) {\n        return View.refClasses.get(refClassname);\n      }\n\n      var refClassSplit = refClassname.split('/');\n      var refShortClassname = refClassSplit[refClassSplit.length - 1];\n      console.log(refClassname);\n\n      var refClass = require(refClassname);\n\n      View.refClasses.set(refClassname, refClass[refShortClassname]);\n      return refClass[refShortClassname];\n    }\n  }], [{\n    key: \"isView\",\n    value: function isView() {\n      return View;\n    }\n  }]);\n\n  return View;\n}();\n\nexports.View = View;\nObject.defineProperty(View, 'templates', {\n  enumerable: false,\n  writable: false,\n  value: new Map()\n});\nObject.defineProperty(View, 'refClasses', {\n  enumerable: false,\n  writable: false,\n  value: new Map()\n});\nObject.defineProperty(View, 'linkClicked', function (event) {\n  event.preventDefault();\n  var href = event.target.getAttribute('href');\n\n  if (href.substring(0, 4) === 'http' || href.substring(0, 2) === '//') {\n    window.open(href);\n    return;\n  }\n\n  _Router.Router.go(href);\n});\n  })();\n});","\nrequire.register(\"curvature/base/ViewList.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ViewList = void 0;\n\nvar _Bindable = require(\"./Bindable\");\n\nvar _View = require(\"./View\");\n\nvar _Bag = require(\"./Bag\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ViewList = /*#__PURE__*/function () {\n  function ViewList(template, subProperty, list, parent) {\n    var _this = this;\n\n    var keyProperty = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n\n    _classCallCheck(this, ViewList);\n\n    this.args = _Bindable.Bindable.makeBindable({});\n    this.args.value = _Bindable.Bindable.makeBindable(list || {});\n    this.args.subArgs = _Bindable.Bindable.makeBindable({});\n    this.views = [];\n    this.cleanup = [];\n    this._onRemove = new _Bag.Bag();\n    this.template = template;\n    this.subProperty = subProperty;\n    this.keyProperty = keyProperty;\n    this.tag = null;\n    this.paused = false;\n    this.parent = parent;\n    this.willReRender = false;\n\n    this.args.___before(function (t) {\n      if (t.___executing___ == 'bindTo') {\n        return;\n      }\n\n      _this.paused = true;\n    });\n\n    this.args.___after(function (t) {\n      if (t.___executing___ == 'bindTo') {\n        return;\n      }\n\n      _this.paused = t.___stack___.length > 1;\n\n      _this.reRender();\n    });\n\n    var debind = this.args.value.bindTo(function (v, k, t, d) {\n      if (_this.paused) {\n        return;\n      }\n\n      if (typeof k === 'string') {\n        k = '_' + k;\n      }\n\n      if (d) {\n        if (_this.views[k]) {\n          _this.views[k].remove();\n\n          delete _this.views[k];\n        }\n\n        _this.views.splice(k, 1);\n\n        for (var i in _this.views) {\n          _this.views[i].args[_this.keyProperty] = i;\n        }\n      } else if (!_this.views[k] && !_this.willReRender) {\n        _this.willReRender = requestAnimationFrame(function () {\n          _this.reRender();\n        });\n      } else if (_this.views[k]) {\n        _this.views[k].args[_this.keyProperty] = k;\n        _this.views[k].args[_this.subProperty] = v;\n      }\n    });\n\n    this._onRemove.add(debind);\n  }\n\n  _createClass(ViewList, [{\n    key: \"render\",\n    value: function render(tag) {\n      for (var i in this.views) {\n        this.views[i].render(tag);\n      }\n\n      this.tag = tag;\n    }\n  }, {\n    key: \"reRender\",\n    value: function reRender() {\n      var _this2 = this;\n\n      if (this.paused || !this.tag) {\n        return;\n      }\n\n      var views = [];\n\n      for (var i in this.views) {\n        views[i] = this.views[i];\n      }\n\n      var finalViews = [];\n\n      for (var _i in this.args.value) {\n        var found = false;\n\n        for (var j in views) {\n          if (views[j] && this.args.value[_i] !== undefined && this.args.value[_i] === views[j].args[this.subProperty]) {\n            found = true;\n            finalViews[_i] = views[j];\n            finalViews[_i].args[this.keyProperty] = _i;\n            delete views[j];\n            break;\n          }\n        }\n\n        if (!found) {\n          (function () {\n            var viewArgs = {};\n            var view = finalViews[_i] = new _View.View(viewArgs);\n            finalViews[_i].template = _this2.template instanceof Object ? _this2.template : _this2.template;\n            finalViews[_i].parent = _this2.parent;\n            finalViews[_i].viewList = _this2;\n            finalViews[_i].args[_this2.keyProperty] = _i;\n            finalViews[_i].args[_this2.subProperty] = _this2.args.value[_i];\n            var upDebind = viewArgs.bindTo(_this2.subProperty, function (v, k) {\n              var index = viewArgs[_this2.keyProperty];\n              _this2.args.value[index] = v;\n            });\n\n            var downDebind = _this2.args.subArgs.bindTo(function (v, k, t, d) {\n              viewArgs[k] = v;\n            });\n\n            view.onRemove(function () {\n              upDebind();\n              downDebind();\n\n              _this2._onRemove.remove(upDebind);\n\n              _this2._onRemove.remove(downDebind);\n            });\n\n            _this2._onRemove.add(upDebind);\n\n            _this2._onRemove.add(downDebind);\n\n            viewArgs[_this2.subProperty] = _this2.args.value[_i];\n          })();\n        }\n      }\n\n      for (var _i2 in views) {\n        var _found = false;\n\n        for (var _j in finalViews) {\n          if (views[_i2] === finalViews[_j]) {\n            _found = true;\n            break;\n          }\n        }\n\n        if (!_found) {\n          views[_i2].remove();\n        }\n      }\n\n      var renderRecurse = function renderRecurse() {\n        var i = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var ii = finalViews.length - i - 1;\n\n        if (!finalViews[ii]) {\n          return;\n        }\n\n        if (finalViews[ii] === _this2.views[ii]) {\n          if (!finalViews[ii].firstNode) {\n            finalViews[ii].render(_this2.tag, finalViews[ii + 1]);\n            return finalViews[ii].rendered.then(function () {\n              return renderRecurse(i + 1);\n            });\n          }\n\n          return renderRecurse(i + 1);\n        }\n\n        finalViews[ii].render(_this2.tag, finalViews[ii + 1]);\n\n        _this2.views.splice(ii, 0, finalViews[ii]);\n\n        finalViews[ii].rendered.then(function () {\n          return renderRecurse(i + 1);\n        });\n      };\n\n      if (Array.isArray(this.args.value)) {\n        renderRecurse();\n      } else {\n        var leftovers = Object.assign({}, finalViews);\n\n        for (var _i3 in finalViews) {\n          delete leftovers[_i3];\n\n          if (finalViews[_i3].firstNode && finalViews[_i3] === this.views[_i3]) {\n            continue;\n          }\n\n          finalViews[_i3].render(this.tag);\n        }\n\n        for (var _i4 in leftovers) {\n          delete this.args.views[_i4];\n          leftovers.remove();\n        }\n      }\n\n      this.views = finalViews;\n\n      for (var _i5 in finalViews) {\n        finalViews[_i5].args[this.keyProperty] = _i5;\n      }\n\n      this.willReRender = false;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var _pause = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      for (var i in this.views) {\n        this.views[i].pause(_pause);\n      }\n    }\n  }, {\n    key: \"onRemove\",\n    value: function onRemove(callback) {\n      this._onRemove.add(callback);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      for (var i in this.views) {\n        this.views[i].remove();\n      }\n\n      var onRemove = this._onRemove.items();\n\n      for (var _i6 in onRemove) {\n        this._onRemove.remove(onRemove[_i6]);\n\n        onRemove[_i6]();\n      }\n\n      var cleanup;\n\n      while (this.cleanup.length) {\n        cleanup = this.cleanup.pop();\n        cleanup();\n      }\n\n      this.views = [];\n\n      while (this.tag && this.tag.firstChild) {\n        this.tag.removeChild(this.tag.firstChild);\n      }\n\n      _Bindable.Bindable.clearBindings(this.args.subArgs);\n\n      _Bindable.Bindable.clearBindings(this.args);\n\n      if (!this.args.value.isBound()) {\n        _Bindable.Bindable.clearBindings(this.args.value);\n      }\n    }\n  }]);\n\n  return ViewList;\n}();\n\nexports.ViewList = ViewList;\n  })();\n});","\nrequire.register(\"curvature/form/ButtonField.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ButtonField = void 0;\n\nvar _Field2 = require(\"./Field\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar ButtonField = /*#__PURE__*/function (_Field) {\n  _inherits(ButtonField, _Field);\n\n  function ButtonField(values, form, parent, key) {\n    var _this;\n\n    _classCallCheck(this, ButtonField);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ButtonField).call(this, values, form, parent, key));\n    _this.args.title = _this.args.title || _this.args.value;\n    _this._onClick = [];\n    _this.template = \"\\n\\t\\t\\t<label\\n\\t\\t\\t\\tfor       = \\\"\".concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\tdata-type = \\\"\").concat(_this.args.attrs.type, \"\\\"\\n\\t\\t\\t\\tcv-ref    = \\\"label:curvature/base/Tag\\\">\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tname      = \\\"\").concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\t\\ttype      = \\\"\").concat(_this.args.attrs.type, \"\\\"\\n\\t\\t\\t\\t\\tvalue     = \\\"[[title]]\\\"\\n\\t\\t\\t\\t\\tcv-on     = \\\"click:clicked(event)\\\"\\n\\t\\t\\t\\t\\tcv-ref    = \\\"input:curvature/base/Tag\\\"\\n\\t\\t\\t\\t\\tcv-expand = \\\"attrs\\\"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</label>\\n\\t\\t\");\n    return _this;\n  }\n\n  _createClass(ButtonField, [{\n    key: \"clicked\",\n    value: function clicked(event) {\n      var cancels = this._onClick.map(function (callback) {\n        return callback(event) === false;\n      }).filter(function (r) {\n        return r;\n      });\n\n      if (cancels.length) {\n        if (this.args.attrs.type == 'submit') {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        return;\n      }\n\n      if (this.args.attrs.type == 'submit') {\n        event.preventDefault();\n        event.stopPropagation();\n        this.form.tags.formTag.element.dispatchEvent(new Event('submit', {\n          'cancelable': true,\n          'bubbles': true\n        }));\n      }\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(callback) {\n      this._onClick.push(callback);\n    }\n  }]);\n\n  return ButtonField;\n}(_Field2.Field);\n\nexports.ButtonField = ButtonField;\n  })();\n});","\nrequire.register(\"curvature/form/Field.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Field = void 0;\n\nvar _View2 = require(\"../base/View\");\n\nvar _Bindable = require(\"../base/Bindable\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Field = /*#__PURE__*/function (_View) {\n  _inherits(Field, _View);\n\n  function Field(values, form, parent, key) {\n    var _this;\n\n    _classCallCheck(this, Field);\n\n    var skeleton = Object.assign({}, values);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Field).call(this, skeleton));\n    _this.args.title = _this.args.title || '';\n    _this.args.value = _this.args.value === null ? '' : _this.args.value;\n    _this.value = _this.args.value;\n    _this.skeleton = skeleton;\n    _this.disabled = null;\n    _this.args.valueString = '';\n    _this.form = form;\n    _this.parent = parent;\n    _this.key = key;\n    _this.ignore = _this.args.attrs['data-cv-ignore'] || false;\n    var extra = '';\n\n    if (_this.args.attrs.type == 'checkbox') {\n      extra = 'value = \"1\"';\n    }\n\n    _this.template = \"\\n\\t\\t\\t<label\\n\\t\\t\\t\\tfor           = \\\"\".concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\tdata-type     = \\\"\").concat(_this.args.attrs.type, \"\\\"\\n\\t\\t\\t\\tcv-ref        = \\\"label:curvature/base/Tag\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t<span cv-if = \\\"title\\\">\\n\\t\\t\\t\\t\\t<span cv-ref = \\\"title:curvature/base/Tag\\\">[[title]]</span>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\tname      = \\\"\").concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\t\\ttype      = \\\"\").concat(_this.args.attrs.type || 'text', \"\\\"\\n\\t\\t\\t\\t\\tcv-bind   = \\\"value\\\"\\n\\t\\t\\t\\t\\tcv-ref    = \\\"input:curvature/base/Tag\\\"\\n\\t\\t\\t\\t\\tcv-expand = \\\"attrs\\\"\\n\\t\\t\\t\\t\\t\").concat(extra, \"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t\\t<span cv-each = \\\"errors:error:e\\\">\\n\\t\\t\\t\\t\\t<p class = \\\"cv-error\\\">[[error]]</p>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</label>\\n\\t\\t\"); //type    = \"${this.args.attrs.type||'text'}\"\n    // let key     = this.key;\n\n    var setting = null;\n\n    _this.args.bindTo('value', function (v, k) {\n      _this.value = v;\n\n      if (setting == k) {\n        return;\n      }\n\n      setting = key;\n      _this.args.valueString = JSON.stringify(v || '', null, 4);\n      _this.valueString = _this.args.valueString;\n\n      if (_this.args.attrs.type == 'file' && _this.tags.input && _this.tags.input.element.files && _this.tags.input.element.length) {\n        if (!_this.args.attrs.multiple) {\n          _this.parent.args.value[key] = _this.tags.input.element.files[0];\n        } else {\n          var files = Array.from(_this.tags.input.element.files);\n\n          if (!_this.parent.args.value[k] || !files.length) {\n            _this.parent.args.value[key] = files;\n          } else {\n            for (var i in files) {\n              if (files[i] !== _this.parent.args.value[key][i]) {\n                _this.parent.args.value[key] = files;\n              }\n\n              _this.parent.args.value.splice(files.length);\n            }\n          }\n        }\n      } else {\n        if (!_this.parent.args.value) {\n          _this.parent.args.value = {};\n        }\n\n        _this.parent.args.value[key] = v;\n      }\n\n      _this.args.errors = [];\n      setting = null;\n    }); // this.parent.args.value = Bindable.makeBindable(this.parent.args.value);\n\n\n    _this.parent.args.value[_this.key] = _this.args.value;\n\n    _this.parent.args.value.bindTo(key, function (v, k) {\n      if (setting == k) {\n        return;\n      }\n\n      setting = k;\n\n      if (_this.args.attrs.type == 'file') {\n        if (_this.tags.input && _this.tags.input.element.files && _this.tags.input.element.files.length) {\n          if (!_this.args.attrs.multiple) {\n            _this.parent.args.value[key] = _this.tags.input.element.files[0];\n          } else {\n            var files = Array.from(_this.tags.input.element.files);\n\n            if (!_this.parent.args.value[key] || !files.length) {\n              _this.parent.args.value[key] = files;\n            } else {\n              for (var i in files) {\n                if (files[i] !== _this.parent.args.value[key][i]) {\n                  _this.parent.args.value[key] = files;\n                }\n              }\n\n              _this.parent.args.value[key].splice(files.length);\n            }\n          }\n        } else {\n          _this.args.value = v;\n        }\n      } else {\n        _this.args.value = v;\n      }\n\n      setting = null;\n    });\n\n    return _this;\n  }\n\n  _createClass(Field, [{\n    key: \"disable\",\n    value: function disable() {\n      if (this.hasChildren()) {// for(let i in this.args.fields)\n        // {\n        // \tthis.args.fields[i].disable();\n        // }\n      }\n\n      this.disabled = 'disabled';\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      if (this.hasChildren()) {// for(let i in this.args.fields)\n        // {\n        // \tthis.args.fields[i].disable();\n        // }\n      }\n\n      this.disabled = false;\n    }\n  }, {\n    key: \"hasChildren\",\n    value: function hasChildren() {\n      return false;\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      if (this.tags.input) {\n        return this.tags.input.element.getAttribute('name');\n      }\n\n      return this.args.name;\n    }\n  }]);\n\n  return Field;\n}(_View2.View);\n\nexports.Field = Field;\n  })();\n});","\nrequire.register(\"curvature/form/FieldSet.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FieldSet = void 0;\n\nvar _Field2 = require(\"./Field\");\n\nvar _Form = require(\"./Form\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar FieldSet = /*#__PURE__*/function (_Field) {\n  _inherits(FieldSet, _Field);\n\n  function FieldSet(values, form, parent, key) {\n    var _this;\n\n    _classCallCheck(this, FieldSet);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FieldSet).call(this, values, form, parent, key));\n    _this.args.value = {};\n    _this.args.fields = _Form.Form.renderFields(values.children, _assertThisInitialized(_this));\n    _this.fields = _this.args.fields;\n    _this.template = \"\\n\\t\\t\\t<label\\n\\t\\t\\t\\tfor        = \\\"\".concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\tdata-type  = \\\"\").concat(_this.args.attrs.type, \"\\\"\\n\\t\\t\\t\\tdata-multi = \\\"\").concat(_this.args.attrs['data-multi'] ? 'true' : 'false', \"\\\"\\n\\t\\t\\t\\tcv-ref     = \\\"label:curvature/base/Tag\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t<span cv-if = \\\"title\\\">\\n\\t\\t\\t\\t\\t<span cv-ref = \\\"title:curvature/base/Tag\\\">[[title]]</span>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t<fieldset\\n\\t\\t\\t\\t\\tname   = \\\"\").concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\t\\tcv-ref = \\\"input:curvature/base/Tag\\\"\\n\\t\\t\\t\\t\\tcv-expand=\\\"attrs\\\"\\n\\t\\t\\t\\t\\tcv-each = \\\"fields:field\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t[[field]]\\n\\t\\t\\t\\t</fieldset>\\n\\t\\t\\t\\t<span cv-each = \\\"errors:error:e\\\">\\n\\t\\t\\t\\t\\t<p class = \\\"cv-error\\\">[[error]]</p>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</label>\\n\\t\\t\");\n    return _this;\n  }\n\n  _createClass(FieldSet, [{\n    key: \"hasChildren\",\n    value: function hasChildren() {\n      return !!Object.keys(this.args.fields).length;\n    }\n  }, {\n    key: \"wrapSubfield\",\n    value: function wrapSubfield(field) {\n      return field;\n    }\n  }]);\n\n  return FieldSet;\n}(_Field2.Field);\n\nexports.FieldSet = FieldSet;\n  })();\n});","\nrequire.register(\"curvature/form/Form.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Form = void 0;\n\nvar _View2 = require(\"../base/View\");\n\nvar _Field = require(\"./Field\");\n\nvar _FieldSet = require(\"./FieldSet\");\n\nvar _SelectField = require(\"./SelectField\");\n\nvar _RadioField = require(\"./RadioField\");\n\nvar _HtmlField = require(\"./HtmlField\");\n\nvar _HiddenField = require(\"./HiddenField\");\n\nvar _ButtonField = require(\"./ButtonField\");\n\nvar _TextareaField = require(\"./TextareaField\");\n\nvar _View3 = require(\"./multiField/View\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n// import { Router           } from 'Router';\n// import { Repository       } from '../Repository';\n// import { FieldSet         } from './FieldSet';\n// import { ToastView        } from '../ToastView';\n// import { ToastAlertView   } from '../ToastAlertView';\nvar Form = /*#__PURE__*/function (_View) {\n  _inherits(Form, _View);\n\n  function Form(skeleton) {\n    var _this;\n\n    var customFields = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Form);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Form).call(this, {}));\n    _this.args.flatValue = _this.args.flatValue || {};\n    _this.args.value = _this.args.value || {};\n    _this.args.method = skeleton._method || 'GET';\n    _this.args.classes = _this.args.classes || [];\n    _this.skeleton = skeleton;\n\n    _this.args.bindTo('classes', function (v) {\n      _this.args._classes = v.join(' ');\n    });\n\n    _this._onSubmit = [];\n    _this._onRender = [];\n    _this.action = '';\n    _this.template = \"\\n\\t\\t\\t<form\\n\\t\\t\\t\\tclass     = \\\"[[_classes]]\\\"\\n\\t\\t\\t\\tmethod    = \\\"[[method]]\\\"\\n\\t\\t\\t\\tenctype   = \\\"multipart/form-data\\\"\\n\\t\\t\\t\\tcv-on     = \\\"submit:submit(event)\\\"\\n\\t\\t\\t\\tcv-ref    = \\\"formTag:curvature/base/Tag\\\"\\n\\t\\t\\t\\tcv-each   = \\\"fields:field\\\"\\n\\t\\t\\t\\tcv-expand = \\\"attrs\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t[[field]]\\n\\t\\t\\t</form>\\n\\t\\t\";\n    _this.args.fields = Form.renderFields(skeleton, _assertThisInitialized(_this), customFields);\n    _this.fields = _this.args.fields;\n\n    _this.args.bindTo('value', function (v) {\n      _this.args.valueString = JSON.stringify(v, null, 4);\n      _this.valueString = _this.args.valueString;\n      _this.value = v;\n    });\n\n    return _this;\n  }\n\n  _createClass(Form, [{\n    key: \"submitHandler\",\n    value: function submitHandler(event) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }, {\n    key: \"submit\",\n    value: function submit(event) {\n      this.args.valueString = JSON.stringify(this.args.value, null, 4);\n\n      for (var i in this._onSubmit) {\n        this._onSubmit[i](this, event);\n      }\n    }\n  }, {\n    key: \"buttonClick\",\n    value: function buttonClick(event) {// console.log(event);\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(callback) {\n      this._onSubmit.push(callback);\n    }\n  }, {\n    key: \"onRender\",\n    value: function onRender(callback) {\n      if (this.nodes) {\n        callback(this);\n        return;\n      }\n\n      this._onRender.push(callback);\n    }\n  }, {\n    key: \"formData\",\n    value: function formData() {\n      var append = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var field = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var chain = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n      if (!append) {\n        append = new FormData();\n      }\n\n      if (!field) {\n        field = this;\n      }\n\n      var parts = [];\n\n      for (var i in field.args.fields) {\n        if (field.args.fields[i] && field.args.fields[i].disabled) {\n          continue;\n        }\n\n        var subchain = chain.slice(0);\n        subchain.push(i);\n\n        if (field.args.fields[i] && field.args.fields[i].hasChildren()) {\n          this.formData(append, field.args.fields[i], subchain);\n        } else if (field.args.fields[i]) {\n          // let fieldName = field.args.fields[i].args.name;\n          var fieldName = field.args.fields[i].getName();\n\n          if (field.args.fields[i].args.type == 'file' && field.args.fields[i].tags.input.element.files.length) {\n            if (field.args.fields[i].args.attrs.multiple) {\n              var files = field.args.fields[i].tags.input.element.files;\n\n              for (var _i = 0; _i < files.length; _i++) {\n                if (!files[_i]) {\n                  continue;\n                }\n\n                append.append(fieldName + '[]', files[_i]);\n              }\n            } else if (field.args.fields[i].tags.input.element.files[0]) {\n              append.append(fieldName, field.args.fields[i].tags.input.element.files[0]);\n            }\n          } else if (field.args.fields[i].args.type !== 'file' || field.args.fields[i].args.value) {\n            append.append(fieldName, field.args.fields[i].args.value === undefined ? '' : field.args.fields[i].args.value);\n          }\n        }\n      }\n\n      return append;\n    }\n  }, {\n    key: \"queryString\",\n    value: function queryString() {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var parts = [];\n\n      for (var i in this.args.flatValue) {\n        args[i] = args[i] || this.args.flatValue[i];\n      }\n\n      for (var _i2 in args) {\n        parts.push(_i2 + '=' + encodeURIComponent(args[_i2]));\n      }\n\n      return parts.join('&');\n    }\n  }, {\n    key: \"populate\",\n    value: function populate(values) {\n      // console.log(values);\n      for (var i in values) {\n        this.args.value[i] = values[i];\n      }\n    }\n  }, {\n    key: \"hasChildren\",\n    value: function hasChildren() {\n      return !!Object.keys(this.args.fields).length;\n    }\n  }, {\n    key: \"postRender\",\n    value: function postRender() {\n      for (var i in this._onRender) {\n        this._onRender[i](this);\n      }\n    }\n  }], [{\n    key: \"renderFields\",\n    value: function renderFields(skeleton) {\n      var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var customFields = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var fields = {};\n\n      var _loop = function _loop(i) {\n        if (fields[i]) {\n          return \"continue\";\n        }\n\n        if (i.substr(0, 1) == '_') {\n          return \"continue\";\n        }\n\n        var field = null;\n        var form = null;\n\n        if (parent) {\n          if (parent instanceof Form) {\n            form = parent;\n          } else {\n            form = parent.form;\n          }\n        } // console.log(customFields);\n\n\n        if (customFields && skeleton[i].name in customFields) {\n          field = new customFields[skeleton[i].name](skeleton[i], form, parent, i);\n        } else {\n          switch (skeleton[i].type) {\n            case 'fieldset':\n              if (skeleton[i].attrs['data-multi']) {\n                field = new _View3.View(skeleton[i], form, parent, i);\n              } else {\n                field = new _FieldSet.FieldSet(skeleton[i], form, parent, i);\n              }\n\n              break;\n\n            case 'select':\n              field = new _SelectField.SelectField(skeleton[i], form, parent, i);\n              break;\n\n            case 'radios':\n              field = new _RadioField.RadioField(skeleton[i], form, parent, i);\n              break;\n\n            case 'html':\n              field = new _HtmlField.HtmlField(skeleton[i], form, parent, i);\n              break;\n\n            case 'submit':\n            case 'button':\n              field = new _ButtonField.ButtonField(skeleton[i], form, parent, i);\n              break;\n\n            case 'hidden':\n              field = new _HiddenField.HiddenField(skeleton[i], form, parent, i);\n              break;\n\n            case 'textarea':\n              field = new _TextareaField.TextareaField(skeleton[i], form, parent, i);\n              break;\n\n            default:\n              field = new _Field.Field(skeleton[i], form, parent, i);\n              break;\n          }\n        }\n\n        fields[i] = field;\n        field.args.bindTo('value', function (v, k, t, d) {\n          // console.log(t,v);\n          if (t.type == 'html' && !t.contentEditable || t.type == 'fieldset') {\n            return;\n          } // let fieldName = field.args.name;\n\n\n          var fieldName = field.getName();\n\n          if (t.disabled) {\n            delete form.args.flatValue[fieldName];\n            return;\n          }\n\n          var multiple = t.attrs.multiple;\n          var newArray = Array.isArray(v);\n          var oldArray = parent.args.value[fieldName];\n          var exists = t.attrs.multiple && newArray && Array.isArray(oldArray);\n\n          if (exists) {\n            for (var _i3 in v) {\n              if (v[_i3] !== parent.args.value[fieldName][_i3]) {\n                parent.args.value[fieldName][_i3] = v[_i3];\n              }\n\n              parent.args.value[fieldName].splice(v.length);\n            }\n          } else {\n            parent.args.value[fieldName] = v;\n          }\n\n          form.args.flatValue[fieldName] = v;\n        });\n      };\n\n      for (var i in skeleton) {\n        var _ret = _loop(i);\n\n        if (_ret === \"continue\") continue;\n      }\n\n      return fields;\n    }\n  }, {\n    key: \"_updateFields\",\n    value: function _updateFields(parent, skeleton) {\n      for (var i in parent.args.fields) {\n        var field = parent.args.fields[i]; // console.log(i, field, skeleton[i]);\n\n        if (skeleton[i]) {\n          if (skeleton[i].value) {\n            field.args.value = skeleton[i].value;\n          }\n\n          if (skeleton[i].errors) {\n            field.args.errors = skeleton[i].errors;\n          }\n\n          if (skeleton[i].title) {\n            field.args.title = skeleton[i].title;\n          }\n\n          if (skeleton[i].options) {\n            field.args.options = skeleton[i].options;\n          }\n\n          if (skeleton[i].attrs) {\n            field.args.attrs = skeleton[i].attrs;\n          }\n\n          if (field.children && skeleton[i].children) {\n            this._updateFields(field, skeleton[i].children);\n          }\n        }\n      }\n    }\n  }]);\n\n  return Form;\n}(_View2.View);\n\nexports.Form = Form;\n  })();\n});","\nrequire.register(\"curvature/form/HiddenField.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HiddenField = void 0;\n\nvar _Field2 = require(\"./Field\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar HiddenField = /*#__PURE__*/function (_Field) {\n  _inherits(HiddenField, _Field);\n\n  function HiddenField(values, form, parent, key) {\n    var _this;\n\n    _classCallCheck(this, HiddenField);\n\n    values.type = 'hidden';\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HiddenField).call(this, values, form, parent, key));\n    _this.args.type = _this.args.attrs.type = 'hidden';\n    _this.template = \"\\n\\t\\t\\t<label\\n\\t\\t\\t\\tfor       = \\\"\".concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\tdata-type = \\\"\").concat(_this.args.attrs.type, \"\\\"\\n\\t\\t\\t\\tstyle     = \\\"display:none\\\"\\n\\t\\t\\t\\tcv-ref    = \\\"label:curvature/base/Tag\\\">\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\tname      = \\\"\").concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\t\\t\\ttype      = \\\"hidden\\\"\\n\\t\\t\\t\\t\\t\\tcv-bind   = \\\"value\\\"\\n\\t\\t\\t\\t\\t\\tcv-ref    = \\\"input:curvature/base/Tag\\\"\\n\\t\\t\\t\\t\\t\\tcv-expand = \\\"attrs\\\"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t\\t<span cv-if = \\\"value\\\">[[[value]]]</span>\\n\\t\\t\\t</label>\\n\\t\\t\");\n    return _this;\n  }\n\n  return HiddenField;\n}(_Field2.Field);\n\nexports.HiddenField = HiddenField;\n  })();\n});","\nrequire.register(\"curvature/form/HtmlField.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HtmlField = void 0;\n\nvar _View2 = require(\"../base/View\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar HtmlField = /*#__PURE__*/function (_View) {\n  _inherits(HtmlField, _View);\n\n  function HtmlField(values, form, parent, key) {\n    var _this;\n\n    _classCallCheck(this, HtmlField);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HtmlField).call(this, values, form, parent, key));\n    _this.ignore = _this.args.attrs['data-cv-ignore'] || false;\n    _this.args.contentEditable = _this.args.attrs.contenteditable || false;\n    _this.template = \"<div\\n\\t\\t\\tname            = \\\"\".concat(_this.args.name, \"\\\"\\n\\t\\t\\tcv-ref          = \\\"input:curvature/base/Tag\\\"\\n\\t\\t\\tcontenteditable = \\\"[[contentEditable]]\\\"\\n\\t\\t\\tcv-expand       = \\\"attrs\\\"\\n\\t\\t>[[$$value]]</div>\");\n    return _this;\n  }\n\n  _createClass(HtmlField, [{\n    key: \"hasChildren\",\n    value: function hasChildren() {\n      return false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.args.disabled = 'disabled';\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      if (this.tags.input) {\n        return this.tags.input.element.getAttribute('name');\n      }\n\n      return this.args.name;\n    }\n  }]);\n\n  return HtmlField;\n}(_View2.View);\n\nexports.HtmlField = HtmlField;\n  })();\n});","\nrequire.register(\"curvature/form/RadioField.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RadioField = void 0;\n\nvar _Field2 = require(\"./Field\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar RadioField = /*#__PURE__*/function (_Field) {\n  _inherits(RadioField, _Field);\n\n  function RadioField(values, form, parent, key) {\n    var _this;\n\n    _classCallCheck(this, RadioField);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RadioField).call(this, values, form, parent, key));\n    _this.template = \"\\n\\t\\t\\t<label\\n\\t\\t\\t\\tfor       = \\\"\".concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\tdata-type = \\\"\").concat(_this.args.attrs.type, \"\\\"\\n\\t\\t\\t\\tcv-ref    = \\\"label:curvature/base/Tag\\\">\\n\\t\\t\\t\\t<span cv-if = \\\"title\\\">\\n\\t\\t\\t\\t\\t<span cv-ref = \\\"title:curvature/base/Tag\\\">[[title]]</span>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t<span\\n\\t\\t\\t\\t\\tcv-each  = \\\"options:option:optionText\\\"\\n\\t\\t\\t\\t\\tcv-carry = \\\"value\\\"\\n\\t\\t\\t\\t\\t--cv-ref  = \\\"input:curvature/base/Tag\\\"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t<label>\\n\\t\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\t\\tname      = \\\"\").concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\t\\t\\t\\ttype      = \\\"radio\\\"\\n\\t\\t\\t\\t\\t\\t\\tvalue     = \\\"[[option]]\\\"\\n\\t\\t\\t\\t\\t\\t\\tcv-bind   = \\\"value\\\"\\n\\t\\t\\t\\t\\t\\t\\tcv-expand = \\\"attrs\\\"\\n\\t\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t\\t[[optionText]]\\n\\t\\t\\t\\t\\t</label>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t<span cv-each = \\\"errors:error:e\\\">\\n\\t\\t\\t\\t\\t<p class = \\\"cv-error\\\">[[error]]</p>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</label>\\n\\t\\t\");\n    return _this;\n  }\n\n  _createClass(RadioField, [{\n    key: \"getLabel\",\n    value: function getLabel() {\n      for (var i in this.args.options) {\n        if (this.args.options[i] == this.args.value) {\n          return i;\n        }\n      }\n    }\n  }]);\n\n  return RadioField;\n}(_Field2.Field);\n\nexports.RadioField = RadioField;\n  })();\n});","\nrequire.register(\"curvature/form/SelectField.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SelectField = void 0;\n\nvar _Field2 = require(\"./Field\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar SelectField = /*#__PURE__*/function (_Field) {\n  _inherits(SelectField, _Field);\n\n  function SelectField(values, form, parent, key) {\n    var _this;\n\n    _classCallCheck(this, SelectField);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SelectField).call(this, values, form, parent, key));\n    _this.template = \"\\n\\t\\t\\t<label\\n\\t\\t\\t\\tfor       = \\\"\".concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\tdata-type = \\\"\").concat(_this.args.attrs.type, \"\\\"\\n\\t\\t\\t\\tcv-ref    = \\\"label:curvature/base/Tag\\\">\\n\\t\\t\\t\\t<span cv-if = \\\"title\\\">\\n\\t\\t\\t\\t\\t<span cv-ref = \\\"title:curvature/base/Tag\\\">[[title]]</span>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t<select\\n\\t\\t\\t\\t\\tname      = \\\"\").concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\t\\tcv-bind   = \\\"value\\\"\\n\\t\\t\\t\\t\\tcv-each   = \\\"options:option:optionText\\\"\\n\\t\\t\\t\\t\\tcv-ref    = \\\"input:curvature/base/Tag\\\"\\n\\t\\t\\t\\t\\tcv-expand = \\\"attrs\\\"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t\\t\\t<option value = \\\"[[option]]\\\">[[optionText]]</option>\\n\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t<span cv-each = \\\"errors:error:e\\\">\\n\\t\\t\\t\\t\\t<p class = \\\"cv-error\\\">[[error]]</p>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</label>\\n\\t\\t\");\n\n    _this.args.bindTo('value', function (v, k, t, d, p) {// console.log(this.args.name,v,p);\n    });\n\n    return _this;\n  }\n\n  _createClass(SelectField, [{\n    key: \"postRender\",\n    value: function postRender(parentNode) {\n      var _this2 = this;\n\n      this.onTimeout(0, function () {\n        var tag = _this2.tags.input.element;\n\n        for (var i in tag.options) {\n          var option = tag.options[i];\n\n          if (option.value == _this2.args.value) {\n            tag.selectedIndex = i;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"getLabel\",\n    value: function getLabel() {\n      for (var i in this.args.options) {\n        if (this.args.options[i] == this.args.value) {\n          return i;\n        }\n      }\n    }\n  }]);\n\n  return SelectField;\n}(_Field2.Field);\n\nexports.SelectField = SelectField;\n  })();\n});","\nrequire.register(\"curvature/form/TextareaField.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TextareaField = void 0;\n\nvar _Field2 = require(\"./Field\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar TextareaField = /*#__PURE__*/function (_Field) {\n  _inherits(TextareaField, _Field);\n\n  function TextareaField(values, form, parent, key) {\n    var _this;\n\n    _classCallCheck(this, TextareaField);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TextareaField).call(this, values, form, parent, key));\n    _this.args.attrs.type = _this.args.attrs.type || 'hidden';\n    _this.template = \"\\n\\t\\t\\t<label\\n\\t\\t\\t\\tfor       = \\\"\".concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\tdata-type = \\\"\").concat(_this.args.attrs.type, \"\\\"\\n\\t\\t\\t\\tcv-ref    = \\\"label:curvature/base/Tag\\\">\\n\\t\\t\\t\\t<span cv-if = \\\"title\\\">\\n\\t\\t\\t\\t\\t<span cv-ref = \\\"title:curvature/base/Tag\\\">[[title]]</span>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t<textarea\\n\\t\\t\\t\\t\\t\\tname      = \\\"\").concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\t\\t\\tcv-bind   = \\\"value\\\"\\n\\t\\t\\t\\t\\t\\tcv-ref    = \\\"input:curvature/base/Tag\\\"\\n\\t\\t\\t\\t\\t\\tcv-expand = \\\"attrs\\\"\\n\\t\\t\\t\\t></textarea>\\n\\t\\t\\t\\t<cv-template cv-if = \\\"attrs.data-caption\\\">\\n\\t\\t\\t\\t\\t<p>[[attrs.data-caption]]</p>\\n\\t\\t\\t\\t</cv-template>\\n\\t\\t\\t\\t<span cv-each = \\\"errors:error:e\\\">\\n\\t\\t\\t\\t\\t<p class = \\\"cv-error\\\">[[error]]</p>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</label>\\n\\t\\t\");\n    return _this;\n  }\n\n  return TextareaField;\n}(_Field2.Field);\n\nexports.TextareaField = TextareaField;\n  })();\n});","\nrequire.register(\"curvature/form/multiField/CreateForm.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreateForm = void 0;\n\nvar _FormWrapper2 = require(\"./FormWrapper\");\n\nvar _HiddenField = require(\"../../form/HiddenField\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar CreateForm = /*#__PURE__*/function (_FormWrapper) {\n  _inherits(CreateForm, _FormWrapper);\n\n  function CreateForm(args, path) {\n    var _this;\n\n    var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n    var customFields = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, CreateForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateForm).call(this, args, path, 'POST', customFields || {// title: HiddenField\n    }));\n    _this.creating = !!args.publicId;\n    return _this;\n  }\n\n  _createClass(CreateForm, [{\n    key: \"onLoad\",\n    value: function onLoad(form) {\n      for (var i in form.args.fields) {\n        if (!form.args.fields[i].tags.input) {\n          continue;\n        }\n\n        if (form.args.fields[i].args.attrs.type == 'hidden') {\n          continue;\n        }\n\n        var element = form.args.fields[i].tags.input.element;\n        element.focus();\n        break;\n      }\n\n      _get(_getPrototypeOf(CreateForm.prototype), \"onLoad\", this).call(this, form);\n    }\n  }, {\n    key: \"onRequest\",\n    value: function onRequest() {\n      this.args.view.args.loading = true;\n      this.args.view.args.classes += ' loading';\n      return _get(_getPrototypeOf(CreateForm.prototype), \"onRequest\", this).call(this);\n    }\n  }, {\n    key: \"onResponse\",\n    value: function onResponse(response) {\n      this.args.view.args.loading = false;\n      this.args.view.args.classes = '';\n\n      if (!this.args.wrapper) {\n        this.args.view.addRecord(response.body);\n      } else {\n        this.args.wrapper.refresh(response.body);\n      }\n\n      this.args.view.args.creating = '';\n\n      _get(_getPrototypeOf(CreateForm.prototype), \"onResponse\", this).call(this, response);\n    }\n  }]);\n\n  return CreateForm;\n}(_FormWrapper2.FormWrapper);\n\nexports.CreateForm = CreateForm;\n  })();\n});","\nrequire.register(\"curvature/form/multiField/FormWrapper.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FormWrapper = void 0;\n\nvar _Config = require(\"Config\");\n\nvar _Repository = require(\"../../base/Repository\");\n\nvar _Form = require(\"../../form/Form\");\n\nvar _Toast = require(\"../../toast/Toast\");\n\nvar _ToastAlert = require(\"../../toast/ToastAlert\");\n\nvar _View2 = require(\"../../base/View\");\n\nvar _Router = require(\"../../base/Router\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar FormWrapper = /*#__PURE__*/function (_View) {\n  _inherits(FormWrapper, _View);\n\n  function FormWrapper(args, path) {\n    var _this;\n\n    var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n    var customFields = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, FormWrapper);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormWrapper).call(this, args));\n    _this.path = path;\n    _this.args.method = method;\n    _this.args.action = _this.args.action || null;\n    _this.args.form = null;\n    _this.args.title = null;\n    _this.args[\"class\"] = '';\n    _this.template = \"\\n\\t\\t\\t<div class = \\\"form constrict [[class]]\\\">\\n\\t\\t\\t\\t<div cv-if = \\\"title\\\"><label>[[title]]</label></div>\\n\\t\\t\\t\\t[[form]]\\n\\t\\t\\t</div>\\n\\t\\t\";\n    _this._onLoad = [];\n    _this._onSubmit = [];\n    _this._onRender = [];\n    _this._onRequest = [];\n    _this._onError = [];\n    _this._onResponse = [];\n\n    if (path instanceof _Form.Form) {\n      _this.loadForm(form, customFields);\n    } else {\n      _Repository.Repository.request(path).then(function (resp) {\n        if (!resp || !resp.meta || !resp.meta.form || !(resp.meta.form instanceof Object)) {\n          console.log('Cannot render form with ', resp); // Router.go('/');\n\n          return;\n        }\n\n        _this.loadForm(new _Form.Form(resp.meta.form, customFields));\n\n        _this.onLoad(_this.args.form, resp.body);\n      });\n    }\n\n    return _this;\n  }\n\n  _createClass(FormWrapper, [{\n    key: \"loadForm\",\n    value: function loadForm(form) {\n      var _this2 = this;\n\n      this.args.form = form;\n      this.args.form.onSubmit(function (form, event) {\n        if (_this2.onSubmit(form, event) === false) {\n          return;\n        }\n\n        if (event) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        var formElement = form.tags.formTag.element;\n\n        var uri = formElement.getAttribute('action') || _this2.args.action || _this2.path;\n\n        var method = formElement.getAttribute('method') || _this2.args.method;\n\n        var query = form.args.flatValue;\n        method = method.toUpperCase(); // console.log(method, uri);\n\n        if (method == 'GET') {\n          var _query = {};\n\n          if (_this2.args.content && _this2.args.content.args) {\n            _this2.args.content.args.page = 0;\n          }\n\n          _query.page = 0;\n\n          for (var i in query) {\n            if (i === 'api') {\n              continue;\n            }\n\n            _query[i] = query[i];\n          }\n\n          var promises = _this2.onRequest(_query);\n\n          promises.then(function () {\n            _this2.onResponse({});\n\n            _Router.Router.go(uri + '?' + _Router.Router.queryToString(_query));\n\n            _this2.update(_query);\n          })[\"catch\"](function (error) {\n            _this2.onRequestError(error);\n          });\n        } else if (method == 'POST') {\n          var formData = form.formData();\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = formData.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {// console.log(pair[0]+ ', ' + pair[1]);\n\n              var pair = _step.value;\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n                _iterator[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n\n          var _promises = _this2.onRequest(formData);\n\n          if (_promises) {\n            _promises.then(function () {\n              _Repository.Repository.request(uri, {\n                api: 'json'\n              }, formData, false, {\n                progressDown: function progressDown(event) {\n                  _this2.progressDown(event);\n                },\n                progressUp: function progressUp(event) {\n                  _this2.progressUp(event);\n                }\n              }).then(function (response) {\n                _this2.onResponse(response);\n              })[\"catch\"](function (error) {\n                _this2.onRequestError(error);\n              });\n            });\n          }\n        }\n      });\n    }\n  }, {\n    key: \"onRequest\",\n    value: function onRequest(requestData) {\n      var promises = [];\n\n      for (var i in this._onRequest) {\n        var onReq = this._onRequest[i](requestData, this);\n\n        if (onReq) {\n          promises.push(onReq);\n        }\n      }\n\n      if (promises.length == 0) {\n        return Promise.resolve();\n      }\n\n      return Promise.all(promises);\n    }\n  }, {\n    key: \"onRequestError\",\n    value: function onRequestError(error) {\n      for (var i in this._onError) {\n        this._onError[i](error, this);\n      }\n\n      if (error.messages) {\n        for (var _i in error.messages) {\n          _Toast.Toast.instance().alert(error.body && error.body.id ? 'Success!' : 'Error!', error.messages[_i], 3500);\n        }\n      }\n    }\n  }, {\n    key: \"onResponse\",\n    value: function onResponse(response) {\n      for (var i in this._onResponse) {\n        this._onResponse[i](response, this);\n      }\n\n      if (response.messages) {\n        for (var _i2 in response.messages) {\n          _Toast.Toast.instance().alert(response.body && response.body.id ? 'Success!' : 'Error!', response.messages[_i2], 3500);\n        }\n      }\n    }\n  }, {\n    key: \"onLoad\",\n    value: function onLoad(form, model) {\n      for (var i in this._onLoad) {\n        this._onLoad[i](this, form, model);\n      }\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(form, event) {\n      for (var i in this._onSubmit) {\n        this._onSubmit[i](this, event);\n      }\n    }\n  }, {\n    key: \"postRender\",\n    value: function postRender() {\n      for (var i in this._onRender) {\n        this._onRender[i](this.args.form);\n      }\n    }\n  }, {\n    key: \"customFields\",\n    value: function customFields() {\n      return {};\n    }\n  }, {\n    key: \"submit\",\n    value: function submit() {// console.log(this);\n    }\n  }, {\n    key: \"progressUp\",\n    value: function progressUp(event) {\n      console.log(event.loaded, event.total, event.loaded / event.total);\n    }\n  }, {\n    key: \"progressDown\",\n    value: function progressDown(event) {\n      console.log(event.loaded, event.total, event.loaded / event.total);\n    }\n  }]);\n\n  return FormWrapper;\n}(_View2.View);\n\nexports.FormWrapper = FormWrapper;\n  })();\n});","\nrequire.register(\"curvature/form/multiField/SearchForm.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SearchForm = void 0;\n\nvar _Config = require(\"Config\");\n\nvar _FormWrapper2 = require(\"./FormWrapper\");\n\nvar _HiddenField = require(\"../../form/HiddenField\");\n\nvar _Repository = require(\"../../base/Repository\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar SearchForm = /*#__PURE__*/function (_FormWrapper) {\n  _inherits(SearchForm, _FormWrapper);\n\n  function SearchForm(args, path) {\n    var _this;\n\n    var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n    var customFields = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, SearchForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchForm).call(this, args, path, 'POST', {\n      search: _HiddenField.HiddenField\n    }));\n    _this.superTemplate = _this.template;\n    _this.args.records = [];\n    _this.selected = null;\n    _this.template = \"\\n\\t\\t\\t\".concat(_this.superTemplate, \"\\n\\t\\t\\t<div cv-each = \\\"records:record:r\\\" class = \\\"dropdown-results\\\">\\n\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\tcv-on         = \\\"click:select(event)\\\"\\n\\t\\t\\t\\t\\tdata-index    = \\\"[[r]]\\\"\\n\\t\\t\\t\\t\\tdata-publicId = \\\"[[record.publicId]]\\\"\\n\\t\\t\\t\\t\\tclass         = \\\"[[record.classes]]\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t[[record.title]]\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\");\n    return _this;\n  }\n\n  _createClass(SearchForm, [{\n    key: \"onLoad\",\n    value: function onLoad(form) {\n      var _this2 = this;\n\n      for (var i in form.args.fields) {\n        if (!form.args.fields[i].tags.input) {\n          continue;\n        }\n\n        if (form.args.fields[i].args.attrs.type == 'hidden') {\n          continue;\n        }\n\n        var element = form.args.fields[i].tags.input.element;\n        element.focus();\n        break;\n      }\n\n      form.args.flatValue.bindTo('keyword', function (v) {\n        _this2.args.records = [];\n        _this2.selected = null;\n\n        if (!v) {\n          return;\n        }\n\n        console.log(_this2.path, v);\n\n        _Repository.Repository.request(_Config.Config.backend + _this2.path, {\n          keyword: v\n        }).then(function (response) {\n          console.log(response.body);\n\n          if (!response.body) {\n            return;\n          }\n\n          _this2.args.records = response.body.map(function (r) {\n            r.classes = '';\n\n            if (r.title == v) {\n              r.classes = 'selected';\n              _this2.selected = r;\n            }\n\n            return r;\n          });\n        });\n      });\n\n      _get(_getPrototypeOf(SearchForm.prototype), \"onLoad\", this).call(this, form);\n    }\n  }, {\n    key: \"onRequest\",\n    value: function onRequest() {\n      // this.args.view.args.loading = true;\n      // this.args.view.args.classes += ' loading';\n      return _get(_getPrototypeOf(SearchForm.prototype), \"onRequest\", this).call(this);\n    }\n  }, {\n    key: \"onResponse\",\n    value: function onResponse(response) {\n      // this.args.view.args.loading = false;\n      // this.args.view.args.classes = '';\n      // if(!this.args.wrapper)\n      // {\n      // \tthis.args.view.addRecord(response.body);\n      // }\n      // else\n      // {\n      // \tthis.args.wrapper.refresh(response.body);\n      // }\n      // this.args.view.addButtonClicked();\n      _get(_getPrototypeOf(SearchForm.prototype), \"onResponse\", this).call(this, response);\n    }\n  }, {\n    key: \"select\",\n    value: function select(event) {\n      var _this3 = this;\n\n      var index = event.target.getAttribute('data-index');\n      var publicId = event.target.getAttribute('data-publicId');\n      var record = this.args.records[index];\n      console.log(record);\n      this.args.view.addRecord(record);\n      this.args.view.addButtonClicked();\n      return;\n\n      _Repository.Repository.request(_Config.Config.backend + this.path + '/' + publicId).then(function (response) {\n        console.log(response.body);\n\n        if (!response.body) {\n          return;\n        }\n\n        _this3.args.view.addRecord(response.body);\n\n        _this3.args.view.addButtonClicked();\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(form, event) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (this.selected) {\n        this.args.view.addRecord(this.selected);\n        this.args.view.addButtonClicked();\n      }\n\n      return false;\n    }\n  }]);\n\n  return SearchForm;\n}(_FormWrapper2.FormWrapper);\n\nexports.SearchForm = SearchForm;\n  })();\n});","\nrequire.register(\"curvature/form/multiField/View.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.View = void 0;\n\nvar _Config = require(\"Config\");\n\nvar _Form = require(\"../../form/Form\");\n\nvar _FieldSet2 = require(\"../../form/FieldSet\");\n\nvar _CreateForm = require(\"./CreateForm\");\n\nvar _SearchForm = require(\"./SearchForm\");\n\nvar _FormWrapper = require(\"./FormWrapper\");\n\nvar _Wrapper = require(\"./Wrapper\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n// import { Loader     } from '../Ui/ZZ';\nvar View = /*#__PURE__*/function (_FieldSet) {\n  _inherits(View, _FieldSet);\n\n  function View(values, form, parent, key) {\n    var _this;\n\n    _classCallCheck(this, View);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(View).call(this, values, form, parent, key));\n    _this.args._fields = [];\n    _this.dragging = false;\n    _this.dropping = false;\n\n    for (var i in _this.args.fields) {\n      _this.args._fields[i] = _this.wrapSubfield(_this.args.fields[i]);\n    }\n\n    _this.args.fields[-1].disable();\n\n    _this.args.creating = '';\n    _this.args.fieldType = '';\n    _this.args.createForm = _this.args.createForm || '';\n    _this.args.searchForm = _this.args.searchForm || '';\n    _this.args.createFormReady = false;\n\n    _this.setCreateForm({\n      view: _assertThisInitialized(_this)\n    });\n\n    _this.args.loader = '...';\n    _this.args.addIcon = '&#215;';\n    _this.args.addIcon = 'a';\n    _this.args.addIcon = '+';\n    _this.args.draggable = 'true';\n    _this.template = \"\\n\\t\\t\\t<label\\n\\t\\t\\t\\tfor        = \\\"\".concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\tdata-type  = \\\"\").concat(_this.args.attrs.type, \"\\\"\\n\\t\\t\\t\\tdata-multi = \\\"\").concat(_this.args.attrs['data-multi'] ? 'true' : 'false', \"\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t<span cv-if = \\\"title\\\">\\n\\t\\t\\t\\t\\t<span cv-ref = \\\"title:curvature/base/Tag\\\">[[title]]</span>\\n\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t<fieldset\\n\\t\\t\\t\\t\\tname  = \\\"\").concat(_this.args.name, \"\\\"\\n\\t\\t\\t\\t\\tclass = \\\"multi-field [[creating]] [[fieldType]]\\\"\\n\\t\\t\\t\\t>\\n\\n\\t\\t\\t\\t\\t<div class = \\\"record-list\\\" cv-each = \\\"_fields:field:f\\\">\\n\\t\\t\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\t\\t\\tclass     = \\\"single-record\\\"\\n\\t\\t\\t\\t\\t\\t\\tdata-for  = \\\"[[f]]\\\"\\n\\t\\t\\t\\t\\t\\t\\tdraggable = \\\"[[draggable]]\\\"\\n\\t\\t\\t\\t\\t\\t\\tcv-on     = \\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tdrop:drop(event);\\n\\t\\t\\t\\t\\t\\t\\t\\tdragstart:drag(event);\\n\\t\\t\\t\\t\\t\\t\\t\\tdragend:dragStop(event);\\n\\t\\t\\t\\t\\t\\t\\t\\tdragover:dragOver(event);\\n\\t\\t\\t\\t\\t\\t\\t\\\"\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t[[field]]\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<div class = \\\"overlay create\\\">\\n\\t\\t\\t\\t\\t\\t<div class = \\\"form constrict\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\t\\t\\t\\tcv-on = \\\"click:addButtonClicked(event)\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tclass = \\\"bubble bottom left-margin close\\\"\\n\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t&#215;\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t[[createForm]]\\n\\t\\t\\t\\t\\t\\t[[searchForm]]\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<div class = \\\"overlay loading\\\">\\n\\t\\t\\t\\t\\t\\t[[loader]]\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div cv-if = \\\"createFormReady\\\" class=\\\"add-button-holder\\\">\\n\\n\\t\\t\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\t\\t\\tcv-on = \\\"click:addButtonClicked(event)\\\"\\n\\t\\t\\t\\t\\t\\t\\tclass = \\\"bubble bottom left-margin add\\\"\\n\\t\\t\\t\\t\\t\\t\\ttab-index = \\\"0\\\"\\n\\t\\t\\t\\t\\t\\t>[[addIcon]]</div>\\n\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t</fieldset>\\n\\n\\t\\t\\t\\t<span cv-each = \\\"errors:error:e\\\">\\n\\t\\t\\t\\t\\t<p class = \\\"cv-error\\\">[[error]]</p>\\n\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t</label>\\n\\t\\t\");\n    return _this;\n  }\n\n  _createClass(View, [{\n    key: \"setCreateForm\",\n    value: function setCreateForm(args) {\n      var _this2 = this;\n\n      var origin = '';\n\n      if (_Config.Config.backend) {\n        origin = _Config.Config.backend;\n      }\n\n      if (this.args.attrs['data-create-endpoint'] !== false) {\n        this.args.createForm = new _CreateForm.CreateForm(Object.assign({}, args), this.args.attrs['data-create-endpoint'] ? origin + this.args.attrs['data-create-endpoint'] : args.publicId ? origin + \"\".concat(this.args.attrs['data-endpoint'], \"/\").concat(args.publicId, \"/edit\") : origin + \"\".concat(this.args.attrs['data-endpoint'], \"/create\"));\n\n        this.args.createForm._onLoad.push(function (wrap, form) {\n          _this2.args.createFormReady = true;\n        });\n      } else {\n        this.args.createFormReady = true;\n      }\n\n      console.log(this.args.createFormReady);\n      this.args.searchForm = new _SearchForm.SearchForm(Object.assign({}, args), origin + this.args.attrs['data-endpoint']);\n    }\n  }, {\n    key: \"wrapSubfield\",\n    value: function wrapSubfield(field) {\n      return new _Wrapper.Wrapper({\n        field: field,\n        parent: this\n      });\n    }\n  }, {\n    key: \"addButtonClicked\",\n    value: function addButtonClicked() {\n      if (!this.args.creating) {\n        this.args.creating = 'creating';\n      }\n    }\n  }, {\n    key: \"addRecord\",\n    value: function addRecord(record) {\n      this.args.creating = '';\n\n      if (!Array.isArray(record)) {\n        record = [record];\n      }\n\n      for (var i in record) {\n        var fieldClass = this.args.fields[-1].constructor;\n        var skeleton = Object.assign({}, this.args.fields[-1].skeleton);\n        var name = Object.values(this.args.fields).length - 1;\n        skeleton = this.cloneSkeleton(skeleton);\n        skeleton = this.correctNames(skeleton, name);\n        var superSkeleton = {};\n        superSkeleton[name] = skeleton;\n\n        var newField = _Form.Form.renderFields(superSkeleton, this)[name];\n\n        this.args.fields[name] = newField;\n        var newWrap = this.wrapSubfield(newField);\n        newField.args.value.id = record[i].id || '';\n        newField.args.value[\"class\"] = record[i][\"class\"] || '';\n        newField.args.value.title = record[i].title || '';\n\n        this.args._fields.push(newWrap);\n\n        newWrap.refresh(record[i]);\n      }\n    }\n  }, {\n    key: \"editRecord\",\n    value: function editRecord(record, wrapper) {\n      this.setCreateForm({\n        view: this,\n        publicId: record.publicId,\n        wrapper: wrapper\n      });\n      this.args.creating = this.args.creating ? '' : 'creating';\n    }\n  }, {\n    key: \"deleteImage\",\n    value: function deleteImage(index) {\n      console.log(index, this.args.fields);\n      this.args.fields[index].disable();\n      this.args._fields[index].args.classes = 'deleted';\n    }\n  }, {\n    key: \"undeleteImage\",\n    value: function undeleteImage(index) {\n      this.args.fields[index].enable(); // console.log(this.args.fields[index]);\n      // console.log(this.args._fields[index]);\n      // console.log('===============');\n\n      this.args._fields[index].args.classes = '';\n    }\n  }, {\n    key: \"cloneSkeleton\",\n    value: function cloneSkeleton(object) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var _object = {};\n\n      if (Array.isArray(object)) {\n        _object = [];\n      }\n\n      for (var i in object) {\n        if (i == 'fields') {\n          continue;\n        }\n\n        if (!object[i] || _typeof(object[i]) !== 'object') {\n          _object[i] = object[i];\n          continue;\n        }\n\n        _object[i] = Object.assign({}, this.cloneSkeleton(object[i], level + 1));\n      }\n\n      return _object;\n    }\n  }, {\n    key: \"correctNames\",\n    value: function correctNames(skeleton, id) {\n      skeleton.name = skeleton.name.replace(/\\[-1\\]/, \"[\".concat(id, \"]\"));\n      skeleton.attrs.name = skeleton.name;\n\n      if ('children' in skeleton) {\n        for (var i in skeleton.children) {\n          skeleton.children[i] = this.correctNames(skeleton.children[i], id);\n        }\n      }\n\n      return skeleton;\n    }\n  }, {\n    key: \"drag\",\n    value: function drag(event) {\n      this.dragging = event.target;\n    }\n  }, {\n    key: \"dragOver\",\n    value: function dragOver(event) {\n      if (!this.dragging) {\n        return false;\n      }\n\n      var dropping = event.target;\n\n      while (dropping && !dropping.matches('[draggable=\"true\"]')) {\n        dropping = dropping.parentNode;\n      }\n\n      if (dropping) {\n        this.dropping = dropping;\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"drop\",\n    value: function drop(event) {\n      event.stopPropagation();\n      var dragLabel = this.dragging.querySelector('label');\n      var dropLabel = this.dropping.querySelector('label');\n      var dragName = dragLabel.getAttribute('for');\n      var dropName = dropLabel.getAttribute('for');\n      var dragIndex = this.extractIndex(dragName);\n      var dropIndex = this.extractIndex(dropName);\n\n      if (dragIndex == dropIndex || dragIndex == dropIndex - 1) {\n        this.dragging = false;\n        this.dropping = false;\n        return;\n      }\n\n      var dragFields = dragLabel.querySelectorAll('[name^=\"' + dragName + '\"]');\n      var dragLabels = dragLabel.querySelectorAll('[for^=\"' + dragName + '\"]');\n      var dropFields = dropLabel.querySelectorAll('[name^=\"' + dropName + '\"]');\n      var dropLabels = dropLabel.querySelectorAll('[for^=\"' + dropName + '\"]');\n      var dropBefore = this.dropping;\n      var offset = 0;\n      var dragField, dropField;\n\n      for (var i in this.args.fields) {\n        var currentFieldSet = this.args.fields[i].tags.input.element;\n        var currentLabel = this.args.fields[i].tags.label.element;\n        var currentName = currentFieldSet.getAttribute('name');\n\n        if (dragLabel == currentLabel) {\n          dragField = this.args.fields[i];\n        }\n\n        if (dropLabel == currentLabel) {\n          dropField = this.args.fields[i];\n        }\n\n        var currentIndex = this.extractIndex(currentName);\n        var newName = false;\n\n        if (currentIndex < 0) {\n          continue;\n        }\n\n        if (dragIndex > dropIndex && currentIndex >= dropIndex && currentIndex <= dragIndex) {\n          newName = this.changeIndex(currentName, currentIndex + 1);\n          offset = -1;\n        } else if (dragIndex < dropIndex && currentIndex <= dropIndex && currentIndex >= dragIndex) {\n          newName = this.changeIndex(currentName, currentIndex - 1);\n          offset = 0;\n        }\n\n        if (newName !== false) {\n          this.changeAttributePrefix(currentLabel, 'for', currentName, newName);\n          this.args.fields[i].args.fieldName = newName;\n          this.changeAttributePrefix(currentFieldSet, 'name', currentName, newName);\n          var currentFields = currentFieldSet.parentNode.querySelectorAll('[name^=\"' + currentName + '\"]');\n\n          for (var _i = 0; _i < currentFields.length; _i++) {\n            this.changeAttributePrefix(currentFields[_i], 'name', currentName, newName);\n          }\n\n          var currentLabels = currentFieldSet.parentNode.querySelectorAll('[for^=\"' + currentName + '\"]');\n\n          for (var _i2 = 0; _i2 < currentLabels.length; _i2++) {\n            this.changeAttributePrefix(currentLabels[_i2], 'for', currentName, newName);\n          }\n        }\n      }\n\n      dragName = dragLabel.getAttribute('for');\n      dropName = dropLabel.getAttribute('for');\n      dragIndex = this.extractIndex(dragName);\n      dropIndex = this.extractIndex(dropName);\n      this.changeAttributePrefix(dragLabel, 'for', dragName, this.changeIndex(dragName, dropIndex + offset));\n\n      for (var _i3 = 0; _i3 < dragFields.length; _i3++) {\n        this.changeAttributePrefix(dragFields[_i3], 'name', dragName, this.changeIndex(dragName, dropIndex + offset));\n      }\n\n      for (var _i4 = 0; _i4 < dragLabels.length; _i4++) {\n        this.changeAttributePrefix(dragLabels[_i4], 'for', dragName, this.changeIndex(dragName, dropIndex + offset));\n      }\n\n      dragField.args.fieldName = dragLabel.getAttribute('for');\n      this.changeAttributePrefix(dropLabel, 'for', dropName, this.changeIndex(dropName, dropIndex + offset + 1));\n\n      for (var _i5 = 0; _i5 < dropFields.length; _i5++) {\n        this.changeAttributePrefix(dropFields[_i5], 'name', dropName, this.changeIndex(dropName, dropIndex + offset + 1));\n      }\n\n      for (var _i6 = 0; _i6 < dropLabels.length; _i6++) {\n        this.changeAttributePrefix(dropLabels[_i6], 'for', dropName, this.changeIndex(dropName, dropIndex + offset + 1));\n      }\n\n      dropField.args.fieldName = dropLabel.getAttribute('for');\n      this.dragging.parentNode.insertBefore(this.dragging, dropBefore);\n      this.dragging = false;\n      this.dropping = false;\n    }\n  }, {\n    key: \"dragStop\",\n    value: function dragStop() {\n      this.dragging = false;\n      this.dropping = false;\n    }\n  }, {\n    key: \"changeAttributePrefix\",\n    value: function changeAttributePrefix(node, attribute, oldPrefix, newPrefix) {\n      var oldName = node.getAttribute(attribute);\n      var newName = newPrefix + node.getAttribute(attribute).substring(oldPrefix.length);\n      node.setAttribute(attribute, newName);\n    }\n  }, {\n    key: \"extractIndex\",\n    value: function extractIndex(name) {\n      var groups;\n\n      if (groups = /\\[(-?\\d+)\\]$/.exec(name)) {\n        return parseInt(groups[1]);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"changeIndex\",\n    value: function changeIndex(name, index) {\n      var newName = name.replace(/\\[(-?\\d+)\\]$/, '[' + index + ']');\n      return newName;\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel(event) {\n      event.stopPropagation();\n    }\n  }]);\n\n  return View;\n}(_FieldSet2.FieldSet);\n\nexports.View = View;\n  })();\n});","\nrequire.register(\"curvature/form/multiField/Wrapper.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Wrapper = void 0;\n\nvar _Config = require(\"Config\");\n\nvar _View2 = require(\"../../base/View\");\n\nvar _Repository = require(\"../../base/Repository\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Wrapper = /*#__PURE__*/function (_View) {\n  _inherits(Wrapper, _View);\n\n  function Wrapper(args) {\n    var _this;\n\n    _classCallCheck(this, Wrapper);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Wrapper).call(this, args));\n    _this.template = \"\\n\\t\\t\\t<div\\n\\t\\t\\t\\tclass = \\\"wrapped-field [[classes]]\\\"\\n\\t\\t\\t\\tcv-on = \\\"click:editRecord(event, key)\\\"\\n\\t\\t\\t\\ttitle = \\\"[[fieldName]]: [[id]]\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\tcv-on = \\\"click:deleteImage(event, key)\\\"\\n\\t\\t\\t\\t\\tstyle = \\\"display: inline; cursor:pointer;\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t[[icon]]\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class = \\\"field-content\\\">\\n\\t\\t\\t\\t\\t[[title]]\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div style = \\\"display:none\\\">[[field]]</div>\\n\\t\\t\"; // console.log(this.args.field);\n\n    _this.args.field = _this.args.field || '!';\n    _this.args.keyword = '';\n    _this.args.title = '';\n    _this.args.record = {};\n    _this.args.key = _this.args.field.key;\n    _this.args.classes = '';\n    _this.args.icon = '×';\n    _this.deleted = false;\n\n    _this.args.field.args.bindTo('fieldName', function (v) {\n      _this.args.fieldName = v;\n    });\n\n    _this.args.fieldName = _this.args.field.args.name;\n    _this.args.id = _this.args.field.args.value.id;\n\n    _this.args.bindTo('id', function (v) {\n      _this.args.field.args.value.id = v;\n    });\n\n    _this.args.field.args.value.bindTo('id', function (v, k) {\n      if (!v) {\n        return;\n      }\n\n      _Repository.Repository.request(_this.backendPath(), {\n        id: v\n      }).then(function (response) {\n        _this.args.id = v;\n        var record = response.body[0];\n\n        if (!record) {\n          _this.args.publicId = null;\n          _this.args.title = null;\n          return;\n        }\n\n        _this.refresh(record);\n      });\n    }, {\n      wait: 0\n    });\n\n    _this.args.field.args.value.bindTo('keyword', function (v) {\n      _this.args.keyword = v;\n    });\n\n    return _this;\n  }\n\n  _createClass(Wrapper, [{\n    key: \"editRecord\",\n    value: function editRecord() {\n      this.args.parent.editRecord(this.args.record, this);\n    }\n  }, {\n    key: \"deleteImage\",\n    value: function deleteImage(event, index) {\n      event.stopPropagation();\n\n      if (!this.deleted) {\n        this.args.icon = '↺';\n        this.args.parent.deleteImage(index);\n        this.deleted = true;\n      } else {\n        this.args.icon = '×';\n        this.args.parent.undeleteImage(index);\n        this.deleted = false;\n      }\n    }\n  }, {\n    key: \"backendPath\",\n    value: function backendPath() {\n      return _Config.Config.backend + this.args.parent.args.attrs['data-endpoint'];\n    }\n  }, {\n    key: \"getRecordTitle\",\n    value: function getRecordTitle(record) {\n      if (record._titleField) {\n        return record[record._titleField];\n      }\n\n      return record.title || record.publicId || record.id;\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh(model) {\n      for (var i in model) {\n        this.args[i] = model[i];\n      }\n\n      this.args.record = model;\n      this.args.title = this.getRecordTitle(model);\n    }\n  }]);\n\n  return Wrapper;\n}(_View2.View);\n\nexports.Wrapper = Wrapper;\n  })();\n});","\nrequire.register(\"curvature/toast/Toast.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Toast = void 0;\n\nvar _View2 = require(\"../base/View\");\n\nvar _ToastAlert = require(\"./ToastAlert\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Toast = /*#__PURE__*/function (_View) {\n  _inherits(Toast, _View);\n\n  _createClass(Toast, null, [{\n    key: \"instance\",\n    value: function instance() {\n      if (!this.inst) {\n        this.inst = new this();\n      }\n\n      return this.inst;\n    }\n  }]);\n\n  function Toast() {\n    var _this;\n\n    _classCallCheck(this, Toast);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Toast).call(this));\n    _this.template = \"\\n\\t\\t\\t<div id = \\\"[[_id]]\\\" cv-each = \\\"alerts:alert\\\" class = \\\"toast\\\">\\n\\t\\t\\t\\t[[alert]]\\n\\t\\t\\t</div>\\n\\t\\t\"; // this.style = {\n    // \t'': {\n    // \t\tposition:   'fixed'\n    // \t\t, top:      '0px'\n    // \t\t, right:    '0px'\n    // \t\t, padding:  '8px'\n    // \t\t, 'z-index':'999999'\n    // \t\t, display:  'flex'\n    // \t\t, 'flex-direction': 'column-reverse'\n    // \t}\n    // };\n\n    _this.args.alerts = []; // this.args.alerts.bindTo((v) => { console.log(v) });\n\n    return _this;\n  }\n\n  _createClass(Toast, [{\n    key: \"pop\",\n    value: function pop(alert) {\n      var _this2 = this;\n\n      var index = this.args.alerts.length;\n      this.args.alerts.push(alert);\n      alert.decay(function (alert) {\n        return function () {\n          for (var i in _this2.args.alerts) {\n            if (_this2.args.alerts[i].___ref___ === alert.___ref___) {\n              alert.remove();\n              delete _this2.args.alerts[i];\n              return;\n            }\n          }\n        };\n      }(alert));\n    }\n  }, {\n    key: \"alert\",\n    value: function alert(title, body, time) {\n      return this.pop(new _ToastAlert.ToastAlert({\n        title: title,\n        body: body,\n        time: time\n      }));\n    }\n  }]);\n\n  return Toast;\n}(_View2.View);\n\nexports.Toast = Toast;\n  })();\n});","\nrequire.register(\"curvature/toast/ToastAlert.js\", function(exports, require, module) {\n  require = __makeRelativeRequire(require, {}, \"curvature\");\n  (function() {\n    \"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ToastAlert = void 0;\n\nvar _View2 = require(\"../base/View\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar ToastAlert = /*#__PURE__*/function (_View) {\n  _inherits(ToastAlert, _View);\n\n  function ToastAlert(args) {\n    var _this;\n\n    _classCallCheck(this, ToastAlert);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ToastAlert).call(this, args));\n    _this.args.running = false;\n    _this.args.time = _this.args.time || 16000;\n    _this.init = _this.args.time;\n    _this.args.title = _this.args.title || 'Standard alert';\n    _this.args.status = 'new';\n    _this.args.body = _this.args.body || 'This is a standard alert.';\n    _this.template = \"\\n\\t\\t\\t<div id = \\\"[[_id]]\\\" class = \\\"alert toast-[[status]]\\\">\\n\\t\\t\\t\\t<h3>[[title]]</h3>\\n\\t\\t\\t\\t<p>[[body]]</p>\\n\\t\\t\\t</div>\\n\\t\\t\";\n    return _this;\n  }\n\n  _createClass(ToastAlert, [{\n    key: \"decay\",\n    value: function decay(complete) {\n      var _this2 = this;\n\n      this.args.running = true;\n      this.onTimeout(50, function () {\n        _this2.args.status = '';\n      });\n      this.onTimeout(300, function () {\n        _this2.args.status = 'decaying';\n      });\n      this.onTimeout(2400, function () {\n        _this2.args.status = 'imminent';\n      });\n      this.onTimeout(3500, function () {\n        _this2.remove();\n      });\n    }\n  }]);\n\n  return ToastAlert;\n}(_View2.View);\n\nexports.ToastAlert = ToastAlert;\n  })();\n});","export class Config {}\n\nConfig.project = 'Ksqlc';\nConfig.version = '0.0.2';\nConfig.title   = 'Ksqlc - Sean Morris | cv2-doc'\nConfig.source  = '/docs-20200701.tmp.jsv';\n\nConfig.sourceRoot = 'https://github.com/seanmorris/ksqlc/blob/master/';\nConfig.repository = 'seanmorris/ksqlc';\nConfig.tagline    = 'The PHP KSQL Connector';\n\nConfig.copyright  = '2020 Sean Morris';\nConfig.author     = 'Sean Morris';\n\nConfig.homeLinks  = {\n\tgithub:      'https://github.com/seanmorris/Ksqlc'\n\t, packagist: 'https://packagist.org/packages/seanmorris/ksqlc'\n};\n\n// Config.project = 'Ids'\n// Config.title   = 'Ids - Sean Morris | cv2-doc'\n// Config.source  = 'https://raw.githubusercontent.com/seanmorris/ids/sm-dynamic-docs/asset/documentation.jsv';\n\n// Config.sourceRoot = 'https://github.com/seanmorris/ids/blob/sm-dynamic-docs/';\n// Config.repository = 'seanmorris/ids';\n// Config.tagline    = 'The PHP + Docker Framework';\n\n// Config.author     = 'Sean Morris';\n// Config.copyright  = '2011-2020 Sean Morris';\n\n// Config.homeLinks  = {\n// \tgithub:      'https://github.com/seanmorris/ids'\n// \t, packagist: 'https://packagist.org/packages/seanmorris/ids'\n// };\n\nConfig.pages = {\n\t\n\t'home': {\n\t\ttemplate: `/home.tmp.html`\n\t\t, icon:   '/home.svg'\n\t\t, link:   '/'\n\t}\n\t\n\t, readme: {\n\t\ttemplate: `https://api.github.com/repos/${Config.repository}/contents/README.md`\n\t\t, icon:   '/readme.svg'\n\t}\n\n\t, license: {\n\t\ttemplate: `https://api.github.com/repos/${Config.repository}/contents/LICENSE`\n\t\t, icon:   '/apache.svg'\n\t}\n\n\t, author: {\n\t\ttemplate: `/author.tmp.html`\n\t\t, icon:   '/me.svg'\n\t}\n\n\t, 'whats-this': {\n\t\ttemplate: '/whats-this.tmp.html'\n\t\t, title:  'whats this?'\n\t\t, icon:   '/info.svg'\n\t}\n\n};","import { RemoteFile } from './RemoteFile';\n\nexport class Rak\n{\n\tconstructor(options)\n\t{\n\t\tthis.url    = options.url || false;\n\t\tthis.delim  = \"\\n\";\n\t\tthis.remote = null;\n\t}\n\n\tread()\n\t{\n\t\tif(!this.remote)\n\t\t{\n\t\t\tthis.remote = new RemoteFile(this.url);\n\t\t}\n\n\t\tthis.remote.readBytes(1).then(([byte])=>{\n\n\t\t\tswitch(byte)\n\t\t\t{\n\t\t\t\tcase 0x3A: // ':'\n\t\t\t}\n\n\t\t});\n\t}\n}\n\n/* rak grammar:\n\nkey    = [a-z][0-9a-z]+?\nstring = \"[.]+?\"\nnumber = [0-9]+?\nnull   = null\nobject = {.+?}|[.+?] (literal square brackets)\nvalue  = [<string>|<number>|<null>|<object>]\n\n<key>:<value>\\n\n:<value>\\n\n\"<string>\"\\n\n<number>\\n\n\nif the first character is [0-9a-z]\n\n*/\n","export class RemoteFile\n{\n\tconstructor(url, options = {encoding: 'utf-8', fetchInit: {}})\n\t{\n\t\tthis.url   = url;\n\t\tthis.chunk = null;\n\t\tthis.index = 0;\n\t\tthis.done  = false;\n\n\t\tthis.fetchInit = options.fetchInit;\n\t\tthis.encoding  = options.encoding;\n\t}\n\n\treadChunk()\n\t{\n\t\tif(this.done)\n\t\t{\n\t\t\treturn Promise.resolve(new Uint8Array());\n\t\t}\n\n\t\tif(this.chunk && this.index < this.chunk.length)\n\t\t{\n\t\t\treturn Promise.resolve(this.chunk);\n\t\t}\n\n\t\tif(!this.reader)\n\t\t{\n\t\t\tthis.reader = fetch(this.url, this.fetchInit).then(\n\t\t\t\tresponse => response.body.getReader()\n\t\t\t);\n\t\t}\n\n\t\treturn this.reader.then(r => r.read(8)).then(({done,value}) => {\n\t\t\tthis.index = 0;\n\t\t\tthis.chunk = value;\n\t\t\tthis.done  = done;\n\n\t\t\tif(done)\n\t\t\t{\n\t\t\t\treturn new Uint8Array(0);\n\t\t\t}\n\n\t\t\treturn value;\n\t\t});\n\t}\n\n\treadBytes(total = 1024)\n\t{\n\t\tlet found  = 0;\n\n\t\tconst buffer = new Uint8Array(total);\n\t\t\n\t\tconst getBytes = () => {\n\n\t\t\treturn this.readChunk().then(chunk => {\n\n\t\t\t\tconst start = this.index;\n\t\t\t\tlet   end   = this.index + chunk.length;\n\n\t\t\t\tif(end > buffer.length)\n\t\t\t\t{\n\t\t\t\t\tend = this.index + (buffer.length - found);\n\t\t\t\t}\n\n\t\t\t\tconst slice = chunk.slice(start, end);\n\n\t\t\t\tbuffer.set(slice, found);\n\t\t\t\t\n\t\t\t\tthis.index += slice.length;\n\t\t\t\tfound      += slice.length;\n\t\t\t\t\n\t\t\t\tif(!this.done && total > found)\n\t\t\t\t{\n\t\t\t\t\treturn getBytes();\n\t\t\t\t}\n\n\t\t\t\treturn buffer.slice(0, found);\n\t\t\t});\n\t\t};\n\n\t\treturn getBytes();\n\t}\n\n\treadLine()\n\t{\n\t\tconst newline = /\\n/;\n\n\t\tlet found  = 0;\n\n\t\tconst buffer = [];\n\n\t\tconst getBytes = () => {\n\t\t\treturn this.readChunk().then(chunk => {\n\n\t\t\t\tlet terminated = false;\n\n\t\t\t\tconst start = this.index;\n\t\t\t\tlet   end   = this.index + chunk.length;\n\n\t\t\t\tfor(let i = start; i < end; i++)\n\t\t\t\t{\n\t\t\t\t\tif(chunk[i] === 10 || chunk[i] === 13)\n\t\t\t\t\t{\n\t\t\t\t\t\tend = i + 1;\n\n\t\t\t\t\t\twhile(chunk[end] === 13)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tend++;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tterminated = true;\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst slice = chunk.slice(start, end);\n\n\t\t\t\tbuffer.splice(found, 0, ...slice);\n\t\t\t\t\n\t\t\t\tthis.index += slice.length;\n\t\t\t\tfound      += slice.length;\n\n\t\t\t\tif(!this.done && !terminated)\n\t\t\t\t{\n\t\t\t\t\treturn getBytes();\n\t\t\t\t}\n\t\n\t\t\t\treturn buffer.slice(0, found);\n\t\t\t});\t\t\t\n\t\t};\n\n\t\treturn getBytes().then(bytes => {\n\n\t\t\tif(!this.decoder)\n\t\t\t{\n\t\t\t\tthis.decoder = new TextDecoder(this.encoding);\n\t\t\t}\n\n\t\t\treturn this.decoder.decode(new Uint8Array(bytes));\n\n\t\t});\n\t}\n\n\treadLines(callback, accumulator = {})\n\t{\n\t\tif(callback === undefined)\n\t\t{\n\t\t\tcallback = amount;\n\t\t}\n\n\t\treturn this.readLine().then(line => {\n\n\t\t\tcallback(line, accumulator);\n\n\t\t\tif(!this.done)\n\t\t\t{\n\t\t\t\tsetTimeout(()=>this.readLines(callback, accumulator), 50);\n\t\t\t\treturn;\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn Promise.resolve(accumulator);\n\t\t});\n\t}\n}","import { Config } from 'Config';\nimport { Router } from 'curvature/base/Router';\n\nimport { View as BaseView } from 'curvature/base/View';\n\nexport class View extends BaseView\n{\n\tconstructor(args)\n\t{\n\t\tsuper(args);\n\n\t\tthis.template = require('./view.tmp');\n\n\t\tconst classname = this.args.classname;\n\n\t\tthis.args.sourceRoot = Config.sourceRoot;\n\n\t\tthis.args.bindTo('classname', (v) => {\n\t\t\tthis.args.encodedName = encodeURIComponent(v);\n\t\t});\n\n\t\tthis.args.bindTo('parent', (v) => {\n\t\t\tthis.args.encodedParent = encodeURIComponent(v);\n\t\t});\n\n\t\tthis.args.lines = {};\n\n\t\tthis.args.bindTo('lines', (v) => {\n\t\t\tif(!v)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tObject.assign(this.args.lines, v);\n\t\t});\n\n\t\tthis.args.notes = {};\n\n\t\tthis.args.rawTags = '';\n\n\t\tthis.args.expanded = {};\n\n\t\tthis.args.bindTo('doc', (v) => {\n\t\t\tif(!v) { v = '' }\n\t\t\tObject.assign(this.args.notes, this.processDocComment(v));\n\t\t\tthis.args.rawTags = JSON.stringify(this.args.notes.tags, null, 4);\n\t\t\t\n\t\t});\n\n\t\tthis.args.methodCount = 0;\n\n\t\tthis.args.bindTo('methods', (v) => {\n\n\t\t\tif(!v)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis.args.methodCount = Object.keys(v).length;\n\n\t\t\tfor(const m in v)\n\t\t\t{\n\t\t\t\tconst method = v[m];\n\n\t\t\t\tmethod.icon = this.getVisibilityIcon(method);\n\t\t\t\tmethod.scopeIcon = this.getScopeIcon(method);\n\t\t\t\tmethod.refIcon = this.getRefIcon(method);\n\n\t\t\t\tmethod.parameterCount = Object.keys(method.parameters).length\n\n\t\t\t\tfor(const p in method.parameters)\n\t\t\t\t{\n\t\t\t\t\tconst param = method.parameters[p];\n\n\t\t\t\t\tparam.defaultString = '';\n\n\t\t\t\t\tif(param.hasDefault)\n\t\t\t\t\t{\n\t\t\t\t\t\tparam.defaultString = JSON.stringify(param.default, null, 4);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tmethod.rawTags = '';\n\n\t\t\t\tif(method.doc)\n\t\t\t\t{\n\t\t\t\t\tmethod.notes = this.processDocComment(method.doc);\n\t\t\t\t\tmethod.rawTags = JSON.stringify(method.notes.tags, null, 4);\n\t\t\t\t}\n\n\t\t\t\tmethod.inherited = false;\n\n\t\t\t\tmethod.overriden = !!method.overrides;\n\n\t\t\t\tif(classname !== method.class)\n\t\t\t\t{\n\t\t\t\t\tmethod.encodedClass = encodeURIComponent(method.class);\n\t\t\t\t\tmethod.inherited = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.args.propertyCount = 0;\n\n\t\tthis.args.bindTo('properties', (v) => {\n\n\t\t\tif(!v)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis.args.propertyCount = Object.keys(v).length;\n\t\t\t\n\t\t\tfor(const p in v)\n\t\t\t{\n\t\t\t\tconst property = v[p];\n\n\t\t\t\tproperty.icon = this.getVisibilityIcon(property);\n\n\t\t\t\tproperty.scopeIcon = this.getScopeIcon(property);\n\n\t\t\t\tproperty.defaultString = '';\n\n\t\t\t\tif(property.default !== null)\n\t\t\t\t{\n\t\t\t\t\tproperty.defaultString = JSON.stringify(property.default, null, 4);\n\t\t\t\t}\n\n\t\t\t\tproperty.inherited = false;\n\n\t\t\t\tif(classname !== property.class)\n\t\t\t\t{\n\t\t\t\t\tproperty.encodedClass = encodeURIComponent(property.class);\n\t\t\t\t\tproperty.inherited = true;\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t});\n\n\t\tthis.args.constantCount = 0;\n\n\t\tthis.args.bindTo('constants', (v) => {\n\n\t\t\tif(!v)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.args.constantCount = Object.keys(v).length;\n\n\t\t\tfor(const c in v)\n\t\t\t{\n\t\t\t\tconst constant = v[c];\n\n\t\t\t\tconstant.icon = this.getVisibilityIcon(constant);\n\n\t\t\t\tconstant.valuedString = '';\n\n\t\t\t\tif(constant.value !== null)\n\t\t\t\t{\n\t\t\t\t\tconstant.valueString = JSON.stringify(constant.value, null, 4);\n\t\t\t\t}\n\n\t\t\t\tconstant.inherited = false;\n\n\t\t\t\tconstant.class = constant.class ? constant.class.name : '';\n\n\t\t\t\tif(constant.file && classname !== constant.class)\n\t\t\t\t{\n\t\t\t\t\tconstant.encodedClass = encodeURIComponent(constant.class);\n\t\t\t\t\tconstant.inherited = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.args.classes = {};\n\n\t\t\tthis.args.classes.bindTo((v,k) => {\n\n\t\t\t\tthis.args.classList = Object\n\t\t\t\t\t.values(this.args.classes)\n\t\t\t\t\t.filter(x=>x)\n\t\t\t\t\t.join(' ');\n\n\t\t\t}, {wait: 0});\t\t\t\n\t\t});\n\n\t}\n\n\tprocessDocComment(string)\n\t{\n\t\tconst raw = string.replace(/\\n\\s+\\*\\/?/g, \"\\n\")\n\t\t\t.replace(/\\/\\*\\*\\s+/g, '')\n\t\t\t.replace(/\\*\\/$/g, '')\n\t\t\t.trim();\n\n\t\tconst lines = raw.split(/\\n/).map(l=>l.trim());\n\n\t\tif(!lines)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tlet summaryLine;\n\n\t\tconst summaryLines = [];\n\n\t\twhile(summaryLine = lines.shift())\n\t\t{\n\t\t\tsummaryLines.push(summaryLine);\n\t\t}\n\n\t\tconst summary   = summaryLines.join(\"\\n\");\n\t\tconst bodyLines = [];\n\t\tconst tagLines  = [];\n\n\t\tfor(const line of lines)\n\t\t{\n\n\t\t\tif(line.match(/^@/))\n\t\t\t{\n\t\t\t\ttagLines.push(line);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(tagLines.length)\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tbodyLines.push(line);\n\t\t}\n\n\t\tfor(const tag in tagLines)\n\t\t{\n\n\t\t}\n\n\t\tconst body = bodyLines.join(\"\\n\");\n\t\tconst tags = tagLines;\n\n\t\treturn {summary, body, tags}\n\t}\n\n\tgetRefIcon(obj)\n\t{\n\t\tif(obj.reference)\n\t\t{\n\t\t\treturn '/link.svg';\n\t\t}\n\t}\n\n\tgetScopeIcon(obj)\n\t{\n\t\tif(obj.static)\n\t\t{\n\t\t\treturn '/connected.svg';\n\t\t}\n\t}\n\n\tgetVisibilityIcon(obj)\n\t{\n\t\tif(obj.public)\n\t\t{\n\t\t\treturn '/open-box.svg';\n\t\t}\n\n\t\tif(obj.protected)\n\t\t{\n\t\t\treturn '/closed-box.svg';\n\t\t}\n\n\t\tif(obj.private)\n\t\t{\n\t\t\treturn '/lock.svg';\n\t\t}\n\t}\n\n\texpand(event, section)\n\t{\n\t\tevent.preventDefault();\n\n\t\tthis.args.expanded[section] = !!!this.args.expanded[section];\n\n\t\tconst expand =`expand-${section}`;\n\t\tconst collapse = `collapse-${section}`;\n\n\t\tif(this.args.expanded[section])\n\t\t{\n\t\t\tthis.args.classes[expand] = expand;\n\t\t\tthis.args.classes[collapse] = '';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.args.classes[expand] = '';\n\t\t\tthis.args.classes[collapse] = collapse;\n\t\t}\n\t}\n\n\tencodeURI(x)\n\t{\n\t\treturn encodeURIComponent(x);\n\t}\n\n\tarLen(x)\n\t{\n\t\tif(!x)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn x.length\n\t\t\t|| Object.keys(x).length\n\t\t\t|| 0;\n\t}\n}\n","module.exports = \"<div itemscope itemtype = \\\"https://schema.org/APIReference\\\" class = \\\"[[classList]]\\\" cv-if = \\\"classname\\\">\\n\\t<meta itemprop=\\\"assemblyVersion\\\" content = \\\"PHP 7+\\\" />\\n\\t<meta itemprop=\\\"license\\\" content = \\\"https://www.apache.org/licenses/LICENSE-2.0\\\" />\\n\\t<meta itemprop=\\\"dependencies\\\" content = \\\"PHP 7+\\\" />\\n\\t<meta itemprop=\\\"inLanguage\\\" content = \\\"PHP 7+\\\" />\\n\\t<meta itemprop=\\\"dependencies\\\" content = \\\"Kafka\\\" />\\n\\t<meta itemprop=\\\"dependencies\\\" content = \\\"Ksql\\\" />\\n\\t<meta itemprop=\\\"keywords\\\" content = \\\"php\\\" />\\n\\t<meta itemprop=\\\"keywords\\\" content = \\\"Ksql\\\" />\\n\\t<meta itemprop=\\\"keywords\\\" content = \\\"kafka\\\" />\\n\\t<meta itemprop=\\\"keywords\\\" content = \\\"ksqlc\\\" />\\n\\t<meta itemprop=\\\"programmingModel\\\" content = \\\"Object Oriented\\\" />\\n\\n\\t<meta itemprop = \\\"url\\\" content = \\\"[[sourceRoot]][[file]]\\\" />\\n\\n\\t<span itemprop = \\\"editor\\\" itemscope itemtype=\\\"http://schema.org/Person\\\">\\n\\t\\t<meta itemprop=\\\"name\\\" content = \\\"[[author]]\\\" />\\n\\t\\t<meta itemprop = \\\"url\\\" content = \\\"https://ksqlc.docs.unholysh.it/page/author\\\" />\\n\\t</span>\\n\\n\\t<span itemprop = \\\"creator\\\" itemscope itemtype=\\\"http://schema.org/Person\\\">\\n\\t\\t<meta itemprop=\\\"name\\\" content = \\\"[[author]]\\\" />\\n\\t\\t<meta itemprop = \\\"url\\\" content = \\\"https://ksqlc.docs.unholysh.it/page/author\\\" />\\n\\t</span>\\n\\n\\t<span itemprop = \\\"maintainer\\\" itemscope itemtype=\\\"http://schema.org/Person\\\">\\n\\t\\t<meta itemprop=\\\"name\\\" content = \\\"[[author]]\\\" />\\n\\t\\t<meta itemprop = \\\"url\\\" content = \\\"https://ksqlc.docs.unholysh.it/page/author\\\" />\\n\\t</span>\\n\\n\\t<span itemprop=\\\"isPartOf\\\" itemscope itemtype=\\\"https://schema.org/SoftwareApplication\\\">\\n\\t\\t<meta itemprop=\\\"name\\\" content = \\\"ksqlc\\\" />\\n\\t\\t<meta itemprop=\\\"url\\\" content = \\\"https://ksqlc.docs.unholysh.it/\\\" />\\n    </div>\\n\\t\\n\\n\\t<h2 class = \\\"mono\\\">\\n\\t\\t<span cv-if = \\\"final\\\" data-icon = \\\"/final.svg\\\">\\n\\t\\t\\t<img src = \\\"/final.svg\\\" />\\n\\t\\t</span>\\n\\n\\t\\t<span cv-if = \\\"abstract\\\" data-icon = \\\"/abstract.svg\\\">\\n\\t\\t\\t<img src = \\\"/abstract.svg\\\" />\\n\\t\\t</span>\\n\\n\\t\\t<span cv-if = \\\"isPlainClass\\\" data-icon = \\\"/icosahedron.svg\\\">\\n\\t\\t\\t<img src = \\\"/icosahedron.svg\\\" />\\n\\t\\t</span>\\n\\n\\t\\t<span cv-if = \\\"isTrait\\\" data-icon = \\\"/trait.svg\\\">\\n\\t\\t\\t<img src = \\\"/trait.svg\\\" />\\n\\t\\t</span>\\n\\n\\t\\t<span cv-if = \\\"isInterface\\\" data-icon = \\\"/interface.svg\\\">\\n\\t\\t\\t<img src = \\\"/interface.svg\\\" />\\n\\t\\t</span>\\n\\t\\t[[shortname]]\\n\\t</h2>\\n\\n\\t<p class = \\\"collapsible class-types row\\\">\\n\\t\\t<span cv-if = \\\"final\\\">final</span>\\n\\t\\t<span cv-if = \\\"abstract\\\">abstract</span>\\n\\t\\t<span cv-if = \\\"iterable\\\">iterable</span>\\n\\t\\t<span cv-if = \\\"isClass\\\">class</span>\\n\\t\\t<span cv-if = \\\"isInterface\\\">interface</span>\\n\\t\\t<span cv-if = \\\"isTrait\\\">trait</span>\\n\\t\\t<small class = \\\"mono\\\">\\n\\t\\t\\t<b itemprop=\\\"executableLibraryName\\\">[[classname]]</b>\\n\\t\\t</small>\\n\\t</p>\\n\\n\\t<small class = \\\"mono\\\">\\n\\t\\t<a href = \\\"[[sourceRoot]][[file]]#L[[lines.0]]-L[[lines.1]]\\\" target = \\\"_blank\\\">\\n\\t\\t\\t[[file]] : [[lines.0]] - [[lines.1]]\\n\\t\\t</a>\\n\\t</small>\\n\\n\\t<span cv-if = \\\"notes.summary\\\">\\n\\t\\t<p class = \\\"pre pad-top\\\" cv-bind = \\\"notes.summary\\\"></p>\\n\\t</span>\\n\\n\\t<span cv-if = \\\"notes.body\\\">\\n\\t\\t<span data-collapse = \\\"main\\\" >\\n\\t\\t\\t<a href = \\\"#\\\" cv-on = 'click:expand(event, \\\"main\\\")'>more...</a>\\n\\t\\t</span>\\n\\t\\t<span data-expand = \\\"main\\\">\\n\\t\\t\\t<a href = \\\"#\\\" cv-on = 'click:expand(event, \\\"main\\\")'>less</a>\\n\\t\\t\\t<br />\\n\\t\\t\\t<span class =\\\"pre\\\" itemprop = \\\"articleSection\\\"><p cv-bind = \\\"notes.body\\\"></p></span>\\n\\t\\t</span>\\n\\t</span>\\n\\n\\t<div class = \\\"row legend pad-vertical\\\">\\n\\t\\t<span data-icon = \\\"/open-box.svg\\\">\\n\\t\\t\\t<img src = \\\"/open-box.svg\\\">-&nbsp;public\\n\\t\\t</span>\\n\\t\\t<span data-icon = \\\"/closed-box.svg\\\">\\n\\t\\t\\t<img src = \\\"/closed-box.svg\\\">-&nbsp;protected\\n\\t\\t</span>\\n\\t\\t<span data-icon = \\\"/lock.svg\\\">\\n\\t\\t\\t<img src = \\\"/lock.svg\\\">-&nbsp;private\\n\\t\\t</span>\\n\\t\\t<span data-icon = \\\"/connected.svg\\\">\\n\\t\\t\\t<img src = \\\"/connected.svg\\\">-&nbsp;static\\n\\t\\t</span>\\n\\t\\t<span data-icon = \\\"/link.svg\\\">\\n\\t\\t\\t<img src = \\\"/link.svg\\\">-&nbsp;reference\\n\\t\\t</span>\\n\\t\\t<span data-icon = \\\"/inherit.svg\\\">\\n\\t\\t\\t<img src = \\\"/inherit.svg\\\" />-&nbsp;inherited\\n\\t\\t</span>\\n\\t\\t<span data-icon = \\\"/override.svg\\\">\\n\\t\\t\\t<img src = \\\"/override.svg\\\" />-&nbsp;override\\n\\t\\t</span>\\n\\t</div>\\n\\n\\t<small cv-if = \\\"parent\\\">\\n\\t\\t<i>Extends <a cv-link = \\\"/class/[[encodedParent]]\\\" class = \\\"mono\\\">[[parent]]</a></i>\\n\\t</small>\\n\\n\\t<small cv-if = \\\"interfaces\\\">\\n\\t\\tImplements: <span cv-each = \\\"interfaces:interface:i\\\" cv-delim = \\\", \\\">\\n\\t\\t\\t<i><a cv-link = \\\"/class/[[i|encodeURI]]\\\" class = \\\"mono\\\">[[i]]</a></i>\\n\\t\\t</span>\\n\\t</small>\\n\\n\\t<div class = \\\"row summary\\\">\\n\\n\\t\\t<div cv-if = \\\"methodCount\\\">\\n\\t\\t\\t<h3>\\n\\t\\t\\t\\t<span class = \\\"icon\\\" data-icon = \\\"/function.svg\\\">\\n\\t\\t\\t\\t\\t<img src = \\\"/function.svg\\\" />\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\\tmethods\\n\\t\\t\\t</h3>\\n\\t\\t\\t<ul cv-each = \\\"methods:method:m\\\">\\n\\t\\t\\t\\t<li cv-with = \\\"method\\\" cv-carry = \\\"m\\\">\\n\\n\\t\\t\\t\\t\\t<span cv-if = \\\"icon\\\" data-icon = \\\"[[icon]]\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"[[icon]]\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span cv-if = \\\"scopeIcon\\\" data-icon = \\\"[[scopeIcon]]\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"[[scopeIcon]]\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<a href = \\\"#method-[[m]]\\\" class = \\\"mono\\\">[[m]]()</a>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\n\\t\\t<div cv-if = \\\"propertyCount\\\">\\n\\t\\t\\t<h3>\\n\\t\\t\\t\\t<span class = \\\"icon\\\" data-icon = \\\"/field.svg\\\">\\n\\t\\t\\t\\t\\t<img src = \\\"/field.svg\\\" />\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\\tproperties\\n\\t\\t\\t</h3>\\n\\t\\t\\t<ul cv-each = \\\"properties:property:p\\\">\\n\\t\\t\\t\\t<li cv-with = \\\"property\\\" cv-carry = \\\"p\\\">\\n\\n\\t\\t\\t\\t\\t<span cv-if = \\\"icon\\\" data-icon = \\\"[[icon]]\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"[[icon]]\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span cv-if = \\\"scopeIcon\\\" data-icon = \\\"[[scopeIcon]]\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"[[scopeIcon]]\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<a href = \\\"#property-[[p]]\\\" class = \\\"mono f\\\">[[p]]</a>\\n\\t\\t\\t\\t\\t<small cv-if = \\\"defaultString\\\" class = \\\"mono\\\">= [[defaultString]]</small>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\n\\t\\t<div cv-if = \\\"constantCount\\\">\\n\\t\\t\\t<h3>\\n\\t\\t\\t\\t<span class = \\\"icon\\\" data-icon = \\\"/constant.svg\\\">\\n\\t\\t\\t\\t\\t<img src = \\\"/constant.svg\\\" />\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\\tcontstants\\n\\t\\t\\t</h3>\\n\\t\\t\\t<ul cv-each = \\\"constants:constant:c\\\">\\n\\t\\t\\t\\t<li cv-with = \\\"constant\\\" cv-carry = \\\"c\\\">\\n\\t\\t\\t\\t\\t<div cv-if = \\\"!overrides\\\" class = \\\"row\\\">\\n\\t\\t\\t\\t\\t\\t<span cv-if = \\\"inherited\\\" data-icon = \\\"/inherit.svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<img src = \\\"/inherit.svg\\\" />\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<span cv-if = \\\"overrides\\\" data-icon = \\\"/override.svg\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/override.svg\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span cv-if = \\\"icon\\\" data-icon = \\\"[[icon]]\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"[[icon]]\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<a href = \\\"#constant-[[c]]\\\" class = \\\"mono\\\">[[c]]</a>\\n\\t\\t\\t\\t\\t<small class = \\\"mono\\\">= [[valueString]]</small>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\t\\t</div>\\n\\n\\t</div>\\n\\n\\t<div cv-if = \\\"methodCount\\\">\\n\\t\\t<h3>\\n\\t\\t\\t<span class = \\\"icon\\\" data-icon = \\\"/function.svg\\\">\\n\\t\\t\\t\\t<img src = \\\"/function.svg\\\" />\\n\\t\\t\\t</span>\\n\\t\\t\\tmethods\\n\\t\\t</h3>\\n\\t\\t<ul class = \\\"methods details\\\" cv-each = \\\"methods:method:m\\\">\\n\\t\\t\\t<li itemprop = \\\"articleSection\\\" cv-with = \\\"method\\\" cv-carry = \\\"m,sourceRoot\\\"  id = \\\"method-[[m]]\\\" class = \\\"entry\\\">\\n\\n\\t\\t\\t\\t<div class = \\\"row pad\\\">\\n\\t\\t\\t\\t\\t<span class = \\\"icon\\\" data-icon = \\\"/function.svg\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/function.svg\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span class = \\\"icon\\\" cv-if = \\\"icon\\\" data-icon = \\\"[[icon]]\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"[[icon]]\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span class = \\\"icon\\\" cv-if = \\\"scopeIcon\\\" data-icon = \\\"[[scopeIcon]]\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"[[scopeIcon]]\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<div cv-if = \\\"!overrides\\\" class = \\\"row\\\">\\n\\t\\t\\t\\t\\t\\t<span cv-if = \\\"inherited\\\" data-icon = \\\"/inherit.svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<img src = \\\"/inherit.svg\\\" />\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<span cv-if = \\\"overrides.0\\\" data-icon = \\\"/override.svg\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/override.svg\\\" />...\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<h4 class = \\\"mono\\\">[[m]]()</h4>\\n\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<span class = \\\"method-types pad-horizontal scope\\\">\\n\\t\\t\\t\\t\\t<span cv-if = \\\"inherited\\\">inherited</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"final\\\">final</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"abstract\\\">abstract</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"public\\\">public</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"protected\\\">protected</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"private\\\">private</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"static\\\">static</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"variadic\\\">variadic</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"generator\\\">generator</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"overrides.0\\\">override</span>\\n\\t\\t\\t\\t\\t<span>method</span>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t<!-- overrides -->\\n\\n\\t\\t\\t\\t<div class = \\\"pad-horizontal pre\\\" cv-bind = \\\"notes.summary\\\"></div>\\n\\t\\t\\t\\t<div class = \\\"pad pre\\\" cv-bind = \\\"notes.body\\\"></div>\\n\\n\\t\\t\\t\\t<div class = \\\"col pad-horizontal\\\">\\n\\n\\t\\t\\t\\t\\t<span class = \\\"row b\\\" cv-if = \\\"overriden\\\">\\n\\t\\t\\t\\t\\t\\t<h5>overrides:</h5>\\n\\t\\t\\t\\t\\t\\t<a cv-link = \\\"/class/[[overrides.0|encodeURI]]\\\" cv-bind = \\\"overrides.0\\\"></a> :: <span cv-bind = \\\"overrides.1\\\"></span>()\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span class = \\\"row b\\\">\\n\\t\\t\\t\\t\\t\\t<h5>class:</h5>\\n\\t\\t\\t\\t\\t\\t<span class = \\\"mono\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span cv-if = \\\"!inherited\\\" cv-bind = \\\"class\\\"></span>\\n\\t\\t\\t\\t\\t\\t\\t<span cv-if = \\\"inherited\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href = \\\"/class/[[encodedClass]]\\\" cv-bind = \\\"class\\\"></a>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span class = \\\"row b\\\" cv-if = \\\"file\\\">\\n\\t\\t\\t\\t\\t\\t<h5>file:</h5>\\n\\t\\t\\t\\t\\t\\t<a href = \\\"[[sourceRoot]][[file]]#L[[lines.0]]-L[[lines.1]]\\\" target = \\\"_blank\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span cv-bind = \\\"file\\\" class = \\\"mono\\\"></span>\\n\\t\\t\\t\\t\\t\\t\\t&nbsp;:&nbsp;<span cv-bind = \\\"lines.0\\\" class = \\\"mono\\\"></span>\\n\\t\\t\\t\\t\\t\\t\\t&nbsp;-&nbsp;<span cv-bind = \\\"lines.1\\\" class = \\\"mono\\\"></span>\\n\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span class = \\\"row b\\\"  cv-if = \\\"parameterCount\\\">\\n\\t\\t\\t\\t\\t\\t<h5>parameters:</h5>\\n\\t\\t\\t\\t\\t\\t<span class = \\\"mono\\\">[[parameters|arLen]]</span>\\n\\t\\t\\t\\t\\t\\t<span class = \\\"icon\\\" data-icon = \\\"/turn.svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<img src = \\\"/turn.svg\\\" />\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<div class = \\\"params\\\" cv-if = \\\"parameters\\\">\\n\\t\\t\\t\\t\\t<div  class = \\\"row s\\\" cv-each = \\\"parameters:param:p\\\" cv-delim = \\\",\\\">\\n\\t\\t\\t\\t\\t\\t<h5></h5>\\n\\t\\t\\t\\t\\t\\t<div class = \\\"param pad-horizontal nowrap\\\" cv-with = \\\"param\\\" cv-carry = \\\"p\\\">\\n\\t\\t\\t\\t\\t\\t\\t<h6 class = \\\"mono\\\"><span cv-if = \\\"variadic\\\">...</span>[[p]]</h6>\\n\\t\\t\\t\\t\\t\\t\\t<p class = \\\"param-types col\\\" classs = \\\"scope\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<span cv-if = \\\"!optional\\\">required</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span cv-if = \\\"optional\\\">optional</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span cv-if = \\\"reference\\\">reference</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span cv-if = \\\"hasDefault\\\">default</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span cv-if = \\\"callable\\\">callable</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span cv-if = \\\"array\\\">array</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span cv-if = \\\"variadic\\\">variadic</span>\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t<small cv-if = \\\"hasDefault\\\" class = \\\"mono\\\">[[defaultString]]</small>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t</div>\\n\\n\\t<div cv-if = \\\"propertyCount\\\">\\n\\t\\t<h3>\\n\\t\\t\\t<span class = \\\"icon\\\" data-icon = \\\"/field.svg\\\">\\n\\t\\t\\t\\t<img src = \\\"/field.svg\\\" />\\n\\t\\t\\t</span>\\n\\t\\t\\tproperties\\n\\t\\t</h3>\\n\\t\\t<ul class = \\\"properties details\\\" cv-each = \\\"properties:property:p\\\">\\n\\t\\t\\t<li itemprop = \\\"articleSection\\\" cv-with = \\\"property\\\" cv-carry = \\\"p,sourceRoot\\\"  id = \\\"property-[[p]]\\\" class = \\\"entry\\\">\\n\\n\\t\\t\\t\\t<div class = \\\"row pad\\\">\\n\\n\\t\\t\\t\\t\\t<span class = \\\"icon\\\" data-icon = \\\"/field.svg\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/field.svg\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span class = \\\"icon\\\" cv-if = \\\"icon\\\" data-icon = \\\"[[icon]]\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"[[icon]]\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span class = \\\"icon\\\" cv-if = \\\"scopeIcon\\\" data-icon = \\\"[[scopeIcon]]\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"[[scopeIcon]]\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span class = \\\"icon\\\" cv-if = \\\"refIcon\\\" data-icon = \\\"[[refIcon]]\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"[[refIcon]]\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span cv-if = \\\"inherited\\\" data-icon = \\\"/inherit.svg\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/inherit.svg\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<h4 class = \\\"mono\\\">\\n\\t\\t\\t\\t\\t\\t[[p]]\\n\\t\\t\\t\\t\\t</h4>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<div class = \\\"pad-horizontal pre\\\" cv-bind = \\\"notes.summary\\\"></div>\\n\\t\\t\\t\\t<div class = \\\"pad pre\\\" cv-bind = \\\"notes.body\\\"></div>\\n\\n\\t\\t\\t\\t<span class = \\\"method-types pad-horizontal scope\\\">\\n\\t\\t\\t\\t\\t<span cv-if = \\\"inherited\\\">inherited</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"final\\\">final</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"abstract\\\">abstract</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"abstract\\\">abstract</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"public\\\">public</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"protected\\\">protected</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"private\\\">private</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"static\\\">static</span>\\n\\t\\t\\t\\t\\t<span>property</span>\\n\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t<div class = \\\"col pad-horizontal\\\">\\n\\n\\t\\t\\t\\t\\t<span class = \\\"row b\\\" cv-if = \\\"overriden\\\">\\n\\t\\t\\t\\t\\t\\t<h5>overrides:</h5>\\n\\t\\t\\t\\t\\t\\t<a cv-link = \\\"/class/[[overrides.0|encodeURI]]\\\" cv-bind = \\\"overrides.0\\\"></a> :: <span cv-bind = \\\"overrides.1\\\"></span>()\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span class = \\\"row b\\\">\\n\\t\\t\\t\\t\\t\\t<h5>class:</h5>\\n\\t\\t\\t\\t\\t\\t<span class = \\\"mono\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span cv-if = \\\"!inherited\\\" cv-bind = \\\"class\\\"></span>\\n\\t\\t\\t\\t\\t\\t\\t<span cv-if = \\\"inherited\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href = \\\"/class/[[encodedClass]]\\\" cv-bind = \\\"class\\\"></a>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span class = \\\"row b\\\" cv-if = \\\"file\\\">\\n\\t\\t\\t\\t\\t\\t<h5>file:</h5>\\n\\t\\t\\t\\t\\t\\t<a href = \\\"[[sourceRoot]][[file]]#L[[lines.0]]-L[[lines.1]]\\\" target = \\\"_blank\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span cv-bind = \\\"file\\\" class = \\\"mono\\\"></span>\\n\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span class = \\\"row b\\\" cv-if = \\\"defaultString\\\">\\n\\t\\t\\t\\t\\t\\t<h5 class = \\\"s\\\">default:</h5>\\n\\t\\t\\t\\t\\t\\t<p><span class = \\\"pre mono\\\" cv-bind = \\\"defaultString\\\"></span></p>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<span class = \\\"pad\\\" cv-bind = \\\"notes.body\\\"></span>\\n\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t</div>\\n\\n\\n\\t<div cv-if = \\\"constantCount\\\">\\n\\t\\t<h3>\\n\\t\\t\\t<span class = \\\"icon\\\" data-icon = \\\"/constant.svg\\\">\\n\\t\\t\\t\\t<img src = \\\"/constant.svg\\\" />\\n\\t\\t\\t</span>\\n\\t\\t\\tcontstants\\n\\t\\t</h3>\\n\\t\\t<ul class = \\\"properties details\\\" cv-each = \\\"constants:constant:c\\\">\\n\\t\\t\\t<li itemprop = \\\"articleSection\\\" cv-with = \\\"constant\\\" cv-carry = \\\"c,sourceRoot\\\"  id = \\\"constant-[[c]]\\\" class = \\\"entry\\\">\\n\\n\\t\\t\\t\\t<div class = \\\"row pad\\\">\\n\\t\\t\\t\\t\\t<span class = \\\"icon\\\" data-icon = \\\"/constant.svg\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/constant.svg\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span class = \\\"icon\\\" cv-if = \\\"icon\\\" data-icon = \\\"[[icon]]\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"[[icon]]\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<h4 class = \\\"mono\\\">[[c]]</h4>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<span class = \\\"pad pre\\\" cv-bind = \\\"notes.summary\\\"></span>\\n\\t\\t\\t\\t<span class = \\\"method-types pad-horizontal scope\\\">\\n\\t\\t\\t\\t\\t<span cv-if = \\\"public\\\">public</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"protected\\\">protected</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"private\\\">private</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"static\\\">static</span>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"inherited\\\">inherited</span>\\n\\t\\t\\t\\t\\t<span>constant</span>\\n\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t<div class = \\\"pad-horizontal pre\\\" cv-bind = \\\"notes.summary\\\"></div>\\n\\t\\t\\t\\t<div class = \\\"pad pre\\\" cv-bind = \\\"notes.body\\\"></div>\\n\\n\\t\\t\\t\\t<div class = \\\"col pad-horizontal\\\">\\n\\t\\t\\t\\t\\t<span class = \\\"row b\\\">\\n\\t\\t\\t\\t\\t\\t<h5>class:</h5>\\n\\t\\t\\t\\t\\t\\t<span class = \\\"mono\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span cv-if = \\\"!inherited\\\" cv-bind = \\\"class\\\"></span>\\n\\t\\t\\t\\t\\t\\t\\t<span cv-if = \\\"inherited\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href = \\\"/class/[[encodedClass]]\\\" cv-bind = \\\"class\\\"></a>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</span>>\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span class = \\\"row b\\\" cv-if = \\\"file\\\">\\n\\t\\t\\t\\t\\t\\t<h5>file:</h5>\\n\\t\\t\\t\\t\\t\\t<a href = \\\"[[sourceRoot]][[file]]#L[[lines.0]]-L[[lines.1]]\\\" target = \\\"_blank\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span cv-bind = \\\"file\\\" class = \\\"mono\\\"></span>\\n\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span  class = \\\"row b\\\" cv-if = \\\"valueString\\\">\\n\\t\\t\\t\\t\\t\\t<h5>value:</h5>\\n\\t\\t\\t\\t\\t\\t<span class = \\\"pre mono\\\" cv-bind = \\\"valueString\\\"></span>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<span class = \\\"pad\\\" cv-bind = \\\"notes.body\\\"></span>\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t</div>\\n\\t<!-- <span class = \\\"pad pre\\\" cv-bind = \\\"dump\\\"></span> -->\\n</div>\\n\"","import { Config } from 'Config';\n\nimport { Repository } from 'curvature/base/Repository';\nimport { RuleSet } from 'curvature/base/RuleSet';\nimport { Router } from 'curvature/base/Router';\n\nimport { View as LayoutView } from './layout/View';\nimport { View as MenuView } from './menu/View';\n\nimport { RemoteFile } from './RemoteFile';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tlet l = 0;\n\n\tconst menu   = new MenuView();\n\tconst pages  = Config.pages;\n\tconst layout = new LayoutView({menu,pages});\n\tconst remote = new RemoteFile(Config.source);\n\n\tremote.readLines((line) => {\n\n\t\tconst json = line.trim();\n\n\t\tif(!json)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst chunk = JSON.parse(json);\n\n\t\tfor(const doc of chunk)\n\t\t{\n\t\t\tif(doc && doc.classname)\n\t\t\t{\n\t\t\t\tlayout.args.docs[ doc.classname ] = doc;\n\t\t\t}\n\t\t}\n\n\t}).catch(error => {\n\t\n\t\tconsole.log(error)\n\t\n\t}).finally(() => {\n\t\tRouter.listen(layout);\t\t\n\n\t\tmenu.args.filter = Router.queryOver({}).q || '';\n\n\t\tRuleSet.add('body', layout);\n\t\tRuleSet.apply();\n\n\t});\n});\n","import { Config } from 'Config';\nimport { View as BaseView } from 'curvature/base/View';\n\nimport { Loader } from './Loader';\n\nexport class Home extends BaseView\n{\n\tconstructor(args)\n\t{\n\t\tsuper(args);\n\n\t\tthis.template = require('./home.tmp');\n\n\t\t// this.args.loader = new Loader;\n\n\t\tthis.args.links   = Config.homeLinks;\n\t\tthis.args.tagline = Config.tagline;\n\t\tthis.args.author  = Config.author;\n\t\tthis.args.project = Config.project;\n\t\t\n\t\tthis.args.copyright  = Config.copyright;\n\n\t\t// this.onTimeout(750, ()=>this.args.loader = '');\n\t}\n}","import { View as BaseView } from 'curvature/base/View';\n\nimport { Loader } from './Loader';\n\nexport class Info extends BaseView\n{\n\tconstructor(args)\n\t{\n\t\tsuper(args);\n\n\t\tthis.template = require('./info.tmp');\n\n\t\tthis.args.loader = new Loader;\n\n\t\tthis.onTimeout(750, ()=>this.args.loader = '');\n\t}\n}","import { View as BaseView } from 'curvature/base/View';\n\nexport class Loader extends BaseView\n{\n\tconstructor(args)\n\t{\n\t\tsuper(args);\n\n\t\tthis.template = '<div class = \"loader\" src = \"/spin.svg\"></div>'\n\t}\n}","import { Repository } from 'curvature/base/Repository';\n\nimport { View as BaseView  } from 'curvature/base/View';\nimport { View as ClassPage } from '../classpage/View';\nimport { View as ModalView } from '../modal/View';\n\nimport { Loader } from './Loader';\n\nimport { Home      } from './Home';\nimport { WhatsThis } from './WhatsThis';\nimport { Info      } from './Info';\n\nimport { Config    } from 'Config';\n\n\nexport class View extends BaseView\n{\n\tconstructor(args)\n\t{\n\t\tsuper(args);\n\n\t\tthis.template     = require('./view.tmp');\n\t\tthis.args.menu    = this.args.menu  || '';\n\t\tthis.args.docs    = this.args.docs  || {};\n\t\tthis.args.pages   = this.args.pages || {};\n\t\tthis.args.modals  = ModalView.get();\n\t\tthis.args.content = '';\n\n\t\tthis.args.loader  = '';\n\n\t\tconst docs  = this.args.docs;\n\t\tconst pages = this.args.pages;\n\t\tconst menu  = this.args.menu;\n\n\t\tconst sync = prop => (v,k,t,d) => {\n\t\t\tif(!menu)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmenu.args[prop][k] = v;\n\n\t\t\tif(d)\n\t\t\t{\n\t\t\t\tdelete menu.args[prop][k];\n\t\t\t}\n\t\t};\n\n\t\tdocs.bindTo(sync('docs'));\n\t\tpages.bindTo(sync('pages'));\n\n\t\tthis.templates = {};\n\n\t\tthis.routes = {\n\n\t\t\t'': (args) => {\n\n\t\t\t\treturn this.loadTemplatePage(\n\t\t\t\t\tObject.assign({}, args, {page:'home'})\n\t\t\t\t);\n\n\t\t\t\treturn new Home;\n\t\t\t}\n\n\t\t\t, 'class/*': (args) => {\n\n\t\t\t\treturn this.loadClassPage(args);\n\n\t\t\t}\n\n\t\t\t, 'page/%page': args => {\n\n\t\t\t\treturn this.loadTemplatePage(args);\n\n\t\t\t}\n\n\t\t\t, false: (args) => {\n\n\t\t\t\tthis.setStatusCode(404);\n\n\t\t\t\tconsole.log(404, args, location.pathname);\n\n\t\t\t\treturn '404 - Page not found.';\n\n\t\t\t}\n\t\t};\n\n\t\tthis.args.menuActive = '';\n\n\t\tthis.args.menu.args.bindTo('active', (v) => {\n\t\t\tthis.args.menuActive = `menu-${v}`;\n\t\t});\n\t}\n\n\tpostRender()\n\t{\n\t\tif(document.body.offsetWidth > 650)\n\t\t{\n\t\t\tthis.args.menu.activate();\n\t\t}\n\t}\n\n\tactivateMenu()\n\t{\n\t\tthis.args.menu.activate();\n\t}\n\n\n\tdeactivateMenu()\n\t{\n\t\tthis.args.menu.deactivate();\n\t}\n\n\tsetStatusCode(code = 200)\n\t{\n\t\tconst metaStatus = document.head.querySelector('[name=\"prerender-status-code\"]');\n\t\tconst httpEquiv  = document.head.querySelector('[http-equiv=\"Status\"]');\n\n\t\tif(metaStatus)\n\t\t{\n\t\t\tmetaStatus.setAttribute('content', code);\n\t\t}\n\t\t\n\t\tif(httpEquiv)\n\t\t{\n\t\t\thttpEquiv.setAttribute('content', code);\n\t\t}\n\t}\n\n\tloadClassPage(args)\n\t{\n\t\tconst classname = decodeURIComponent(args.pathparts.join('\\\\'));\n\t\tconst content   = new ClassPage();\n\n\t\tconst debind = this.args.bindTo('docs', (v,k,t,d) => {\n\n\t\t\tthis.setStatusCode(500);\n\n\t\t\tif(!v || !classname || !v[classname])\n\t\t\t{\n\t\t\t\tthis.setStatusCode(404);\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tObject.assign(\n\t\t\t\tcontent.args\n\t\t\t\t, v[classname]\n\t\t\t\t, {dump: JSON.stringify(v[classname], null, 4)}\n\t\t\t);\n\n\t\t\tconst contentTag = this.findTag('.main-content');\n\n\t\t\tcontentTag && contentTag.scrollTo({top:0});\n\n\t\t\tdocument.activeElement.blur();\n\t\t\t\n\t\t\tthis.setStatusCode(200);\n\t\t});\n\n\t\tthis.args.loader = new Loader;\n\n\t\tcontent.onRemove(debind);\n\n\t\treturn new Promise(accept => {\n\n\t\t\tthis.onTimeout(250, () => {\n\n\t\t\t\tthis.args.loader = '';\n\t\t\t\taccept(content);\n\n\t\t\t});\n\n\t\t});\n\t}\n\n\tloadTemplatePage(args)\n\t{\n\t\tthis.setStatusCode(500);\n\n\t\tconst pageKey = decodeURIComponent(args.page);\n\t\tconst pages   = Config.pages;\n\t\tconst page    = pages[ pageKey ];\n\n\t\tif(!page)\n\t\t{\n\t\t\tthis.setStatusCode(404);\n\n\t\t\tdocument.activeElement.blur()\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setStatusCode(200);\n\n\t\tthis.args.loader  = new Loader;\n\n\t\treturn Repository.request(\n\t\t\tpage.template\n\t\t\t, {}\n\t\t\t, false\n\t\t\t, true\n\t\t\t, {\n\t\t\t\twithCredentials: false\n\t\t\t\t, responseType: 'text'\n\t\t\t\t, headers: {\n\t\t\t\t\t'Accept': 'application/vnd.github.v3.html+json'\n\t\t\t\t}\n\t\t\t}\n\t\t).then(response => {\n\n\t\t\tconst view = new BaseView(Object.assign({}, Config));\n\n\t\t\tview.template = response.response;\n\n\t\t\tthis.templates['readme'] = response.response;\n\n\t\t\tdocument.activeElement.blur();\n\n\t\t\tthis.deactivateMenu();\n\n\t\t\tthis.args.content = '';\n\n\t\t\treturn new Promise(accept => {\n\n\t\t\t\tthis.onTimeout(250, () => {\n\n\t\t\t\t\tthis.args.loader = '';\n\t\t\t\t\taccept(view);\n\n\t\t\t\t});\n\n\t\t\t});\n\n\t\t\treturn view;\n\n\t\t}).catch((error) => {\n\n\t\t\tthis.setStatusCode(500);\n\n\t\t\tconsole.log(error);\n\n\t\t\treturn error.message || 'Unexpected error occurred.'\n\n\t\t});\n\t}\n}\n","import { View as BaseView } from 'curvature/base/View';\n\nimport { Loader } from './Loader';\n\nexport class WhatsThis extends BaseView\n{\n\tconstructor(args)\n\t{\n\t\tsuper(args);\n\n\t\tthis.template = require('./whats-this.tmp');\n\n\t\tthis.args.loader = new Loader;\n\n\t\tthis.onTimeout(750, ()=>this.args.loader = '');\n\t}\n}","module.exports = \"<div class = \\\"home col\\\">\\n\\t<div class = \\\"col\\\">\\n\\t\\t<h1>[[project]]</h1>\\n\\t\\t<b>[[tagline]]</b>\\n\\t\\t<i>Documentation generated by cv2-doc</i>\\n\\t\\t\\n\\t\\t<div>\\n\\t\\t\\t<a cv-link = \\\"/readme\\\">readme</a>\\n\\t\\t\\t• <a cv-link = \\\"/license\\\">license</a>\\n\\t\\t\\t<span cv-each = \\\"links:url:title\\\">\\n\\t\\t\\t\\t• \\n\\t\\t\\t\\t<a cv-link = \\\"[[url]]\\\">[[title]]</a>\\n\\t\\t\\t</span>\\n\\t\\t</div>\\n\\n\\t\\t<div>\\n\\t\\t\\tSelect a class at left to begin.\\n\\t\\t</div>\\n\\n\\t\\t<div>\\n\\t\\t\\t<small>&copy [[copyright]]</small>\\n\\t\\t</div>\\n\\n\\t\\t<div cv-bind = \\\"loader\\\"></div>\\n\\t\\t\\n\\t\\t<div class = \\\"copyright\\\">\\n\\t\\t\\t<small>\\n\\t\\t\\t\\tcv2-doc &copy 2019-2020 Sean Morris.<br />\\n\\t\\t\\t\\t[[author]]/[[project]] &copy [[copyright]].\\n\\t\\t\\t</small>\\n\\t\\t</div>\\n\\t</div>\\n\\n</div>\"","module.exports = \"<div class = \\\"home col\\\">\\n\\t<div class = \\\"col\\\">\\n\\t\\t<h1>Ksqlc</h1>\\n\\t\\t<b>The PHP KSQL Connector</b>\\n\\t\\t<i>Documentation generated by cv2-doc</i>\\t\\t\\n\\t\\t<div>\\n\\t\\t\\t<a href = \\\"/readme\\\">readme</a>\\n\\t\\t\\t•\\n\\t\\t\\t<a href = \\\"/license\\\">license</a>\\n\\t\\t\\t•\\n\\t\\t\\t<a href = \\\"https://github.com/seanmorris/ksqlc\\\" target = \\\"_blank\\\">github</a>\\n\\t\\t\\t•\\n\\t\\t\\t<a href = \\\"http://packagist.org/packages/seanmorris/ksqlc\\\" target = \\\"_blank\\\">packagist</a>\\n\\t\\t</div>\\n\\n\\t\\t<div>\\n\\t\\t\\tSelect a class on the left to begin.\\n\\t\\t</div>\\n\\n\\t\\t<div>\\n\\t\\t\\t<small>&copy 2020 Sean Morris</small>\\n\\t\\t</div>\\n\\n\\t\\t<div cv-bind = \\\"loader\\\"></div>\\n\\t\\t\\n\\t</div>\\n\\n\\t<div class = \\\"copyright\\\">\\n\\t\\t<small>\\n\\t\\t\\tcv2-doc &copy 2020 Sean Morris.<br />\\n\\t\\t\\tSeanMorris/Ksqlc &copy 2020 Sean Morris.\\n\\t\\t</small>\\n\\t</div>\\n</div>\"","module.exports = \"<div class = \\\"layout [[menuActive]]\\\">\\n\\n\\t<div class = \\\"fill\\\">\\n\\t\\t<div\\n\\t\\t\\tclass = \\\"left-bar\\\"\\n\\t\\t\\tcv-bind = \\\"menu\\\"></div>\\n\\t\\t<div\\n\\t\\t\\tclass   = \\\"main-content\\\"\\n\\t\\t\\tcv-bind = \\\"content\\\"\\n\\t\\t\\tcv-on   = \\\"\\n\\t\\t\\t\\tclick:deactivateMenu(event);\\n\\t\\t\\t\\tscroll:deactivateMenu(event):p\\n\\t\\t\\t\\\"></div>\\n\\t</div>\\n\\n\\t<!-- <div class = \\\"footer\\\">cv2-doc&copy 2019 - 2020 Sean Morris</div> -->\\n</div>\\n\\n[[loader]]\\n\\n[[modals]]\"","module.exports = \"<div class = \\\"home col\\\">\\n\\t<div class = \\\"col\\\">\\n\\n\\t\\t<p>this documentation is rendered by</p>\\n\\n\\t\\t<h1>cv2-doc</h1>\\n\\t\\t\\n\\t\\t<p>cv2-doc renders documentation stored in github.</p>\\n\\t\\t<p>cv2-doc can be hosted in <a href = \\\"\\\">github pages.</a></p>\\n\\t\\t<p>cv2-doc is <b>serverless</b>.</p>\\n\\n\\t\\t<p><a href = \\\"http://github.com/seanmorris/cv2-doc\\\">more info</a>\\n\\n\\t\\t<div cv-bind = \\\"loader\\\"></div>\\n\\n\\t</div>\\n</div>\\n\"","import { Router } from 'curvature/base/Router';\n\nimport { View as BaseView } from 'curvature/base/View';\n\nexport class View extends BaseView\n{\n\tconstructor(args)\n\t{\n\t\tsuper(args);\n\n\t\tthis.template = require('./view.tmp');\n\n\t\tthis.args.prefix = '';\n\t\tthis.args.filter = this.args.filter || '';\n\t\tthis.args.active = 'inactive';\n\n\t\tthis.args.filteredClasses = this.args.filteredClasses || [];\n\n\t\tthis.args.docs  = this.args.docs  || {};\n\t\tthis.args.pages = this.args.pages || {};\n\n\t\tthis.classBank = {};\n\n\t\tthis.loaded    = false;\n\n\t\tthis.args.bindTo('docs', (v) => {\n\n\t\t\tthis.args.bindTo('filter', (v) => {\n\n\t\t\t\tconst prefix = this.args.prefix;\n\n\t\t\t\tconst classes = Object.keys(this.args.docs).map(c => {\n\n\t\t\t\t\tif(!this.classBank[c])\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.classBank[c] = this.args.docs[c];\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.args.docs[c].showClassname = c;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this.args.docs[c];\n\t\t\t\t});\n\n\t\t\t\tif(v)\n\t\t\t\t{\n\t\t\t\t\tRouter.setQuery('q', v);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tRouter.setQuery('q', undefined);\n\t\t\t\t}\n\n\t\t\t\tthis.args.filteredClasses = classes.filter(\n\t\t\t\t\tc => {\n\t\t\t\t\t\tif(!v)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn c.showClassname.match(new RegExp(v, 'i'))\n\t\t\t\t\t}\n\t\t\t\t).sort((a,b)=>{\n\n\t\t\t\t\treturn a.showClassname.localeCompare(b.showClassname);\n\n\t\t\t\t});\n\n\t\t\t}, {wait: 300});\n\n\t\t}, {wait: 0});\n\n\t}\n\n\tclick(event, clickedClass = '')\n\t{\n\t\tthis.deactivate();\n\t\t\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\tif(!clickedClass || typeof clickedClass === 'string')\n\t\t{\n\t\t\tRouter.go('/' + clickedClass);\n\t\t\treturn;\n\t\t}\n\n\t\tconst pathname = '/class/' + encodeURIComponent(clickedClass.classname);\n\n\t\tRouter.go(pathname);\n\t}\n\n\tactivate()\n\t{\n\t\tthis.args.active = 'active';\n\t}\n\n\tdeactivate(event)\n\t{\n\t\tthis.args.active = 'inactive';\n\t}\n\n\tencodeURI(x)\n\t{\n\t\tx.replace(' ', '-');\n\n\t\treturn encodeURIComponent(x);\n\t}\n\n\ttoJson(input)\n\t{\n\t\tconsole.log(input);\n\n\t\treturn JSON.stringify(input);\n\t}\n\n\tpageLink(p)\n\t{\n\t\tconst page = this.args.pages[p];\n\n\t\tif(!page)\n\t\t{\n\t\t\treturn '#undefined';\n\t\t}\n\n\t\treturn page.link || `/page/${this.encodeURI(p)}`;\n\t}\n\n\tpageTitle(p)\n\t{\n\t\tconst page = this.args.pages[p];\n\n\t\tif(!page)\n\t\t{\n\t\t\treturn '#undefined';\n\t\t}\n\n\t\treturn page.title || p;\n\t}\n}","module.exports = \"<input cv-bind = \\\"filter\\\" placeholder = \\\"search\\\" cv-on = \\\"focus:activate(event)\\\" />\\n\\n<div class = \\\"menu [[active]]\\\" cv-on = \\\"click:activate(event)\\\" tabindex=\\\"0\\\">\\n\\n\\n\\t<!-- <b class = \\\"pad-horizontal\\\"><small>Pages</small></b> -->\\n\\n\\t<div cv-if = \\\"!filter\\\">\\n\\n\\t\\t<ul cv-each = \\\"pages:page:p\\\">\\n\\n\\t\\t\\t<li class = \\\"pad-horizontal\\\" tabindex=\\\"0\\\">\\n\\t\\t\\t\\t<a class = \\\"row nowrap\\\" cv-link = \\\"[[p|pageLink]]\\\">\\n\\t\\t\\t\\t\\t<span data-icon = \\\"/home.svg\\\" title = \\\"[[p]]\\\">\\n\\t\\t\\t\\t\\t\\t<img cv-attr = \\\"src:page.icon\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t[[p|pageTitle]]\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</li>\\n\\n\\t\\t</ul>\\n\\n<!-- \\t\\t<ul>\\n\\t\\t\\t<li class = \\\"pad-horizontal\\\" tabindex=\\\"0\\\">\\n\\t\\t\\t\\t<a\\n\\t\\t\\t\\t\\tclass = \\\"row nowrap classname\\\"\\n\\t\\t\\t\\t\\thref  = \\\"/class/\\\"\\n\\t\\t\\t\\t\\tcv-on = \\\"click:click(event, class);blur:deactivate(event);\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<span data-icon = \\\"/github.svg\\\" title = \\\"final class\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/github.svg\\\" />\\n\\t\\t\\t\\t\\t</span>\\t\\t\\t\\t\\n\\t\\t\\t\\t\\tsign in with github\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</li>\\n\\t\\t</ul> -->\\n\\n\\t</div>\\n\\n\\t<div cv-if = \\\"filter\\\">\\n\\t\\t<b class = \\\"pad-horizontal\\\"><small>Search</small></b>\\n\\n\\t\\t<small class = \\\"pad-horizontal\\\" cv-if = \\\"!filteredClasses\\\">\\n\\t\\t\\tNo results for \\\"[[filter]]\\\".\\n\\t\\t</small>\\n\\n\\t\\t<ul cv-each = \\\"filteredClasses:class:c\\\">\\n\\t\\t\\t<li class = \\\"pad-horizontal\\\" tabindex=\\\"0\\\">\\n\\t\\t\\t\\t<a\\n\\t\\t\\t\\t\\tclass = \\\"row nowrap classname\\\"\\n\\t\\t\\t\\t\\thref  = \\\"/class/[[class.classname|encodeURI]]\\\"\\n\\t\\t\\t\\t\\tcv-on = \\\"click:click(event, class);blur:deactivate(event);\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"class.final\\\" data-icon = \\\"/final.svg\\\" title = \\\"final class\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/final.svg\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span cv-if = \\\"class.abstract\\\" data-icon = \\\"/abstract.svg\\\" title = \\\"abstract class\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/abstract.svg\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<div cv-if = \\\"class.isPlainClass\\\" data-icon = \\\"/icosahedron.svg\\\" title = \\\"class\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/icosahedron.svg\\\" />\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<span cv-if = \\\"class.isTrait\\\" data-icon = \\\"/trait.svg\\\" title = \\\"trait\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/trait.svg\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span cv-if = \\\"class.isInterface\\\" data-icon = \\\"/interface.svg\\\" title = \\\"interface\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/interface.svg\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t[[class.classname]]\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\n\\t</div>\\n\\n\\t<div cv-if = \\\"!filter\\\">\\n\\t\\t<b class = \\\"pad-horizontal\\\"><small>Classes</small></b>\\n\\t\\t<ul cv-each = \\\"docs:class:c\\\">\\n\\t\\t\\t<li class = \\\"pad-horizontal\\\" tabindex=\\\"0\\\">\\n\\t\\t\\t\\t<a\\n\\t\\t\\t\\t\\tclass = \\\"row nowrap classname\\\"\\n\\t\\t\\t\\t\\thref  = \\\"/class/[[class.classname|encodeURI]]\\\"\\n\\t\\t\\t\\t\\tcv-on = \\\"click:click(event, class);blur:deactivate(event);\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<span cv-if = \\\"class.final\\\" data-icon = \\\"/final.svg\\\" title = \\\"final class\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/final.svg\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span cv-if = \\\"class.abstract\\\" data-icon = \\\"/abstract.svg\\\" title = \\\"abstract class\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/abstract.svg\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<div cv-if = \\\"class.isPlainClass\\\" data-icon = \\\"/icosahedron.svg\\\" title = \\\"class\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/icosahedron.svg\\\" />\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<span cv-if = \\\"class.isTrait\\\" data-icon = \\\"/trait.svg\\\" title = \\\"trait\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/trait.svg\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\n\\t\\t\\t\\t\\t<span cv-if = \\\"class.isInterface\\\" data-icon = \\\"/interface.svg\\\" title = \\\"interface\\\">\\n\\t\\t\\t\\t\\t\\t<img src = \\\"/interface.svg\\\" />\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t[[class.classname]]\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t</div>\\n\\n</div>\\n\"","import { View as BaseView } from 'curvature/base/View';\n\nexport class Modal extends BaseView\n{\n\tconstructor(args)\n\t{\n\t\tsuper(args);\n\n\t\tthis.args.modals = this.args.modals || [];\n\n\t\tthis.template = require('./modal.tmp');\n\t}\n}\n","import { View as BaseView } from 'curvature/base/View';\n\nexport class View extends BaseView\n{\n\tconstructor(args)\n\t{\n\t\tsuper(args);\n\n\t\tthis.args.modals = this.args.modals || [];\n\n\t\tthis.template = require('./view.tmp');\n\t}\n\n\tstatic get()\n\t{\n\t\treturn this.instance = this.instance || new this;\n\t}\n}\n","module.exports = \"<div class = \\\"modal-window\\\">Modal!</div>\"","module.exports = \"<div class = \\\"modals\\\" cv-each = \\\"modals:modal:m\\\">[[modal]]</div>\"","/* jshint ignore:start */\n(function() {\n  var WebSocket = window.WebSocket || window.MozWebSocket;\n  var br = window.brunch = (window.brunch || {});\n  var ar = br['auto-reload'] = (br['auto-reload'] || {});\n  if (!WebSocket || ar.disabled) return;\n  if (window._ar) return;\n  window._ar = true;\n\n  var cacheBuster = function(url){\n    var date = Math.round(Date.now() / 1000).toString();\n    url = url.replace(/(\\&|\\\\?)cacheBuster=\\d*/, '');\n    return url + (url.indexOf('?') >= 0 ? '&' : '?') +'cacheBuster=' + date;\n  };\n\n  var browser = navigator.userAgent.toLowerCase();\n  var forceRepaint = ar.forceRepaint || browser.indexOf('chrome') > -1;\n\n  var reloaders = {\n    page: function(){\n      window.location.reload(true);\n    },\n\n    stylesheet: function(){\n      [].slice\n        .call(document.querySelectorAll('link[rel=stylesheet]'))\n        .filter(function(link) {\n          var val = link.getAttribute('data-autoreload');\n          return link.href && val != 'false';\n        })\n        .forEach(function(link) {\n          link.href = cacheBuster(link.href);\n        });\n\n      // Hack to force page repaint after 25ms.\n      if (forceRepaint) setTimeout(function() { document.body.offsetHeight; }, 25);\n    },\n\n    javascript: function(){\n      var scripts = [].slice.call(document.querySelectorAll('script'));\n      var textScripts = scripts.map(function(script) { return script.text }).filter(function(text) { return text.length > 0 });\n      var srcScripts = scripts.filter(function(script) { return script.src });\n\n      var loaded = 0;\n      var all = srcScripts.length;\n      var onLoad = function() {\n        loaded = loaded + 1;\n        if (loaded === all) {\n          textScripts.forEach(function(script) { eval(script); });\n        }\n      }\n\n      srcScripts\n        .forEach(function(script) {\n          var src = script.src;\n          script.remove();\n          var newScript = document.createElement('script');\n          newScript.src = cacheBuster(src);\n          newScript.async = true;\n          newScript.onload = onLoad;\n          document.head.appendChild(newScript);\n        });\n    }\n  };\n  var port = ar.port || 9485;\n  var host = br.server || window.location.hostname || 'localhost';\n\n  var connect = function(){\n    var connection = new WebSocket('ws://' + host + ':' + port);\n    connection.onmessage = function(event){\n      if (ar.disabled) return;\n      var message = event.data;\n      var reloader = reloaders[message] || reloaders.page;\n      reloader();\n    };\n    connection.onerror = function(){\n      if (connection.readyState) connection.close();\n    };\n    connection.onclose = function(){\n      window.setTimeout(connect, 1000);\n    };\n  };\n  connect();\n})();\n/* jshint ignore:end */\n"]}